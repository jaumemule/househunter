(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{415:function(e,t,i){"use strict";i.r(t);i(399),i(574),i(554),i(374),i(341),i(354),i(343),i(358),i(351),i(356),i(370),i(346),i(360),i(350),i(359),i(342);var s=i(100),a=i.n(s),n=i(386),o=i.n(n),r=l;function l(){}l.format=function(e,t){var i=e.toString();return i.length>3&&(i=i.replace(/(\d)(?=(?:[0-9]{3})+\b)/gm,"$1"+t)),i},l.parse=function(e){var t=e.toString();return t.length>3&&(t=t.replace(/[.,]/gm,"")),parseInt(t,10)};var d=i(549),c=i(560),h=i(173),p=i.n(h);const u=38,m=40,g=13,f=37,v=39,b=27,w=8,$=187,y=107,k=16,C=17,S=224,T=91;class E{constructor(e){this.$element=a()(e),this.$form=this.$element.closest("form"),this.isAsync=this.$element[0].hasAttribute("data-autocomplete-is-async"),this.$input=this.$element.find("[data-autocomplete-input]"),this.$suggestions=this.$element.find("[data-autocomplete-suggestions]"),this.$list=this.$element.find("[data-autocomplete-list]"),this.$output=this.$element.find("[data-autocomplete-output]"),this.$clearHandle=this.$element.find("[data-autocomplete-clear]"),this.$plusHandle=this.$element.find("[data-autocomplete-plus]"),this.itemTemplate=this.$element.find("[data-autocomplete-item-template]").html(),this.minLength=this.$input.attr("data-autocomplete-minlength")||3,this.queryObjectIndex=0,this.query="",this.isOpen=!1,this.options=[],this.selectedIndex=-1,this.$autoCompleteUrl=this.$element.find("[data-autocomplete-url]"),this.$autoCompleteAltUrl=this.$element.find("[data-autocomplete-alt-url]"),this.url=this.$autoCompleteUrl.val(),this.altUrl=this.$autoCompleteAltUrl.val(),this.activeOptions=[],this.request=null,this.requestCount=0,this.firstSubmitAttempt=!1,this.trackComponentSelector=this.$element.attr("data-track-component-selector"),this.trackComponentValue=this.$element.attr("data-track-component-value"),this.context=this.$element.attr("data-autocomplete-context"),this.close(),this.bindEvents(),e.autoComplete=this,this.altSuggestionsIsOpen=!1,this.noSuggestionsFoundIsOpen=!1,this.separator=this.$element.attr("data-thousand-separator"),this.$radius=a()("#Straal"),this.$hiddenDivPlusIcon=this.$element.find("[data-autocomplete-hidden-div-plus-icon]")[0],this.setActiveOptions(),this.isZoekSuggestionPage=window.location.pathname.includes("zoeksuggestie")}bindEvents(){const e=this;e.$plusHandle.on("click",()=>{e.$input.focus(),e.addPlus(e),e.synchroniseActiveOptions(),e.$plusHandle.addClass("is-hidden")}),e.$form.on("submit",t=>{if(e.trackedComponentAllowsSubmit()&&!e.isValidLocation()&&!e.firstSubmitAttempt)return t.preventDefault(),e.searchAlternativeSuggestions(),e.altSuggestionsIsOpen=!0,!1}),e.$form.on("invalidlocation",()=>{e.$suggestions.addClass("has-no-suggestions"),e.isOpen||e.open()}),e.$input.on("blur",()=>{setTimeout(()=>e.closeIfValidLocation(),400)}),a()(document).on("resultsUpdated",()=>{this.$input.val()&&this.renderPlusIconButton()}),e.$input.on("keydown",p()(t=>e.onKeyDown(e,t),250)),e.$input.on("keyup",p()(t=>e.onKeyUp(e,t),250)),this.bindAutoCompleteItemEvent(),e.$clearHandle.on("mousedown",(function(e){e.preventDefault()})).on("click",(function(){e.reset(),e.removePlusIconButton()})),e.$input.on("focus",()=>{e.setDirty()}),e.$input.on("focusout",()=>{1===this.$input.val().replace(/(\s+)?\+(\s+)?/g,"+").split("+").length&&(e.$element.trigger("searchQuerySet",{multiple:!1}),e.$element.removeClass("disable-radio-filter"))}),e.$element.on("reset",()=>e.reset()),e.$autoCompleteUrl.on("change",()=>{e.url=e.$autoCompleteUrl.val()}),e.$autoCompleteAltUrl.on("change",()=>{e.altUrl=e.$autoCompleteAltUrl.val()}),e.$element.on("searchqueryupdated",()=>{e.isAsync&&e.$input.blur(),e.activeOptions.map((t,i)=>{e.googleTagManagerLogger({action:e.context,label:`${e.activeOptions[i].description}=${e.activeOptions[i].eventValue}`})})})}bindAutoCompleteItemEvent(){const e=this;e.$list.find("[data-autocomplete-list-item]").on("click",t=>{const i=a()(t.currentTarget).index();e.selectItem(i),e.$input.focus(),this.triggerSearchUpdate({isOpen:e.isOpen}),e.close()})}onKeyUp(e,t){switch(e.setDirty(),t.keyCode){case k:case f:case v:break;case u:e.isOpen&&e.selectPrevItem();break;case m:e.isOpen&&e.selectNextItem();break;case w:e.altSuggestionsIsOpen=!1,e.synchroniseActiveOptions(),e.search(),e.removePlusIconButton();break;case b:e.synchroniseActiveOptions(),e.close();break;case g:e.altSuggestionsIsOpen||(e.addNewActiveOption=!0,e.close());break;case $:case y:e.altSuggestionsIsOpen||(e.addNewActiveOption=!0,e.close(),e.removePlusIconButton());break;case C:case T:case S:e.altSuggestionsIsOpen&&(e.altSuggestionsIsOpen=!1,e.close());break;default:e.altSuggestionsIsOpen?(e.altSuggestionsIsOpen=!1,e.close(),e.removePlusIconButton()):(e.synchroniseActiveOptions(),e.search(),e.setDummyOption(),e.removePlusIconButton())}}onKeyDown(e,t){switch(t.keyCode){case g:return e.firstSubmitAttempt?(this.triggerSearchUpdate(),!1):e.selectedIndex>=0?(e.altSuggestionsIsOpen=!1,this.triggerSearchUpdate({isOpen:e.isOpen}),!1):e.options.length&&e.options[0].isExact&&!e.altSuggestionsIsOpen?(e.selectItem(0),e.altSuggestionsIsOpen=!1,this.triggerSearchUpdate({isOpen:e.isOpen}),!1):e.request&&"pending"===e.request.state()?(e.requestCount++,e.altSuggestionsIsOpen=!1,this.triggerSearchUpdate(),!1):(e.searchAlternativeSuggestions(),e.altSuggestionsIsOpen=!0,!1);case $:case y:return e.selectedIndex>=0?(e.altSuggestionsIsOpen=!1,e.addPlus(this),!1):e.options.length&&e.options[0].isExact&&!e.altSuggestionsIsOpen?(e.selectItem(0),e.altSuggestionsIsOpen=!1,e.addPlus(this),!1):e.request&&"pending"===e.request.state()?(e.requestCount++,e.altSuggestionsIsOpen=!1,e.addPlus(this),!1):e.$input.val().length>0?(e.altSuggestionsIsOpen=!1,e.addPlus(this),!1):(e.searchAlternativeSuggestions(),e.altSuggestionsIsOpen=!0,!1)}}triggerSearchUpdate(e){this.updateSearcHiddenFieldWithValidOptions(),this.cleanNotMatchedValuesFromActiveOptions(),this.$element.trigger("searchqueryupdated",e),this.$element.trigger("requestSearchResult",e)}cleanNotMatchedValuesFromActiveOptions(){this.activeOptions=this.activeOptions.filter(e=>0!==e.id)}updateSearcHiddenFieldWithValidOptions(){let e="";this.activeOptions.map((t,i)=>{0!==t.id&&(e+=0===i?t.id:","+t.id)}),this.$output[0].value=e}trackedComponentAllowsSubmit(){if(void 0===this.trackComponentSelector)return!0;let e=a()(this.trackComponentSelector);if(1!==e.length)return!0;let t=e.val();return this.trackComponentValue===t}renderPlusIconButton(){const e=this,t=e.$input[0].value;e.$hiddenDivPlusIcon.innerText=t,e.$hiddenDivPlusIcon.clientWidth>=e.$input[0].clientWidth-50||"Nederland"===t?e.removePlusIconButton():(e.$plusHandle[0].style.left=e.$hiddenDivPlusIcon.clientWidth+25+"px",e.$plusHandle.removeClass("is-hidden"))}removePlusIconButton(){this.$plusHandle.addClass("is-hidden")}reset(){this.$element.trigger("searchQuerySet",{multiple:!1}),this.$input.val(""),this.synchroniseActiveOptions(),this.setDirty(),this.close()}addPlus(e){e.$input.val(e.$input.val().replace(/^\s+|\s?\+?\s+$/g,"")+" + ");const t=e.$input.val().length;e.$input.selectionStart=t,e.$input.selectionEnd=t,this.googleTagManagerLogger({action:"click_addlocation",label:"click_addlocation"})}setActiveOptions(){const e=this,t=e.$input.attr("data-autocomplete-parent-id"),i=e.$input.attr("data-autocomplete-niveau-id"),s=e.$input.val(),a=s.replace(/(\s+)?\+(\s+)?/g,"+").split("+"),n=e.$output.val().split(",");a.forEach((s,a)=>{e.activeOptions[a]={value:s,id:n[a],parentId:t,niveauId:i}}),""!==s&&this.renderPlusIconButton(),a.length>1&&(e.$element.trigger("searchQuerySet",{multiple:!0}),e.$element.addClass("disable-radio-filter"))}setDirty(){const e=this;""===e.$input.val()?e.$element.removeClass("is-dirty"):e.$element.addClass("is-dirty")}getQueryObjectOnPosition(){const e=this,t=e.$input.val().split("+"),i=e.getCaretPosition();let s,a=0;for(var n=0;n<t.length;n++){if(a+=t[n].length+1,a>i){s=e.activeOptions[n],e.queryObjectIndex=n;break}}return s}getQuery(){const e=this;return e.caretPositionIsOnEnd()?(e.getQueryObjectOnPosition(),e.getLastValue()):e.getQueryObjectOnPosition().value}getCaretPosition(){return this.$input[0].selectionStart}caretPositionIsOnEnd(){return this.getCaretPosition()===this.$input.val().length}open(){this.isOpen=!0,this.$element.addClass("is-open"),this.$list.addClass("is-open")}close(){this.isOpen=!1,this.altSuggestionsIsOpen=!1,this.noSuggestionsFoundIsOpen=!1,this.$element.removeClass("is-open"),this.$list.removeClass("is-open")}closeIfValidLocation(){const e=this;e.noSuggestionsFoundIsOpen||e.close()}shouldExpandIfMobile(e){return(window.innerWidth>0?window.innerWidth:screen.width)<=760&&""!==e[e.length-1]}shouldNotExpandIfNotMultiplePlaces(e){return e.length<=1||2===e.length&&""===e[e.length-1]}synchroniseActiveOptions(){const e=this,t=e.$input.val().replace(/(\s+)?\+(\s+)?/g,"+").split("+");"makelaar-searchresults"===window.gtmDataLayer[0].pagetype?e.$element.trigger("searchQuerySet",{disableRadioFilter:!0}):e.shouldExpandIfMobile(t)?(e.$element.trigger("searchQuerySet",{disableRadioFilter:!0}),e.isZoekSuggestionPage||e.$element.addClass("disable-radio-filter")):e.shouldNotExpandIfNotMultiplePlaces(t)?(e.$element.trigger("searchQuerySet",{disableRadioFilter:!1}),e.$element.removeClass("disable-radio-filter")):(e.$element.trigger("searchQuerySet",{disableRadioFilter:!0}),e.isZoekSuggestionPage||e.$element.addClass("disable-radio-filter"));const i=e.activeOptions.map((e,i)=>t[i]&&t[i].trim()===e.value?e:{});let s=[];e.activeOptions.forEach((e,a)=>{i[a]===e?s.push(e):t[a]&&s.push({id:0,value:t[a]})}),e.activeOptions=s;const a=!o()(e.activeOptions,i);e.$output.val(""),e.firstSubmitAttempt=!1,s.forEach((t,i)=>{0===i?e.$output[0].value=t.id:e.$output[0].value+=","+t.id}),""===t[t.length-1]&&(e.addNewActiveOption=!0),a&&e.setDummyOption()}getLastValue(){const e=this.$input[0].value.replace(/(\s+)?\+(\s+)?/g,"+").split("+");return e[e.length-1]}constructSuggestQueryUrl(e,t){const i=this.$output[0].value;return window.location.pathname.match(/\/.*?\/zoeksuggestie/)?e.replace("{queryPlaceholder}",t).replace("{niveauPlaceholder}","").replace("{parentPlaceholder}",""):e.replace("{queryPlaceholder}",t).replace("{identifierPlaceholder}",i)}search(){const e=this;if(e.$suggestions.removeClass("has-no-suggestions").removeClass("has-alt-suggestions"),e.query=e.getQuery(),e.query.length<e.minLength)return void e.close();e.selectedIndex=-1,e.options=[];const t=e.constructSuggestQueryUrl(e.url,e.query);e.$element.addClass("is-updating"),e.request=a.a.ajax({url:t,requestCount:++e.requestCount,dataType:"jsonp",success:t=>{e.requestCount===this.requestCount&&(e.options=e.transformResponse(t),e.renderList(),e.bindAutoCompleteItemEvent(),e.options.length?e.open():e.close())},error:t=>{e.options=[],e.renderList(),d.a.log(t,{function:"search"})}})}searchAlternativeSuggestions(){const e=this;if(e.query.length<e.minLength)return void e.close();e.selectedIndex=-1,e.options=[];const t=e.constructSuggestQueryUrl(e.altUrl,e.query);e.$element.addClass("is-updating"),e.request=a.a.ajax({url:t,requestCount:++e.requestCount,dataType:"jsonp",success:t=>{e.requestCount===this.requestCount&&(e.options=e.transformResponse(t),e.renderList(),e.noSuggestionsFoundIsOpen=!0,e.options.length?(e.$suggestions.addClass("has-alt-suggestions"),e.bindAlternativeSuggestionsItemClick()):(e.firstSubmitAttempt=!0,e.$suggestions.addClass("has-no-suggestions")),e.open())},error:()=>{e.options=[],e.renderList()}})}bindAlternativeSuggestionsItemClick(){const e=this;e.$suggestions.find("[data-autocomplete-list-item]").on("click",t=>{const i=a()(t.currentTarget).index();e.selectItem(i),e.$input.focus(),this.triggerSearchUpdate({isOpen:e.isOpen}),e.close()})}renderList(){const e=this;let t=a()("<ul>");e.selectedIndex=-1,e.options.forEach((i,s)=>{i.id=i.id||e.$list[0].id+"-option"+s,3!==i.niveauId&&5!==i.niveauId&&15!==i.niveauId&&(i.parentId="");let a=e.renderOption(i);t.append(a)});const i=t.html();return e.$list.html(i),e.$element.removeClass("is-updating"),i}renderOption(e){let t=this.itemTemplate;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t=t.replace("{"+i+"}",e[i]));return t=this.highlightMatches(t),t}selectPrevItem(){const e=this;let t=e.selectedIndex-1;return t<0&&(t=e.options.length-1),e.selectItem(t)}selectNextItem(){let e=this.selectedIndex+1;return e>this.options.length-1&&(e=0),this.selectItem(e)}selectItem(e){const t=this,i=t.options[e];t.isDirty=!o()(t.selectedOption,i),t.selectedOption=i,t.selectedIndex=e;const s=t.$list.children();s.removeClass("is-selected"),s.eq(e).addClass("is-selected");const a={id:i.identifier,value:i.displayValue,parentId:i.parentId,niveauId:i.niveauId,description:i.description,eventValue:i.value};let n;n=t.activeOptions.length>0?t.queryObjectIndex:0,t.activeOptions[n]=a,t.updateActiveOptions(),t.renderPlusIconButton()}setDummyOption(){const e=this,t=e.$input.val(),i=t.replace(/(\s+)?\+(\s+)?/g,"+").split("+"),s=i[i.length-1];if(t.length>=e.minLength&&(e.isDirty=!0),!s||e.activeOptions.length&&s.trim()===e.activeOptions[e.activeOptions.length-1].value)return;const a={id:0,value:s.replace(/^\s+/g,"")};if(e.addNewActiveOption)e.activeOptions.push(a),e.addNewActiveOption=!1;else{const t=e.activeOptions.length>0?e.activeOptions.length-1:0;e.activeOptions[t]=a}e.updateActiveOptions()}updateActiveOptions(){const e=this;e.activeOptions.forEach((t,i)=>{0===i?(e.$input[0].value=t.value,e.$output[0].value=t.id):(e.$input[0].value+=" + "+t.value,e.$output[0].value+=","+t.id)})}googleTagManagerLogger(e){const t=e.action,i=e.label,s=this.$radius.val()||null;(new c.a).log({event:"GAEvent",eventCategory:"interactions-search",eventAction:t,eventLabel:i,eventValue:s,nonInteraction:!1})}transformResponse(e){const t=this,i=[];return e.Results.forEach(e=>{let s=e.GeoIdentifier,a=e.Display.Naam.replace("+"," "),n=e.Display.Niveau?e.Display.Niveau+" ":"",o=e.Display.Parent?", "+e.Display.Parent:"",l=e.Aantal?r.format(e.Aantal,t.separator):"",d=n+a+o;i.push({identifier:s,value:a,label:a,description:e.Display.NiveauLabel+o,count:l,niveauId:e.Niveau,parentId:e.Parent,displayValue:d,isExact:e.Exact})}),i}highlightMatches(e){let t=a()("<temp>").html(e),i=this.query.replace(/[()]/gi,"");return i=new RegExp(i,"ig"),t.find("[data-autocomplete-match]").each((e,t)=>{let s=a()(t),n=s.html().replace(i,e=>'<span class="is-match">'+e+"</span>");s.html(n)}),t.html()}isValidLocation(){return!(!this.options.length||!this.options[0].isExact||this.altSuggestionsIsOpen)||"0"!==this.$output.val()}}a()("[data-autocomplete]").each((e,t)=>new E(t));i(379),i(101),i(344),i(377),i(352);var O=i(347),I=i.n(O),x=i(345),L=i.n(x),P=(i(171),i(348)),A=i.n(P);function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function M(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){L()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const D="data-advertisements-lazy-type",_=`[data-advertisements]:not([${D}="event"])`,R=`[data-advertisements][${D}="event"]`,F="data-advertisement-adunit-path",V=a()(window),H={home:{mobile:{fetching:25,rendering:20},tablet:{fetching:5,rendering:5},desktop:{fetching:5,rendering:5}},searchresults:{mobile:{fetching:15,rendering:10},tablet:{fetching:20,rendering:15},desktop:{fetching:20,rendering:15}},object:{mobile:{fetching:20,rendering:15},tablet:{fetching:15,rendering:10},desktop:{fetching:15,rendering:10}},kaart:{mobile:{fetching:25,rendering:20},tablet:{fetching:20,rendering:15},desktop:{fetching:20,rendering:15}}};class z{constructor(e,t,i,s="body"){if(!e.length)return;this.initializeGoogleTagListeners(),this.$elements=e,this.targetingCategories=JSON.parse(a()(s).find("[data-advertisement-targeting]").html()||"{}"),"function"!=typeof window.googletag.pubads&&this.$elements.addClass("dfp-display-blocked hidden");const n=this.$elements[0].getAttribute(F).includes("koop");t?this.prepareSlot(this.$elements,i):window.googletag.cmd.push(()=>{this.prepareSlot(this.$elements,i),this.enableAdService(n)})}prepareSlot(e,t){[].forEach.call(e,e=>{const i=this.getAdConfig(e);e.id=i.id,i.lazyType===t&&this.getCategoriesAndPushSlot(e,i)})}enableAdService(e){const t=this.getDeviceType(),i=this.getPageType(),s=e&&H[i]?H[i][t].fetching:25,a=e&&H[i]?H[i][t].rendering:20;window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().enableLazyLoad({fetchMarginPercent:s,renderMarginPercent:a,mobileScaling:2});"europe"===this.targetingCategories.soortaanbod&&window.googletag.pubads().enableSingleRequest(),window.googletag.enableServices()}getAdConfig(e){const t=a()(e);return{id:t.attr("id")||"ad-"+(this.$elements.index(t)+1),adunitpath:t.attr(F),sizemapping:JSON.parse(t.attr("data-advertisement-size-mapping")),sizedefault:JSON.parse(t.attr("data-advertisement-size-default")),categoriesUrl:t.attr("data-advertisement-categories-url"),lok:t.attr("data-advertisement-lok"),lazyType:t.attr(D)||"scroll",lazyRefreshInterval:t.attr("data-advertisements-lazy-refresh-interval")}}getCategoriesAndPushSlot(e,t){var i=this;return A()(I.a.mark((function s(){var n,o,r,l;return I.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(n=a()(e)).hasClass("dfp-display-triggered")){s.next=3;break}return s.abrupt("return");case 3:return n.addClass("dfp-display-triggered").removeClass("dfp-display-blocked hidden"),s.next=6,M(M({},i.targetingCategories),{lok:t.lok});case 6:o=s.sent,r=i.buildUnitTag(t),i.setAdomikReportingTargeting(r),l=i.setCategoriesOnAdUnit(r,o),i.pushAdSlot(t,l);case 11:case"end":return s.stop()}}),s)})))()}buildUnitTag(e){const t=this.setAdUnit(e);if(void 0!==t)return t}getViewportKeyValuePair(){const e=window.innerWidth,t="homepage_web_viewport_supports";return e<760?null:e>=1020?{widthKey:t,value:"billboard"}:{widthKey:t,value:"leaderboard"}}setCategoriesOnAdUnit(e,t){for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.setTargeting(i,t[i]);const i=this.getViewportKeyValuePair();return i&&e.setTargeting(i.widthKey,i.value),e}pushAdSlot(e,t){window.googletag.cmd.push(()=>{window.googletag.display(e.id),this.refreshAdSlot(t)})}setAdUnit(e){if("function"!=typeof window.googletag.defineSlot)return;let t=window.googletag.defineSlot(e.adunitpath,e.sizedefault,e.id).defineSizeMapping(e.sizemapping).setCollapseEmptyDiv(!0).addService(window.googletag.pubads());return e.lazyRefreshInterval&&t.setTargeting("refresh",e.lazyRefreshInterval),t}setAdomikReportingTargeting(e){const t=window.Adomik||{};void 0!==t.randomAdGroup&&(e.setTargeting("ad_group",t.randomAdGroup()),e.setTargeting("ad_h",t.hours))}slotRenderedHandler(e){const t=e.slot.getSlotId(),i=a()("#"+t.getDomId());i.find("div[id^=google_ads_iframe]").length>0&&this.addClassNamesToSlot(i,e.isEmpty)}slotViewableHandler(e){const t=e.slot,i=parseInt(t.getTargeting("refresh"),10);if("number"==typeof i&&i>0){this.refreshTimeout=this.refreshTimeout||{};const e=t.getSlotElementId();this.refreshTimeout[e]=window.setTimeout(()=>{this.updateUnitPathAndRefreshSlot(e,t)},1e3*i)}}updateUnitPathAndRefreshSlot(e,t,i=!0){let s;this.$elements.each((a,n)=>{if(n.id==e){s=n,i&&this.updateAdUnitPathOnRefresh(n);const e=this.getAdConfig(s);this.destroySlots([t])&&this.getCategoriesAndPushSlot(t,e)}})}updateAdUnitPathOnRefresh(e){const t=e.getAttribute(F);if("r0"==t.split("_").pop()){const i=t.replace(/_r0/g,"_r1");e.setAttribute(F,i)}}refreshAdSlot(e){window.googletag.pubads().refresh([e])}addClassNamesToSlot(e,t){let i;i=a()(window).width()>=760?"slot-ad-desktop":"slot-ad-non-desktop",t&&(i+=" dfp-display-empty"),e.addClass("advertisement dfp-callback-successful "+i),a()(".search-ad").length&&e.parents(".search-ad").addClass("search-ad--loaded")}destroySlots(e){return window.googletag.destroySlots(e)}static populateCustomEvents(e){let t=new Set;return e.each((e,i)=>{let s=a()(i).attr("data-advertisements-event-trigger")||null;null!=s&&t.add(s)}),Array.from(t).join(" ")}static destroyAllSlots(){a()("[data-advertisements-async]").removeClass("dfp-display-triggered"),"function"==typeof window.googletag.destroySlots&&window.googletag.destroySlots()}resumeRefreshInterval(e){const t=this.getSlotByElementId(e);this.refreshTimeout&&this.refreshTimeout[e]&&this.refreshAdSlot(t)}pauseRefreshInterval(e){this.refreshTimeout&&this.refreshTimeout[e]&&window.clearTimeout(this.refreshTimeout[e])}getSlotByElementId(e){return window.googletag.pubads().getSlots().find(t=>t.getSlotElementId()===e)}initializeGoogleTagListeners(){window.googletag&&"object"==typeof window.googletag.cmd&&window.googletag.cmd.push(()=>{window.googletag.pubads().addEventListener("slotRenderEnded",e=>{this.slotRenderedHandler(e)}),window.googletag.pubads().addEventListener("impressionViewable",e=>{this.slotViewableHandler(e)}),a()(window).on("media-viewer-fotos-opened-event",()=>{a()("[data-media-viewer-advertisements] [data-advertisements]").attr("id")}),a()(window).on("media-viewer-ads-resized",()=>{const e=a()("[data-media-viewer-advertisements] [data-advertisements]").attr("id");p()(()=>{const t=this.getSlotByElementId(e);this.updateUnitPathAndRefreshSlot(e,t,!1)},500)()}),a()(window).on("media-viewer-closed-event",()=>{a()("[data-media-viewer-advertisements] [data-advertisements]").attr("id");this.observer&&this.observer.disconnect()})})}getDeviceType(){const e=navigator.userAgent.toLowerCase();if(/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e))return"tablet";let t=!1;var i;return i=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(t=!0),!0===t?"mobile":"desktop"}getPageType(){return void 0===window.gtmDataLayer?null:window.gtmDataLayer[0].pagetype}}if(a()(_).length>0&&new z(a()(_),!1,"scroll"),a()(R).length>0){const e=z.populateCustomEvents(a()(R));V.one(e,e=>new z(a()(`${R}[data-advertisements-event-trigger="${e.type}"]`),!1,"event"))}a()("[data-advertisements-async]").length>0&&a()(document).on("resultsUpdated",()=>{z.destroyAllSlots(),new z(a()("[data-advertisements-async]"),!0,"scroll")});function B(e){this.$element=a()(e),this.version=e.getAttribute("data-soort-notification-cookie-version"),this.soortAanbod=e.getAttribute("data-soort-notification-cookie-soortaanbod"),this.cookieName="notificationAcknowledged_sa_"+this.version,this.$closeButton=this.$element.find("[data-soort-notification-cookie-close]"),this.bindEventListeners()}B.prototype.bindEventListeners=function(){this.$closeButton.on("click",e=>this.clickHandler(e))},B.prototype.clickHandler=function(e){e.preventDefault(),this.acknowledgeNotification(),a()(document).find("[data-soort-notification-cookie]").toArray().forEach(e=>a()(e).addClass("is-acknowledged"))},B.prototype.acknowledgeNotification=function(){this.setCookie()},B.prototype.setCookie=function(){var e=new Date;e.setFullYear(e.getFullYear()+1);var t=this.cookieName+"="+this.version+"; expires="+e.toGMTString()+"; path= /";return document.cookie=t,t},a()("[data-soort-notification-cookie]").each((function(e,t){return new B(t)}));var U=".js?rnd="+Math.random().toString();function N(e){var t=e.getAttribute("data-notification-status-area"),i=e.getAttribute("data-notification-status-html"),s=e.getAttribute("data-notification-status-insert-top");this.statusDomain=e.getAttribute("data-funda-status-domain"),window.statusScriptSettings={options:{},site:"funda"},window.statusScriptSettings.options[t]=!0,i&&(window.statusScriptSettings.options.html=i),s&&"true"==s&&(window.statusScriptSettings.options.insertTop=!0),this.loadStatus()}N.prototype.loadStatus=function(){var e=document.createElement("script"),t=document.body.appendChild(e),i="/js/"+window.statusScriptSettings.site+U;e.setAttribute("defer","defer"),e.setAttribute("src",document.location.protocol+"//"+this.statusDomain+i),t.parentNode.insertBefore(e,t)},"[data-notification-status]".length&&a()("[data-notification-status]").each((function(e,t){return new N(t)}));var q=i(564);const W=13,G=44,K=46;function Z(e){this.$element=a()(e),this.$input=this.$element.find("[data-input-number-field]"),this.$mask=this.$element.find("[data-input-number-mask]"),this.separator=this.$element.attr("data-thousand-separator"),this.displayString=this.$element.attr("data-display-string")||"{value}",this.token="{value}",this.bindEvents()}Z.prototype.bindEvents=function(){const e=this;e.$input.on("keypress",(function(e){if(e.keyCode!==K&&e.keyCode!==G||e.preventDefault(),e.keyCode===W){e.preventDefault();a()(e.currentTarget).blur()}})),e.$input.on("blur",()=>{e.updateMask()})},Z.prototype.updateMask=function(){const e=this,t=e.$input.val();if(t>0){const i=r.format(parseInt(t,10),e.separator),s=e.displayString.replace(e.token,i);e.$mask.text(s)}else e.$mask.text("")},a()("[data-input-number]").each((function(e,t){return new Z(t)}));var Y=J;function J(e,t){this.$element=a()(e),this.$parent=t,this.$preset=this.$element.find("[data-range-filter-selector-preset]"),this.$custom=this.$element.find("[data-range-filter-selector-custom]"),this.$select=this.$element.find("[data-range-filter-selector-preset-select]"),this.$input=this.$element.find("[data-input-number-field]"),this.$clearCustomValue=this.$element.find("[data-range-filter-selector-clear-custom-value]"),this.defaultValue=this.$select.find("[data-range-filter-selector-default-value]").val(),this.defaultIndex=this.$select.find("[data-range-filter-selector-default-value]").index(),this.selectedIndex=this.$select[0].selectedIndex,this.valueIsDefault=this.isDefault(),this.bindEvents()}J.prototype.bindEvents=function(){const e=this;e.$input.on("blur",()=>e.updateCustomValueInput()),e.$select.on("reset",()=>e.setDefault()),e.$select.on("change",t=>e.changedPresetValue(t)),e.$clearCustomValue.on("click",()=>e.setDefault())},J.prototype.isDefault=function(){return this.defaultIndex===this.selectedIndex},J.prototype.setDefault=function(){this.removeValidation(),this.setPresetSelect(this.defaultValue),this.$input.val(""),this.$custom.addClass("is-inactive"),this.$preset.removeClass("is-inactive"),this.$parent.trigger("numberchanged")},J.prototype.setPresetSelect=function(e){this.$select.val(e),this.selectedIndex=this.$select[0].selectedIndex},J.prototype.getValue=function(){const e="other"===this.$select.val()?this.$input.val():this.$select.val();return e>0?parseInt(e,10):e},J.prototype.setValue=function(e){this.setPresetSelect("other"),this.$input.val(e),this.showCustomValue(),this.$input.blur(),this.$parent.trigger("numberchanged")},J.prototype.setValueDifference=function(e){const t=this,i=t.$select.find("option").filter((function(){return parseInt(a()(this).val(),10)>e}));i.length>0?t.setPresetSelect(i.first().val()):t.setPresetSelect(t.$select.find("option:last").val()),t.$parent.trigger("numberchanged")},J.prototype.changedPresetValue=function(e){const t=this,i=a()(e.currentTarget);if(t.selectedIndex=i[0].selectedIndex,"other"===i.val())return e.stopPropagation(),i.find('option[value="other"]').prop("selected",!0),void t.showCustomValue();t.$parent.trigger("numberchanged")},J.prototype.showCustomValue=function(){this.$preset.addClass("is-inactive"),this.$custom.removeClass("is-inactive")},J.prototype.updateCustomValueInput=function(){const e=this;""===e.$input.val()?e.setDefault():e.$parent.trigger("numberchanged")},J.prototype.setInvalid=function(){this.$element.addClass("is-invalid")},J.prototype.isInvalid=function(){return this.$element.hasClass("is-invalid")},J.prototype.removeValidation=function(){const e=this;e.isInvalid()&&e.$element.removeClass("is-invalid")};class Q{constructor(e){this.$element=a()(e),this.$form=a()("form"),this.$minContainer=this.$element.find("[data-range-filter-min] [data-range-filter-selector]"),this.$maxContainer=this.$element.find("[data-range-filter-max] [data-range-filter-selector]"),this.min=new Y(this.$minContainer,this.$element),this.max=new Y(this.$maxContainer,this.$element),this.filterGroupId=this.$element.attr("data-filter-name"),this.filterGroupName=this.$element.attr("data-filter-name"),this.separator=this.$element.attr("data-thousand-separator"),this.displayString=this.$element.attr("data-display-string")||"&euro; {value}",this.rangeFilterInputLabelString=this.$element.attr("data-label-text")||"",this.token="{value}",this.currentRange=null,this.isInitiated=!1,this.$rangeFlyout=this.$element.find("[data-filter-flyout-range]"),this.bindEvents(),this.adjustFilter()}bindEvents(){this.$element.on("resetfilter",()=>{this.reset()}),this.$element.on("numberchanged",()=>{this.adjustFilter()}),this.$rangeFlyout.on("calculatorsurfacerange",(e,t)=>{this.min.setValue(t.min),this.max.setValue(t.max)}),this.isInitiated=!0}addToken(e,t){if(t)return this.displayString.replace(this.token,e);{const t=r.format(e,this.separator);return this.displayString.replace(this.token,t)}}addFilter(e){const t={filterGroupId:this.filterGroupId,filterGroupName:this.filterGroupName,filterName:e,labelText:e+" "+this.rangeFilterInputLabelString};q.a.add(t,()=>{this.reset(this)},!0)}adjustFilter(){if(!this.isValidRange())return;let e=0;const t=this.min.getValue(),i=this.max.getValue(),s=r.format(t||"",this.separator);if("ignore_filter"===i&&t>0)e=this.addToken(s+"+",!0);else if("ignore_filter"!==i&&i>0){const t=r.format(i,this.separator);e=this.addToken(s,!0)+" - "+this.addToken(t,!0)}this.isInitiated&&this.currentRange!==e&&this.$element.trigger("requestSearchResult"),0!==e&&"0"!==e?this.addFilter(e):q.a.remove(this.filterGroupId),this.currentRange=e}setRangeDifference(){const e=this.min.getValue();this.max.setValueDifference(e)}isValidRange(){return this.min.getValue()>this.max.getValue()?(this.max.setInvalid(),this.bindFormChangeEvent(),!1):(this.max.removeValidation(),this.unbindFormEvent(),!0)}reset(e){const t=e||this;t.min.setDefault(),t.max.setDefault()}unbindFormEvent(){this.$form.off("change.external")}bindFormChangeEvent(){this.$form.on("change.external",e=>{1!==a()(e.target).closest("[data-range-filter]").length&&this.formChanged()})}formChanged(){this.min.getValue()>this.max.getValue()&&this.max.isInvalid()&&this.setRangeDifference()}isVisible(){return this.$element.is(":visible")}}a()("[data-range-filter]").each((e,t)=>new Q(t));var X=function(){const e={},t=[],i={};return e.listen=function(e,s){var a,n;void 0===s?(a=e,t.push(a)):(a=s,void 0===i[n=e]&&(i[n]=[]),i[n].push(a))},e.notify=function(e,s){for(let i=0;i<t.length;i++)t[i](e,s);if(void 0!==e&&void 0!==i[e])for(let t=0;t<i[e].length;t++)i[e][t](s)},e};var ee=(()=>{const e={},t=[];let i=0;function s(e,s){1!==e.length&&d.a.log("For binding a controller we need to have exactly one html, but we have "+e.length,{function:"getControllerBy$element",element:e,selector:s.getSelector()});let a=e.data("controller-uid");return void 0===a&&(a=i++,t[a]=new s(e),e.attr("data-controller-uid",a)),t[a]}return e.getInstance=(e,t)=>s(function(e,t){return"function"==typeof t.getSelector?a()(e).find(t.getSelector()):a()(e)}(t,e),e),e.getAllInstances=(e,t)=>{const i=e.getSelector(),n=[];return(void 0===t?a()(i):a()(t).find(i)).each((t,i)=>n.push(s(a()(i),e))),n},e})(),te=ae;const ie="data-expandible-handle",se=a()("body");function ae(e){this.$element=a()(e),this.expandibleId=this.$element.attr("data-expandible")||!1,this.expandibleOnBlur=this.$element.attr("data-expandible-on-blur")||!1,this.isExpanded=this.$element.hasClass("is-expanded"),this.$handlesOutside=a()(),this.hasNestedExpandible=this.$element.find("[data-expandible]").length>0,this.hasHandleOutside=!!this.expandibleId,this.observers=new X,this.onChange=e=>{this.observers.listen(e)},this.expandibleId&&(this.$handlesOutside=se.find("["+ie+'="'+this.expandibleId+'"]')),this.expandibleOnBlur&&se.on("click",e=>{const t=this.$handlesOutside.is(e.target),i=this.$element.is(e.target),s=0!==a()(e.target).closest(this.$element).length;!this.isExpanded||t||i||s||this.toggleExpand()}),this.$element.addClass("is-expandible"),this.toggleExpand(this.isExpanded),this.hasNestedExpandible||this.hasHandleOutside||this.$element.on("click","[data-expandible-handle]",e=>{void 0!==a()(e.target).attr("data-prevent-default")&&e.preventDefault(),this.toggleExpand()}),this.expandibleId&&se.on("click","["+ie+'="'+this.expandibleId+'"]',e=>{void 0!==a()(e.target).attr("data-prevent-default")&&e.preventDefault(),this.toggleExpand()}),this.$element.on("expandibletoggle",(e,t)=>this.toggleExpand(t))}ae.prototype.toggleExpand=function(e){return this.isExpanded=void 0!==e?e:!this.isExpanded,this.$element.toggleClass("is-expanded",this.isExpanded),this.$handlesOutside.toggleClass("is-expanded",this.isExpanded),this.$element.attr("aria-expanded",this.isExpanded),this.$handlesOutside.attr("aria-expanded",this.isExpanded),this.$element.trigger(this.isExpanded?"expandibleopened":"expandibleclosed"),this.observers.notify(this.isExpanded),this.isExpanded},ae.getSelector=()=>"[data-expandible]",ae.initialize=()=>ee.getAllInstances(ae),ae.initialize();var ne=i(572);function oe(e,t=ne.a){const i=this;i.element=e,i.$form=a()(i.element).find("form"),i.handle=i.element.querySelectorAll("[data-partial-page-update-handle]"),i.url=i.element.dataset.partialPageUpdate,i.outputs=i.element.querySelectorAll("[data-partial-page-update-output]"),i.ajax=t,i.outputMap={},i.outputs.forEach(e=>{var t=e.dataset.partialPageUpdateOutput;i.outputMap[t]=e}),i.bindEvents(),window.history.replaceState("push_state_set_by_funda",window.title)}oe.prototype.bindEvents=function(){const e=this;e.handle.forEach(t=>{t.addEventListener("change",p()((function(){e.doRequest()}),500,{leading:!0}))})},oe.prototype.doRequest=function(){const e=this,t=e.$form.serialize();a()(document).trigger("resultsUpdating"),e.request&&e.request.abort(),e.request=e.ajax({url:e.url+"?ajax=true",method:"GET",data:t,timeout:3e4,success:t=>e.successHandler(t)})},oe.prototype.successHandler=function(e){this.updatePartialPage(e)},oe.prototype.updatePartialPage=function(e){document.title=e.title,this.updateHistory(e.url),this.renderOutputResults(e)},oe.prototype.renderOutputResults=function(e){var t=e.content;for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&this.outputMap[e]&&null!==t[e])if("INPUT"===this.outputMap[e].tagName)this.outputMap[e].value=t[e],this.outputMap[e].dispatchEvent(new Event("change"));else if("contentPlatformLink"===e){const i=a()(this.outputMap[e]).find("[data-text-container]"),s=a()(t[e]).find("[data-text-container]");i[0].innerHTML=s[0].innerHTML}else this.outputMap[e].innerHTML=t[e]},oe.prototype.updateHistory=function(e){window.history.pushState("push_state_set_by_funda",window.title,e),a()(document).trigger("updateTranslateLink",[{url:e}])},a()("[data-partial-page-update]").each((e,t)=>new oe(t));function re(e){const t=this;t.$element=a()(e),t.$select=t.$element.find("select"),t.$form=t.$element.closest("form"),t.$autocomplete=t.$form.find("[data-autocomplete]"),t.$autocomplete.hasClass("disable-radio-filter")&&t.setDisabled(!0),t.$autocomplete.on("reset",()=>{t.$select[0].selectedIndex=0}),t.$select.on("change",()=>{let e=+t.$select.val();a()(document).trigger("changeRadius",{selectedRadius:e})}),a()(document).on("changeBuurt",(e,i)=>{t.setDisabled(i.selectedFilterCount>1)}),t.$autocomplete.on("searchQuerySet",(e,i)=>{t.setDisabled(i.disableRadioFilter)})}re.prototype.setDisabled=function(e){const t=this;e?(t.$select.attr("disabled",!0),t.$element.addClass("is-hidden"),t.$element.addClass("is-disabled"),t.$select[0].selectedIndex=0):(t.$select.removeAttr("disabled"),t.$element.removeClass("is-disabled"),t.$element.removeClass("is-hidden"))},a()("[data-input-radius]").each((e,t)=>new re(t));var le=de;function de(e){this.$element=a()(e),this.sourceUrl=this.$element.attr("data-request-url"),this.$handler=this.$element.find("[data-instant-search-handle]"),this.$selectedOption=this.$element.find("[data-selected-option]"),this.$optionsList=this.$element.find("[data-selectbox-list]"),this.isOpen=!1,this.selectedIndex=-1,this.placeholder=this.$element.attr("data-custom-select-placeholder"),this.noOptions=this.$element.attr("data-custom-select-nooptions"),this.init()}de.prototype.init=function(){const e=this;e.$selectedOption.html(e.placeholder),e.sourceUrl?e.fetchOptions():e.fetchOptionsFromPage(),e.checkOptions(),e.bindEvents()},de.prototype.renderOptionsList=function(){const e=this;e.$optionsList.html(""),e.selectedIndex=-1,e.options.forEach(t=>{let i=e.renderOption(t);e.$optionsList.append(i)})},de.prototype.renderOption=function(e){let t='<li role="option"\n    id="{Id}"\n    data-selectbox-option-display-value="{Value}"\n    class="selectbox-option">\n    <span class="selectbox-label" data-selectbox-match>{Label}</span>\n    <div class="selectbox-option-count">{ResultCount}</div>\n</li>';for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t=t.replace("{"+i+"}",e[i]));return t},de.prototype.fetchOptions=function(){const e=this;a.a.ajax({url:e.sourceUrl,success:t=>{e.options=Array.isArray(t)?t:[],e.renderOptionsList(),e.handleZeroResults()},error:()=>{e.options=[],e.$selectedOption.html(e.noOptions)}})},de.prototype.handleZeroResults=function(){this.$optionsList.find("li").each((function(e,t){let i=a()(t),s=a()(i.find(".selectbox-option-count")).html();0==parseInt(s,8)&&i.addClass("no-results")}))},de.prototype.fetchOptionsFromPage=function(){this.options=a()(".selectbox-list").find("li").map((function(){let e={};e.Id=a()(this).attr("id"),e.Value=a()(this).data("selectboxOptionDisplayValue");let t=a()(this).children();return void 0!==t&&(void 0!==t[0]&&(e.Label=a()(this).children()[0].textContent),void 0!==t[1]&&(e.ResultCount=a()(this).children()[1].textContent)),e}))||[]},de.prototype.checkOptions=function(){const e=this;let t=e.$optionsList.find(".selectbox-option.is-selected");t.length&&e.selectOption(t.index())},de.prototype.bindEvents=function(){this.bindSelectboxEvent(),this.bindSelectOptionEvent(),this.bindClickOutsideEvent()},de.prototype.bindSelectboxEvent=function(){const e=this;e.$selectedOption.on("click",()=>{e.isOpen?e.closeOptions():e.openOptions()})},de.prototype.openOptions=function(){this.isOpen=!0,this.$element.addClass("is-open"),this.$optionsList.addClass("is-open")},de.prototype.closeOptions=function(){this.isOpen=!1,this.$element.removeClass("is-open"),this.$optionsList.removeClass("is-open")},de.prototype.bindSelectOptionEvent=function(){const e=this;e.$optionsList.on("click","li",t=>{const i=a()(t.currentTarget).index();e.selectOption(i),e.updatePage(),e.closeOptions()})},de.prototype.selectOption=function(e){const t=this.options[e];this.selectedOption=t,this.selectedIndex=e;const i=this.$optionsList.children();i.removeClass("is-selected"),i.eq(e).addClass("is-selected"),this.$selectedOption.html(t.Label)},de.prototype.updatePage=function(){this.$handler.val(this.selectedOption.Value),this.$handler.trigger("change")},de.prototype.bindClickOutsideEvent=function(){const e=this;a()(document).on("click",(function(t){0===a()(t.target).closest(".custom-select-box").length&&e.closeOptions()}))},a()("[data-custom-select-box]").each((e,t)=>new de(t));class ce{constructor(e){this.$element=a()(e),this.$form=this.$element.find("[data-search-block-form]"),this.$autocomplete=this.$element.find("[data-autocomplete]"),this.$soortAanbodSelect=this.$form.find("[data-search-block-soort-aanbod-selector]")}bindEvents(){this.$autocomplete.on("searchqueryupdated",(e,t)=>{void 0!==t&&t.isOpen||this.$form.submit()}),this.$soortAanbodSelect.on("mousedown.removeSelectPlaceholder",this.removeSelectPlaceholder),this.$soortAanbodSelect.on("keydown.removeSelectPlaceholder",this.removeSelectPlaceholder),this.$soortAanbodSelect.on("change.removeSelectPlaceholder",this.removeSelectPlaceholder)}removeSelectPlaceholder(){const e=a()(this),t=e.find("[data-search-block-select-placeholder]").get(0);t&&t.remove(),e.off(".removeSelectPlaceholder")}}a()("[data-search-block]").each((e,t)=>{new ce(t).bindEvents()});function he(e){const t=this;t.$element=a()(e),t.$handler=this.$element.find("[data-tooltip-handle]"),this.$handler.on("click",e=>t.open(e)),t.content=this.$element.attr("title"),t.createTooltip()}he.prototype.open=function(e){const t=this;e.preventDefault(),e.stopPropagation(),t.$element.addClass("is-expanded"),this.$handler.off("click"),a()(window).on("click",e=>t.close(e))},he.prototype.close=function(e){const t=this;e.stopPropagation(),t.$element.removeClass("is-expanded"),this.$handler.on("click",e=>t.open(e))},he.prototype.createTooltip=function(){this.$tooltip=a()("<div/>"),this.$tooltip.addClass("tooltip__content"),this.$tooltip.html(this.content),this.$element.append(this.$tooltip)},a()("[data-tooltip-inline]").each((e,t)=>new he(t));function pe(e){this.$element=a()(e),this.initialInfo=void 0,this.removeTitle(),this.bindEvents()}pe.prototype.bindEvents=function(){const e=this;a()(window).on("resize click",()=>e.tooltipHandler())},pe.prototype.tooltipHandler=function(){const e=this;if(e.$element.hasClass("is-expanded")){const t=e.getUpdateDescriptor();e.updateTooltip(t)}},pe.prototype.getUpdateDescriptor=function(){const e=this;let t;if(!(a()("body").outerWidth()<500)){if(e.doesInitialTooltipFitInCurrentWindow())t={isBottom:e.initialInfo.isBottom,isReversed:e.initialInfo.isReversed};else{t=e.getCurrentTooltipDescriptor();const i=e.getTooltipAbsolutePosition(t);i.bottom<0&&t.isBottom?t.isBottom=!1:i.top<0&&!t.isBottom&&(t.isBottom=!0),i.left<0&&t.isReversed?t.isReversed=!1:i.right<0&&!t.isReversed&&(t.isReversed=!0)}return t}},pe.prototype.doesInitialTooltipFitInCurrentWindow=function(){const e=this;e.initialInfo||(e.initialInfo=e.getCurrentTooltipDescriptor());const t=e.getTooltipAbsolutePosition(e.initialInfo);return t.top>0&&t.bottom>0&&t.left>0&&t.right>0},pe.prototype.getCurrentTooltipDescriptor=function(){const e=window.getComputedStyle(this.$element[0],":after");return{isReversed:this.$element.hasClass("reverse"),isBottom:this.$element.hasClass("bottom"),width:parseInt(e.width,10),height:parseInt(e.height,10),topFromParent:parseInt(e.top,10),leftFromParent:parseInt(e.left,10)}},pe.prototype.getTooltipAbsolutePosition=function(e){const t=a()("body"),i=this.$element.offset().top+e.topFromParent,s=this.$element.offset().left+e.leftFromParent;return{top:i,left:s,right:t.width()-e.width-s,bottom:t.height()-e.height-i}},pe.prototype.updateTooltip=function(e){const t=this;"object"==typeof e&&void 0!==e.isBottom&&void 0!==e.isReversed&&(e.isBottom?t.$element.addClass("bottom"):t.$element.removeClass("bottom"),e.isReversed?t.$element.addClass("reverse"):t.$element.removeClass("reverse"))},pe.prototype.removeTitle=function(){const e=this.$element.attr("title");this.$element.attr("title",""),this.$element.attr("data-title",e)},a()("[data-tooltip]").each((e,t)=>new pe(t));function ue(e){const t=this;t.$element=a()(e),t.container=a()("[data-aanmeld-invoice-container]"),t.inputs=t.container.find("[data-aanmeld-invoice-inputs]"),t.$element.on("change",()=>t.toggleActive(!e.checked)),t.toggleActive(!e.checked)}ue.prototype.toggleActive=function(e){this.container.toggleClass("is-hidden",e),this.inputs.attr("required",!e)},a()("[data-aanmeld-invoice]").each((e,t)=>new ue(t));var me=i(355),ge=i.n(me),fe=i(590),ve=i(570);ge.a.mixin(ve.a),document.querySelector("[data-agents-nearby]")&&new ge.a({el:"[data-agents-nearby]",components:{"app-agents-nearby":fe.a}});var be=i(589);ge.a.mixin(ve.a),document.querySelector("[data-agents-nearby-pure]")&&new ge.a({el:"[data-agents-nearby-pure]",components:{AgentsNearbyPure:be.a}});function we(e){this.$element=a()(e),this.bindEvents(),this.updateHeight()}we.prototype.bindEvents=function(){const e=this;a()(window).on("resize click",()=>e.updateHeight()),setInterval(()=>e.updateHeight(),500)},we.prototype.updateHeight=function(){const e=this,t=50+e.$element.height();t!==e.Height&&(e.Height=t,window.parent.postMessage("height="+t,"*"))},a()("[data-iframe-height-updater]").each((function(e,t){return new we(t)}));function $e(e){this.$element=a()(e),this.bindEvents()}$e.prototype.bindEvents=function(){const e=this;e.$element.on("change",()=>e.changeHandler())},$e.prototype.changeHandler=function(){this.loadUrl(this.$element.find(":selected").val())},$e.prototype.loadUrl=function(e){window.location=e},a()("[data-auto-dropdown]").each((e,t)=>new $e(t));i(349);const ye=ke;function ke(e){this.$element=a()(e),this.parameter=this.$element.data("async-url-add-param"),this.bindEvents()}ke.prototype.bindEvents=function(){const e=this;e.$element.on("click",t=>ye.addParam(e.parameter,t))},ke.addParam=function(e,t){"object"==typeof t&&"function"==typeof t.preventDefault&&t.preventDefault();const i=ye.getUrl(),s=i+(i.indexOf("?")<0?"?":"&")+e;ye.setUrl(s)},ke.getUrl=function(){return window.location.href},ke.setUrl=function(e){window.location.href=e},ke.initialize=function(){a()("[data-async-url-add-param]").each((e,t)=>new ke(t))},ke.initialize();const Ce=Se;function Se(e){this.$element=a()(e),this.parameter=this.$element.data("async-url-remove-param"),this.bindEvents()}Se.prototype.bindEvents=function(){const e=this;e.$element.on("click",t=>Ce.removeParam(e.parameter,t))},Se.removeParam=function(e,t){"object"==typeof t&&"function"==typeof t.preventDefault&&t.preventDefault();const i=Ce.getUrl().split("?");let s=i[0],a=i[1];"string"==typeof a&&(a=a.replace(e,"").replace("&&","&"),a.length>0&&"&"==a[0]&&(a=a.substr(1)),a.length>0&&"&"==a[a.length-1]&&(a=a.substr(0,a.length-1)),a.length>0&&(s+="?"+a)),Ce.setUrl(s)},Se.getUrl=function(){return window.location.href},Se.setUrl=function(e){window.location.href=e},Se.initialize=function(){a()("[data-async-url-remove-param]").each((e,t)=>new Se(t))},Se.initialize();function Te(e){var t=this;t.$element=a()(e),t.url=t.$element.attr("data-log-request"),t.url&&0!==t.url.length&&t.$element.on("click",(function(e){var i=a()(e.target);i.data("logged")||(a.a.ajax(t.url),i.data("logged",!0))}))}a()("[data-log-request]").each((function(e,t){return new Te(t)}));var Ee=i(557),Oe=i(559);class Ie{constructor(e){this.$element=a()(e),this.$element.addClass("is-enhanced"),this.bindEvents()}bindEvents(){this.$element.find("[data-object-contact-phone-handle]").on("click","button",e=>this.onShowPhoneNumberClick(e.currentTarget)),this.$element.find("[data-contact-brochure]").on("click",e=>this.setTracking(e.currentTarget,Oe.a)),this.$element.find("[data-contact-broker]").on("click",e=>this.setTracking(e.currentTarget,Oe.g)),this.$element.find("[data-contact-viewing]").on("click",e=>this.setTracking(e.currentTarget,Oe.o))}onShowPhoneNumberClick(e){const t=a()(e).parent(),i=a()(e),s=t.find("a");t.addClass("is-clicked"),s.addClass("is-shown"),setTimeout((function(){i.addClass("is-clicked")}),0)}setTracking(e,t){const i=a()(e).closest("[data-broker-id]").attr("data-broker-id");Object(Ee.a)(t,{lead_broker_id:i?parseInt(i):null,navigation_trigger:"listing_contact_container"})}}a()("[data-object-contact]").each((function(e,t){return new Ie(t)}));const xe="fd-completely-hidden";class Le{constructor(e){this.$element=a()(e),this.$emailInput=this.$element.find("[data-login-nudge-email]"),this.$nudge=this.$element.find("[data-login-nudge-tooltip]"),this.$navigationTrigger=this.$nudge.attr("data-tracking-navigation"),this.bindEvents()}bindEvents(){this.$emailInput.bind("change paste keyup",p()(e=>this.checkIfEmailExists(e),600)),this.$nudge.find("[data-login-nudge-maybe-later-button]").click(e=>this.hideLoginNudge(e))}checkIfEmailExists(e){const t=e.target.value+"";t.length<5||a.a.get("/contactbrokerform/options",{email:t},e=>{!0===e.ShowLoginNudge?(this.$nudge.removeClass(xe),Object(Ee.a)(Oe.j,{navigation_trigger:this.$navigationTrigger})):this.$nudge.hasClass(xe)||this.$nudge.addClass(xe)})}hideLoginNudge(e){e.preventDefault(),this.$nudge.addClass(xe)}}a()("[data-login-nudge]").each((e,t)=>new Le(t));var Pe=i(567);class Ae{constructor(e){this.$element=a()(e),this.localStorage=new Pe.a,this.$form=a()("[data-makelaar-form]"),this.$objectId=this.$element.attr("data-contact-form-objectid"),this.$localStorageKey="contact-form-makelaar-input-key".concat("-",this.$form.attr("data-contact-type"),"-",this.$element.attr("name"),"-",this.$objectId),this.setMessageIfLocalStorageExists(),this.bindEvents()}bindEvents(){this.$element.bind(this.$element.is("textarea")?"keyup":"change",p()(e=>this.saveToStorage(e),750))}saveToStorage(e){const t=e.target.value;this.localStorage.saveAsStringified(this.$localStorageKey,t)}setMessageIfLocalStorageExists(){const e=this.localStorage.getAsParsedJson(this.$localStorageKey);(this.$element.is("textarea")||this.$element.is("select"))&&void 0!==e?this.$element.val(e||""):void 0!==e&&this.$element.prop("checked",!0).trigger("change")}}a()("[data-contact-form-makelaar-input]").each((e,t)=>new Ae(t));const je=["Opmerking","GeselecteerdeMakelaar","Day","DayPart"];class Me{constructor(e){this.$element=a()(e),this.form=a()("[data-makelaar-form]"),this.localStorage=new Pe.a,this.$objectId=this.$element.attr("data-contact-form-objectid"),this.startTime=new Date,this.bindEvents()}bindEvents(){this.form.on("submit",e=>{if(e.preventDefault(),!this.form.valid())return;const t=this.form.attr("data-contact-type"),i="reageer"===t;i&&this.optimizelyLog("timeSpentOnContactRequest",{value:(new Date-this.startTime)/1e3}),a.a.ajax({type:"POST",url:this.form.attr("action"),data:this.form.serialize(),success:e=>{i&&this.optimizelyLog("submitContactRequest"),this.gtmLog(),document.open(),document.write(e),document.close(),je.forEach(e=>{const i="contact-form-makelaar-input-key".concat("-",t,"-",e,"-",this.$objectId);this.onLocalStorageExistsRemoveKey(i)})}})})}optimizelyLog(e,t){window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:e,tags:t})}gtmLog(){const e=window.location.href,t={eventCategory:"interactions-contactaanvragen",eventAction:this.form.attr("action").includes("reageer")?"object-reageer":"object-bezichtiging",eventLabel:e};this.gtmEventLogger=new c.a,this.gtmEventLogger.log(t)}onLocalStorageExistsRemoveKey(e){void 0!==this.localStorage.getAsParsedJson(e)&&window.localStorage.removeItem(e)}}a()("[data-contact-form-makelaar-button]").each((e,t)=>new Me(t));var De=_e;function _e(e,t,i=function(){}){a.a.get({url:t,crossDomain:!0,dataType:"html",success:(t,i,s)=>{_e.showData(e,t),204==s.status&&_e.hideWidget(e)},error:()=>{_e.hideWidget(e)},complete:i})}_e.showData=function(e,t){a()(e).html(t)},_e.hideWidget=function(e){a()(e).addClass("is-hidden")};class Re{constructor(e){this.$element=a()(e),this.$radioButtons=this.$element.find("[data-radio-button]"),this.$fieldsets=this.$element.find("[data-fieldset]");const t=this.$element.find("[data-campaign-id]").val();this.trackingProps={campaign_id:isNaN(t)?null:parseInt(t),mortgage_partner:this.$element.find("[data-campaign-name]").val()},this.bindEvents()}bindEvents(){this.$radioButtons.click(e=>this.handleRadioButtonSelected(e.target));const e=this.$element.closest("[data-track-viewed-event]").attr("data-track-viewed-event");Object(Ee.a)(e,this.trackingProps)}handleRadioButtonSelected(e){const t=a()(e),i=t.parents("[data-fieldset]");if(this.resetSelection(),i.addClass("selected"),"true"===t.val()){const e=this.$element.closest("[data-track-clicked-event]").attr("data-track-clicked-event");Object(Ee.a)(e,this.trackingProps)}}resetSelection(){this.$fieldsets.removeClass("selected")}}a()("[data-hypotheek-advies-alternative]").each((e,t)=>new Re(t));const Fe=function(){Ve.prototype.handleComplete()};function Ve(e){this.urlFeed=e.getAttribute("data-content-fetch-url"),De(e,this.urlFeed,Fe)}Ve.prototype.handleComplete=function(){const e=this;a()("[data-hypotheek-advies-box]").each((function(t,i){e.toggleForm(a()(i))})),a()("[data-hypotheek-advies-alternative]").each((e,t)=>new Re(t))},Ve.prototype.toggleForm=function(e){this.$trigger=e.find("[data-hypotheek-advies-handle]"),this.$target=e.find("[data-hypotheek-advies-target]"),this.$inputs=this.$target.find("input"),this.handleChange(this.$trigger,this.$inputs)},Ve.prototype.handleChange=function(e,t){const i=this;e.on("change",(function(){a()(this).is(":checked")?i.checkedFeedback(t):i.unCheckedFeedback(t)}))},Ve.prototype.checkedFeedback=function(e){a()(e).parents("[data-hypotheek-advies-box]").addClass("is-expanded"),e.prop("required",!0)},Ve.prototype.unCheckedFeedback=function(e){a()(e).parents("[data-hypotheek-advies-box]").removeClass("is-expanded"),e.prop("required",!1)},a()("[data-hypotheek-advies]").each((function(e,t){return new Ve(t)}));var He=i(584);function ze(e){const t=this;t.$element=a()(e),t.$itemCopyLink=t.$element.find("[data-object-share-menu-copy-link]"),t.$socialPlatformLink=t.$element.find("[data-social-platform-url]"),t.$itemCopyLink.on("click",e=>{e.preventDefault(),function(e){var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre";var i=document.createElement("iframe");i.sandbox="allow-same-origin",document.body.appendChild(i);var s=i.contentWindow;s.document.body.appendChild(t);var a=s.getSelection();a||(s=window,a=s.getSelection(),document.body.appendChild(t));var n=s.document.createRange();a.removeAllRanges(),n.selectNode(t),a.addRange(n);var o=!1;try{o=s.document.execCommand("copy")}catch(e){d.a.log(e,{function:"copyToClipboard"})}i.style.display="none",a.removeAllRanges(),t.remove(),i.remove()}(t.$itemCopyLink.attr("href"))}),t.$socialPlatformLink.on("click",e=>{e.target.dataset.socialPlatformUrl&&(e.preventDefault(),He.a.open(e.target.dataset.socialPlatformUrl))})}ze.initialize=function(){a()("[data-object-share-menu]").each((e,t)=>new ze(t))},ze.initialize();a()("[data-content-trending-refresh-handle]").each((e,t)=>{t.addEventListener("click",()=>{window.location.reload()})});class Be{constructor(e){this.minutesElement=e.querySelector("[data-content-trending-timer-minutes]"),this.minutesSpent=0,this.setMinuteCount(this.minutesSpent),window.setInterval(()=>{this.setMinuteCount(++this.minutesSpent)},6e4)}setMinuteCount(e){this.minutesElement.innerHTML=""+e}}a()("[data-content-trending-timer]").each((e,t)=>new Be(t));class Ue{constructor(){this.fetchImgSources(),this.setSrcsetSources()}fetchImgSources(){return{desktop:a()("[data-hero-fib]").find("[data-hero-fib-image-desktop]"),mobile:a()("[data-hero-fib]").find("[data-hero-fib-image-mobile]"),fallback:a()("[data-hero-fib]").find("[data-hero-fib-image-preloaded]"),desktopHidden:a()("[data-hero-fib]").find("[data-hero-fib-srcset-desktop]"),mobileHidden:a()("[data-hero-fib]").find("[data-hero-fib-srcset-mobile]")}}setSrcsetSources(){const e=this.fetchImgSources();e.desktop[0].srcset=e.desktopHidden[0].value,e.mobile[0].srcset=e.mobileHidden[0].value,e.fallback[0].src=e.desktopHidden[0].value.split(" ")[0]}}a()("[data-hero-fib]").each(e=>new Ue(e));var Ne=i(561);class qe{constructor(e){this.$element=a()(e),this.cookies=Ne.a;this.$element.find("[data-notification-store-cookie-on-close]").length>0&&(this.cookieName=this.$element.find("[data-notification-store-cookie-on-close]")[0].getAttribute("data-notification-store-cookie-on-close")),a()(document).on("resultsUpdated",()=>this.showComponentIfCookiesDontExist())}showComponentIfCookiesDontExist(){void 0===this.cookies.getCookie(this.cookieName)&&this.$element.hasClass("is-initially-hidden")&&this.$element.removeClass("is-initially-hidden")}}a()("[data-show-component-if-cookie-is-not-present]").each((e,t)=>{new qe(t).showComponentIfCookiesDontExist()});var We=Ge;function Ge(e,t){this.element=e,this.$element=a()(e),this.defaultTop=t}Ge.prototype.updateVerticalPosition=function(){const e=this;if(e.$element.removeAttr("style"),0===document.documentElement.getBoundingClientRect().top)e.$element.css({"margin-top":e.defaultTop});else{const t=Math.abs(e.$element[0].getBoundingClientRect().top);e.$element.css({"margin-top":t+"px"})}};var Ke=Ze;function Ze(e){this.$element=a()(e),function(){var e=!1,t=["Webkit","Moz","O","ms","Khtml"],i=document.createElement("div");void 0!==i.style.animationName&&(e=!0);if(!1===e)for(var s=0;s<t.length;s++)if(void 0!==i.style[t[s]+"AnimationName"]){e=!0;break}return e}()&&this.$element.addClass("keyframe-animation-supported")}Ze.prototype.show=function(){var e=this;return e.spinnerDelay=window.setTimeout((function(){e.$element.addClass("is-visible")}),1500),a.a.when()},Ze.prototype.hide=function(){return window.clearTimeout(this.spinnerDelay),this.$element.removeClass("is-visible"),a.a.when()},Ze.prototype.isVisible=function(){return this.$element.hasClass("is-visible")};class Ye{constructor(e){const t=this;t.element=e,t.$element=a()(e),t.spinner=new Ke("[data-search-results-spinner]"),t.resultsLoader=new We(t.element,"48px"),a()(document).on("resultsUpdating",(function(){t.show()})),ne.a.onError(()=>t.hide()),ne.a.onSuccess(()=>t.hide())}show(){const e=this;e.$element.addClass("is-loading"),e.resultsLoader.updateVerticalPosition(),e.spinner.isVisible()||e.spinner.show()}hide(){this.spinner.hide(),this.$element.removeClass("is-loading")}}a()("[data-search-results-loading-spinner]").each((e,t)=>new Ye(t));class Je{constructor(e){this.element=e,this.$element=a()(e),this.$notification=this.$element.find("[data-search-scroll-notification]"),this.checkLastSearchResultVisibility(),this.bindToEvents()}bindToEvents(){a()(document).on("resultsUpdated",()=>this.checkLastSearchResultVisibility()),this.$element.on("click","[data-search-scroll-notify-anchor]",(function(){this.hideNotification()}))}checkLastSearchResultVisibility(){this.lastListingElement=document.querySelector("[data-search-scroll-notify-target]"),this.lastListingElement&&this.isElementAboveViewportTop(this.lastListingElement)?this.showNotification():this.hideNotification()}showNotification(){this.$notification.addClass("is-active"),this.notification=new We(this.element=a()("[data-search-scroll-notify]")[0],.4),this.notification.updateVerticalPosition()}hideNotification(){this.$notification.removeClass("is-active"),this.$element.removeAttr("style")}isElementAboveViewportTop(){return this.lastListingElement.getBoundingClientRect().top+this.lastListingElement.getBoundingClientRect().height<0}}a()("[data-search-scroll-notify]").each((e,t)=>new Je(t));i(353);class Qe{constructor(e){this.element=e,this.nodeListings=[],this.mappedListingIds=[],this.gtmEvent,this.gtm=new c.a}attachEventListeners(){a()(document).on("resultsUpdated.gtmLogging",()=>{this.filterListingData()})}filterListingData(){this.nodeListings=a()(this.element).find("[data-search-result-listing]");const e=a()('[data-component="pagination"]'),t=a()(e).find(".pagination-pages").get(0).children.length>0?parseInt(a()(e).find('[aria-current="page"]').get(0).dataset.paginationPage):null;this.mappedListingIds=[];for(let e=0;e<this.nodeListings.length;e++)this.mappedListingIds.push({listingType:this.nodeListings[e].dataset.listingType,globalId:this.nodeListings[e].dataset.globalId});this.logListingData(t)}logListingData(e){this.gtmEvent={event:"searchResultListings",eventCategory:"interactions-searchresults",eventAction:"searchresultlistings",nonInteraction:!0,objectImpressions:this.mappedListingIds,pageNum:e},this.gtm.log(this.gtmEvent)}}[].slice.call(document.querySelectorAll('[data-search-content="search-content"]')).forEach(e=>{const t=new Qe(e);t.attachEventListeners(),t.filterListingData()});var Xe=i(102),et=i.n(Xe),tt=i(400),it=i.n(tt);const st=1,at=2,nt={SUGGESTION:1,COORDINATE:2,ENTRY_POINT_MAP:3,ENTRY_POINT_GO_TO:4,ENTRY_POINT_ADD:5,MARKER:6,SAVE_POI:7,MODALITY:8,DELETE_POI:9,LOGIN_FACEBOOK:10,LOGIN_EMAIL:11,REGISTER_FACEBOOK:12,REGISTER_EMAIL:13,CATEGORY:14,ENTRY_POINT_SERVICES:15,DESKTOP_OVERVIEW_DRAWER_EXPAND:16,DESKTOP_OVERVIEW_DRAWER_COLLAPSE:17,DESKTOP_DETAIL_DRAWER_DISMISS:18,HEART_CLICK:19,SEARCH_MAP_SAVE_POI:23,SEARCH_MAP_CLICK_POI_LIST:24,SEARCH_MAP_CLICK_POI_MARKER:25,SEARCH_MAP_ENTRYPOINT_TRAVEL_TIME_LOGIN:26,SEARCH_MAP_SEARCH_MAP_SWITCH_MODALITY:27,SEARCH_MAP_SEARCH_MAP_SWITCH_TRAVEL_TIME:28,SEARCH_MAP_ENTRYPOINT_TRAVELTIME:29,MOBILE_DETAIL_DRAWER_EXPAND:19,MOBILE_DETAIL_DRAWER_COLLAPSE:20,MOBILE_DETAIL_DRAWER_DISMISS:21,MOBILE_DETAIL_DRAWER_TAP_GRIP:22},ot={[st]:{[nt.SUGGESTION]:"location-suggestion",[nt.COORDINATE]:"location-coordinates",[nt.ENTRY_POINT_MAP]:"entry-point-map",[nt.ENTRY_POINT_GO_TO]:"entry-point-go-to",[nt.ENTRY_POINT_ADD]:"entry-point-add",[nt.MARKER]:"click-marker",[nt.SAVE_POI]:"save-poi",[nt.MODALITY]:"switch-modality",[nt.DELETE_POI]:"delete-poi",[nt.LOGIN_FACEBOOK]:"login-facebook",[nt.LOGIN_EMAIL]:"login-email",[nt.REGISTER_FACEBOOK]:"register-facebook",[nt.REGISTER_EMAIL]:"register-email",[nt.DESKTOP_OVERVIEW_DRAWER_EXPAND]:"desktop-overview-drawer-expand",[nt.DESKTOP_OVERVIEW_DRAWER_COLLAPSE]:"desktop-overview-drawer-collapse",[nt.DESKTOP_DETAIL_DRAWER_DISMISS]:"desktop-detail-drawer-dismiss",[nt.SEARCH_MAP_ENTRYPOINT_TRAVELTIME]:"searchmap-entrypoint-traveltime",[nt.SEARCH_MAP_SAVE_POI]:"searchmap-save-poi",[nt.SEARCH_MAP_CLICK_POI_LIST]:"searchmap-click-poi-list",[nt.SEARCH_MAP_CLICK_POI_MARKER]:"searchmap-click-poi-marker",[nt.SEARCH_MAP_ENTRYPOINT_TRAVEL_TIME_LOGIN]:"searchmap-entrypoint-traveltime-login",[nt.SEARCH_MAP_SEARCH_MAP_SWITCH_MODALITY]:"searchmap-switch-modality",[nt.SEARCH_MAP_SEARCH_MAP_SWITCH_TRAVEL_TIME]:"searchmap-switch-traveltime",[nt.MOBILE_DETAIL_DRAWER_EXPAND]:"mobile-detail-drawer-expand",[nt.MOBILE_DETAIL_DRAWER_COLLAPSE]:"mobile-detail-drawer-collapse",[nt.MOBILE_DETAIL_DRAWER_DISMISS]:"mobile-detail-drawer-dismiss",[nt.MOBILE_OVERVIEW_DRAWER_TAP_GRIP]:"mobile-overview-drawer-tap-grip",[nt.MOBILE_DETAIL_DRAWER_TAP_GRIP]:"mobile-detail-drawer-tap-grip"},[at]:{[nt.CATEGORY]:"select-services-category",[nt.MARKER]:"click-services-marker",[nt.ENTRY_POINT_SERVICES]:"entry-point-services"}};class rt{static travelTime(e,t){rt._log(st,e,t)}static services(e,t){rt._log(at,e,t)}static _log(e,t,i){Object.prototype.hasOwnProperty.call(ot[e],t)&&c.b.log({eventCategory:rt.gtmCategory(e),eventAction:ot[e][t],eventLabel:i})}static gtmCategory(e){switch(e){case st:case at:return"interactions-traveltime";default:return null}}}var lt=rt,dt=ht,ct={body:null,success:null,error:null,submitCallback:null};function ht(e,t){this.$element=e.find("form"),this.options=it()(ct,t),0!==this.$element.length&&this.hookForm()}ht.prototype.hookForm=function(){var e=this,t=e.$element.attr("action");a()('form[action="'+t+'"]').on("submit",(function(i){i.preventDefault();var s=ht.getSubmitButtons(a()(i.target));for(let e=0,t=s.length;e<t;e++)a()(s[e]).prop("disabled",!0);var n=a()(this).find(":input").serialize(),o=-1!==t.indexOf("/mijn/login/dialog/")?nt.LOGIN_EMAIL:nt.REGISTER_EMAIL;a.a.post({url:t,data:n,cache:!1,xhrFields:{withCredentials:!0},dataType:"json"}).then((function(t){if("OK"===t.Result)if(null===t.View||void 0===t.View)et()(e.options.success)&&(a()(document).trigger("user-authenticated-event",{loginType:o}),e.options.success());else{var i=a()(t.View);if(e.options.body.html(t.View),e.options.submitCallback&&e.options.submitCallback(e.options.body),ht.wantsAjaxSubmit(i))return new ht(i,{success:e.options.success,error:e.options.error})}})).catch((function(e){d.a.log(e,{function:"hookForm"});for(let e=0,t=s.length;e<t;e++)a()(s[e]).prop("disabled",!1)}))}))},ht.wantsAjaxSubmit=function(e){return ht.getSubmitButtons(e).length>0},ht.getSubmitButtons=function(e){return e.find("[dialog-ajax-submit]")};i(172);var pt=ut;function ut(e){const t=this;e.instance=t,t.$element=a()(e),t.provider=e.getAttribute("data-social-login-provider"),t.dialogElement=document.querySelector('[data-dialog="user-form"]');const i=a()(e).find(".facebook-button-text").text();t.eventType="Log on with Facebook"===i||"Inloggen met Facebook"===i?nt.LOGIN_FACEBOOK:nt.REGISTER_FACEBOOK,t.state={reauthenticate:!1,rootUrl:e.getAttribute("data-social-login-root-url")},t.state.returnUrl=t.getReturnUrl()||t.state.rootUrl,t.$element.on("click",()=>t.doAuth()),t.initLocalStorageFallback(),window.socialCall=(e,i,s)=>t.socialCall(e,i,s)}ut.prototype.initLocalStorageFallback=function(){const e=this;localStorage.removeItem("returnUrl"),localStorage.removeItem("facebookGaTag"),window.addEventListener("storage",t=>e.storageEventListener(t))},ut.prototype.storageEventListener=function(e){const t=this;if("returnUrl"===e.key){const i=e.newValue;localStorage.removeItem("returnUrl"),t.redirect(i)}else if("facebookGaTag"===e.key){const i=e.newValue;localStorage.removeItem("facebookGaTag"),t.addGtmTag(i)}},ut.prototype.doAuth=function(){const e=`status=0,toolbar=0,location=1,resizable=1,scrollbars=1,left=${(screen.width-500)/2},top=${(screen.height-500-100)/2},width=500,height=500`,t=this.state.rootUrl.slice(0,-1)+"/mijn/sociallogin/externallogin/?"+`provider=${this.provider}&returnUrl=${this.state.returnUrl}`+`&currentUrl=${document.location.pathname}&rerequest=${this.state.reauthenticate?"1":"0"}`;this.addGtmTag("Facebook-clicked"),this.displayDialog(t,e)},ut.prototype.displayDialog=function(e,t){this.popup=window.open(e,"",t)},ut.prototype.redirect=function(e){e&&(window.location.href=e)},ut.prototype.addGtmTag=function(e,t=2e3){let i;return i=window.ga?i=>{const s=setTimeout(()=>i("Timeout failure"),t),a=e=>{i(e),clearTimeout(s)};window.ga("send","event",{eventCategory:"login",eventAction:"socialLogin",eventLabel:e,eventValue:1,hitCallback:()=>a("Success"),hitCallbackFail:()=>a("Failure")})}:e=>e("Ga tag is not available"),new Promise(i)},ut.prototype.socialCall=function(e,t,i){const s=this;return s.popup&&s.popup.close&&s.popup.close(),s.addGtmTag(i).then(()=>{e&&(a()(document).trigger("user-authenticated-event",{loginType:s.eventType}),null!==s.dialogElement?s.dialogElement.dialog.onFormSuccess():s.redirect(t))})},ut.prototype.getReturnUrl=function(){let e=this.$element[0].getAttribute("data-social-login-return-url")||null;if(null!=e)return e;const t=window.location.search.substr(1).split("&");for(let i=0;i<t.length;++i){const s=t[i].split("=");2===s.length&&"ReturnUrl"===s[0]&&(e=decodeURIComponent(s[1].replace(/\+/g," ")))}return e},a()("[data-social-login]").each((e,t)=>new ut(t));var mt=i(401);const gt=a()("body");function ft(e){e.dialog=this,this.AsyncForm=dt,this.SocialLogin=pt,this.AppSpinner=Ke,this.element=e,this.$element=a()(e),this.$body=this.$element.find("[data-dialog-body]"),this.$spinner=this.$element.find("[data-dialog-spinner]"),this.isUserLoggedInUrl=e.getAttribute("data-isuserloggedinurl"),this.onFormSuccess=void 0,this.previousDialog=void 0,"function"!=typeof document.createElement("dialog").show&&mt.a.registerDialog(e),this.loadOnStart(),this.bindEvents()}function vt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}ft.prototype.bindEvents=function(){const e=this,t=a()(window),i=a()(document);e.$body.on("click","[data-dialog-handle]",t=>e.loadContent(t)),t.on("popstate",t=>e.close(t)),i.on("keydown",t=>e.keyDownHandler(t)),e.$element.on("click","[data-dialog-close], a.cancel-button",t=>e.close(t))},ft.prototype.keyDownHandler=function(e){const t=this;27===e.keyCode&&t.close()},ft.prototype.loadContent=function(e){const t=this;e.preventDefault(),e.target.href&&(t.$body.html(""),t.getContent(e.target.href),t.element.open||t.open())},ft.prototype.getContent=function(e,t="json"){const i=this,s={url:e,cache:!1,data:{currentUrl:window.location.pathname+window.location.search},xhrFields:{withCredentials:!0},dataType:t};return i.spinner=new i.AppSpinner(i.$spinner[0]),i.spinner.show(),a.a.ajax(s).then(e=>i.contentResponseHandler(e)).catch(e=>i.errorHandler(e)).always(()=>i.spinner.hide())},ft.prototype.contentResponseHandler=function(e){try{"OK"===e.Result?this.updateContent(e.View||e.Html):this.updateContent(e)}catch(e){d.a.log(e,{function:"contentResponseHandler"})}},ft.prototype.errorHandler=function(e){d.a.log(e)},ft.prototype.enableSocialLogin=function(e){const t=this,i=e.find("[data-social-login]");i.length>0&&a()(i).each((e,i)=>new t.SocialLogin(i))},ft.prototype.updateContent=function(e){const t=this;t.$body.html(e),t.$body.find("[dialog-ajax-submit]").length>0&&t.asyncForm(),t.enableSocialLogin(t.$body)},ft.prototype.asyncForm=function(){const e=this;return new e.AsyncForm(e.$body,{body:e.$body,success:function(t){e.onFormSuccess?e.onFormSuccess(t):window.location.reload(),e.close()},submitCallback:function(t){e.enableSocialLogin(t)}})},ft.prototype.hideVisibleDialogs=function(){const e=this,t=a()("dialog[open]");t.length&&(e.previousDialog=t[0],e.previousDialog.close())},ft.prototype.restorePreviousDialogs=function(){const e=this;null!=e.previousDialog&&(e.previousDialog.showModal(),e.previousDialog=null)},ft.prototype.open=function(e=!1){const t=this.$element.find("[data-dialog-close], a.cancel-button");e?t.hide():t.show(),this.hideVisibleDialogs(),this.element.showModal(),gt.addClass("has-open-dialog")},ft.prototype.close=function(e){const t=this;"object"==typeof e&&"function"==typeof e.preventDefault&&e.preventDefault(),t.element.open&&et()(t.element.close)&&t.element.close(),gt.removeClass("has-open-dialog"),t.restorePreviousDialogs()},ft.prototype.loadOnStart=function(){const e=this,t=gt.find("[data-dialog-auto-open]");if(1===t.length){const i=void 0!==t.data("disable-close");e.$body.html(t.html()),e.open(i)}},a()("[data-dialog]").each((e,t)=>new ft(t));const bt=()=>{};class wt{constructor(e,t,i,s){this.onClearInputFieldHandler=s||bt,this.$element=a()(e),this.$input=this.$element.find("[data-clearable-textbox-input]"),this.$buttonClear=this.$element.find("[data-clearable-textbox-clear]"),this.$mainIcon=this.$element.find("[data-clearable-textbox-main-icon]"),this.inputFieldEventHandlers=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(i),!0).forEach((function(t){L()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):vt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t),this.bindEvents(),i&&this.addIconClass(i),this.showOrHideClearButtonBasedOnValue(this.$input.val())}bindEvents(){this.$input.on("input",e=>{this.showOrHideClearButtonBasedOnValue(e.target.value)}),this.$input.on("focus",()=>this.removeErrorState()),this.$buttonClear.on("click",e=>{e.preventDefault(),this.clearInput()});for(let e in this.inputFieldEventHandlers){const t=this.inputFieldEventHandlers[e];this.$input.on(e,e=>t(e))}}clearInput(){this.setValue(""),this.onClearInputFieldHandler()}showOrHideClearButtonBasedOnValue(e){e&&e.length?this.showClearButton():this.removeClearButton()}addIconClass(e){this.$mainIcon.removeClass(),this.$mainIcon.addClass("icon main-icon "+e)}showClearButton(){this.$buttonClear.removeClass("is-hidden"),this.$mainIcon.addClass("is-hidden")}removeClearButton(){this.$buttonClear.addClass("is-hidden"),this.$mainIcon.removeClass("is-hidden")}setValue(e){this.$input.val(e),this.$input.trigger("input")}setErrorState(){this.$element.addClass("clearable-textbox--has-error")}removeErrorState(){this.$element.removeClass("clearable-textbox--has-error")}focus(){this.$input.focus()}disable(){this.$input.prop("disabled",!0),this.removeClearButton()}enable(){this.$input.prop("disabled",!1)}}var $t=i(364),yt=i.n($t);const kt=()=>{};class Ct{constructor(e,t){this.$element=a()(e),this.$list=this.$element.find("[data-save-location-form-result-list-target]"),this.compiledTemplateListEmpty=yt()(this.$element.find("[data-save-location-form-result-list-empty-template]").html()),this.compiledTemplateListItem=yt()(this.$element.find("[data-save-location-form-result-list-item-template]").html()),this.onListItemClicked=t||kt}bindEvents(){this.$list.find("[data-list-result-item]").on("click",e=>this.onListItemClickedHandler(e))}onListItemClickedHandler(e){if(e.preventDefault(),"LI"===e.currentTarget.tagName){const t=this.getItemPropertiesElement(e.currentTarget);this.onListItemClicked(t)}}getItemPropertiesElement(e){return{value:e.dataset.itemValue,key:e.dataset.itemKey}}getItemPropertiesByIndex(e){const t=this.$list.find("[data-list-result-item]").eq(e);return this.getItemPropertiesElement(t[0])}layout(e){const t=this.buildList(e);this.showList(),this.$list.html(t),this.bindEvents()}hideList(){this.$element.addClass("is-hidden")}showList(){this.$element.removeClass("is-hidden")}buildList(e){return e.length?e.map(e=>this.compiledTemplateListItem({value:e.value,key:e.key})):this.compiledTemplateListEmpty()}}const St=38,Tt=40,Et=13,Ot=()=>{};class It{constructor(e,t,i,s,n,o){this.onItemSelected=i||Ot,this.onQueryChangedCallback=t||Ot,this.onSuggestionClear=s||Ot,this.onRemoveFormErrorMessage=n||Ot,this.onSuggestingChangedHandler=o||Ot,this.clearSuggestion=this.clearSuggestion.bind(this);const r={input:e=>this.addressSuggestInputChange(e),focus:e=>this.onRemoveFormErrorMessage(e),blur:e=>this.onTextBoxBlur(e)};this.$element=a()(e),this.$clearableTextbox=this.$element.find("[data-travel-time-input-container] .clearable-textbox"),this.$autoSuggestResults=this.$element.find("[data-save-location-form-result-list]"),this.clearableTextbox=new wt(this.$clearableTextbox,r,"icon-search-grey",this.clearSuggestion),this.autoSuggestList=new Ct(this.$autoSuggestResults,this.onItemSelected),this.autoSuggestList.hideList(),this.previousClearableTextboxValue=void 0,this.bindEvents()}bindEvents(){this.clearableTextbox.$input.on("keydown",e=>{const t=e.which||e.keyCode,i=this.getSelectedItemIndex();switch(t){case St:this.selectPreviousItem(i);break;case Tt:this.selectNextItem(i);break;case Et:if(i>-1){this.hideSuggestions();const e=this.autoSuggestList.getItemPropertiesByIndex(i);this.onItemSelected(e)}}})}onTextBoxBlur(e){e.relatedTarget!==this.autoSuggestList.$list[0]&&this.hideSuggestions()}getSelectedItemIndex(){return this.$autoSuggestResults.find(".suggest-item").filter(".is-active").first().index()}selectPreviousItem(e){const t=e>0?e-1:0;this.setSelectedItem(t)}selectNextItem(e){const t=-1!==e?e+1:0;this.setSelectedItem(t)}setSelectedItem(e){const t=this.$autoSuggestResults.find(".suggest-item").eq(e);t.length<1||(this.$autoSuggestResults.find(".suggest-item").removeClass("is-active"),t.addClass("is-active"),this.scrollListItemIntoView(t[0]))}scrollListItemIntoView(e){const t=this.$autoSuggestResults[0],i=t.scrollTop,s=t.scrollTop+t.clientHeight,a=e.offsetTop,n=e.offsetTop+e.clientHeight;a>=i&&n<=s||(t.scrollTop=e.offsetTop)}clearSuggestion(){this.onSuggestionClear(),this.hideSuggestions(),this.previousClearableTextboxValue=void 0}addressSuggestInputChange(e){const t=e.target.value,i=t!==this.previousClearableTextboxValue,s=t.length>=1,a=0===t.length;i&&(s||a)&&this.onQueryChangedCallback(t),this.previousClearableTextboxValue=t}setValue(e){this.clearableTextbox.setValue(e),this.hideSuggestions()}updateList(e){this.autoSuggestList.layout(e),this.onSuggestingChangedHandler(!0)}hideSuggestions(){this.autoSuggestList.hideList(),this.onSuggestingChangedHandler(!1)}focus(){this.clearableTextbox.focus()}disable(){this.clearableTextbox.disable()}enable(){this.clearableTextbox.enable()}}const xt=()=>{};class Lt{constructor(e,t,i,s,n){this.onLocationSelectedHandler=t||xt,this.onSuggestingResultsChangedHandler=n||xt,this.onLocationClearedHandler=i||xt,this.getSuggestions=this.getSuggestions.bind(this),this.getSuggestionsDebounced=p()(this.getSuggestions,120),this.getCoordinates=this.getCoordinates.bind(this),this.onLocationSelected=this.onLocationSelected.bind(this),this.onLocationClearedHandler=this.onLocationClearedHandler.bind(this),this.onSuggestingResultsChanged=this.onSuggestingResultsChanged.bind(this),this.$element=a()(e),this.$autoSuggest=this.$element.find("[data-travel-time-suggest]"),this.autoSuggest=new It(this.$autoSuggest,this.getSuggestionsDebounced,this.onLocationSelected,this.onLocationClearedHandler,s,this.onSuggestingResultsChanged),this.suggestEndpoint=this.$element.data("suggest-endpoint"),this.coordinateEndpoint=this.$element.data("coordinate-endpoint"),this._cancelAutoSuggestResultsResponseHandler=!1}onSuggestingResultsChanged(e){e||(this._cancelAutoSuggestResultsResponseHandler=!0,this.getSuggestionsDebounced.cancel()),this.onSuggestingResultsChangedHandler(e)}getSuggestions(e){this._cancelAutoSuggestResultsResponseHandler=!1;const t=!e||e.length<1;return Promise.resolve(e).then(e=>{if(!t)return this.fetchSuggestions(e).then(e=>{this._cancelAutoSuggestResultsResponseHandler||this.updateAutoSuggestResults(e)});this.updateAutoSuggestResults([]),this.autoSuggest.clearSuggestion()}).catch(()=>{this.updateAutoSuggestResults([])})}fetchSuggestions(e){return a.a.ajax({url:this.suggestEndpoint,data:{query:e},dataType:"json"}).then(e=>this.mapSuggestionResponseToAutoSuggestFormat(e.result))}onLocationSelected(e){return this.getCoordinates(e).then(t=>{this.autoSuggest.setValue(e.value),this.onLocationSelectedHandler({location:e.value,placeId:e.key,coordinates:t})})}getCoordinates(e){return lt.travelTime(nt.COORDINATE,e.value),a.a.ajax({url:this.coordinateEndpoint,data:{placeId:e.key},dataType:"json"}).then(e=>e.result).then(e=>({lat:e.Lat,lng:e.Lng}))}mapSuggestionResponseToAutoSuggestFormat(e){return e.map(e=>({value:e.Text,key:e.PlaceId}))}updateAutoSuggestResults(e){this.autoSuggest.updateList(e)}setValue(e){this.autoSuggest.setValue(e)}focus(){this.autoSuggest.focus()}disable(){this.autoSuggest.disable()}enable(){this.autoSuggest.enable()}}function Pt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function At(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(i),!0).forEach((function(t){L()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Pt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const jt=()=>{};class Mt{constructor(e,t,i,s){this.onSubmit=t||jt,this.onCancel=i||jt,this.onSelectLocation=this.onSelectLocation.bind(this),this.onClearLocation=this.onClearLocation.bind(this),this.removeErrorMessage=this.removeErrorMessage.bind(this);const n={input:e=>this.onLabelChange(e)};this.$element=a()(e),this.$autoSuggestLocations=this.$element.find("[data-save-location-form-auto-suggest-wrapper]").find("[data-auto-suggest-locations]"),this.$label=this.$element.find("[data-save-location-form-label-wrapper] .clearable-textbox"),this.$submit=this.$element.find("[data-save-location-submit-button]"),this.$cancel=this.$element.find("[data-save-location-cancel-button]"),this.$errorMessage=this.$element.find(".save-location-form-error"),this.label=new wt(this.$label,n,"icon-promolabel-grey"),this.addressSuggest=new Lt(this.$autoSuggestLocations,this.onSelectLocation,this.onClearLocation,this.removeErrorMessage,s),this.userLoggedIn=this.$element.attr("data-is-user-logged-in"),this.location=this.$element.attr("data-location"),this.resetFormData(),this.bindEvents()}bindEvents(){this.$submit.on("click",e=>{if(e.preventDefault(),"false"===this.userLoggedIn){const e="/mijn/personalplaces/saveandredirect?address="+encodeURIComponent(this.formData.location)+"&label="+encodeURIComponent(this.formData.label||"")+"&latitude="+encodeURIComponent(this.formData.coordinates.lat)+"&longitude="+encodeURIComponent(this.formData.coordinates.lng)+"&location="+encodeURIComponent(this.location)+"&returnUrl="+encodeURIComponent(window.location.pathname);window.location=e}else this.submitForm()}),this.$cancel.on("click",()=>this.cancelForm())}resetFormData(){this.formData={location:null,label:null}}submitForm(){this.isFormValid()?(this.formData.label=this.formData.label||"",this.onSubmit(this.formData)):(this.addressSuggest.autoSuggest.clearableTextbox.setErrorState(),this.showErrorMessage())}cancelForm(){this.onCancel()}isFormValid(){return!!this.formData.location}showErrorMessage(){this.$errorMessage.removeClass("is-hidden"),this.autoSuggestLocations=new Lt(this.$autoSuggestLocations),this.label=new wt(this.$label,{},"icon-promolabel-grey")}removeErrorMessage(){this.$errorMessage.addClass("is-hidden")}onLabelChange(e){this.formData=At(At({},this.formData),{},{label:e.target.value})}onSelectLocation(e){this.formData=At(At({},this.formData),{},{coordinates:e.coordinates,placeId:e.placeId,location:e.location})}onClearLocation(){this.formData.location=void 0,this.formData.coordinates=void 0,this.formData.placeId=void 0,this.removeErrorMessage()}setLocation(e,t,i,s){this.resetFormData(),this.removeErrorMessage(),this.addressSuggest.enable(),this.addressSuggest.setValue(t),this.formData={coordinates:{lat:i,lng:s},placeId:e,location:t},this.label.focus()}disableLocationInput(){this.addressSuggest.disable()}clear(){this.addressSuggest.setValue(""),this.label.setValue(""),this.resetFormData()}}var Dt=i(550),_t=i(553),Rt=i(562);const Ft=e=>(e=>Object(Rt.a)(e.entities.locations))(e).filter(e=>!!e.personalPlace),Vt=()=>{};class Ht{constructor(e,t,i,s){this.onPersonalPlaceSelectedHandler=i||Vt,this.onRemovePersonalPlace=s,this.store=t||Dt.a,this.connect=new _t.a(this.store,["entities.personalPlaces"]),this.$element=a()(e),this.compiledItemTemplate=yt()('\n  <li class="personal-place" data-location-id="<%- locationId %>">\n    <a href="#" class="personal-place__label truncate title="Toon route naar <%- label %>" data-calculate-route-button>\n        <span class="personal-place__icon icon-pin-blue" data-grunticon-embed></span>\n        <span title="<%- label %>" class="truncate"> <%- label %> </span>\n    </a>\n\n    <div class="personal-place__actions">\n        <a class="personal-place__actions-action" href="#" title="Toon route naar <%- label %>" data-calculate-route-button>\n            <span class="a11y-sr-only">Toon route naar <%- label %></span>\n            <span class="personal-place__actions-action-icon icon-navigate-blue" data-grunticon-embed></span>\n        </a>\n\n        <a class="personal-place__actions-action" href="#" title="Verwijder" data-remove-button>\n            <span class="a11y-sr-only">Verwijder</span>\n            <span class="personal-place__actions-action-icon icon-trash-blue" data-grunticon-embed></span>\n        </a>\n    </div>\n  </li>'),this.layout(),this.bindEvents()}bindEvents(){this.connect.subscribe((e,t)=>{if(e.entities.personalPlaces!==t.entities.personalPlaces){const t=Ft(e);this.layout(t)}}),this.$element.on("click","[data-remove-button]",e=>{e.preventDefault();const t=this.findLocationIdFromLocationItemChildElement(e.currentTarget);this.removePersonalPlace(t)}),this.$element.on("click","[data-calculate-route-button]",e=>{e.preventDefault();const t=this.findLocationIdFromLocationItemChildElement(e.currentTarget);this.selectPersonalPlace(t)})}findLocationIdFromLocationItemChildElement(e){return a()(e).parents("[data-location-id]").attr("data-location-id")}removePersonalPlace(e){this.onRemovePersonalPlace(e)}selectPersonalPlace(e){this.onPersonalPlaceSelectedHandler(e)}layout(e){const t=(e=e||[]).map(e=>this.compiledItemTemplate({locationId:e.id,label:e.label||e.location}));this.$element.html(t)}}function zt(e,t){const i=document.querySelector('[data-dialog="user-form"]'),s=document.querySelector('[data-dialog="save-search-form"]');i&&i.dialog&&(i.dialog.onFormSuccess=function(){t()},null!==s&&(s.dialog.onFormSuccess=function(){t()}),this.dialog=i.dialog,this.dialog.open(),this.dialog.getContent(e))}class Bt{constructor(){this.isUserLoggedInUrl="/mijn/account/isuserloggedin/",this.loginDialogUrl="/mijn/login/dialog/",this.$loginDialogElement=a()(document).find('[data-dialog="user-form"]')}getUserAuthenticationInfo(){const e=this.isUserLoggedInUrl;return a.a.ajax({url:e,contentType:"json"}).then(e=>({isLoggedIn:e.LoggedIn,loginUrl:e.LoginUrl})).catch(t=>{d.a.log(t,{function:"getUserAuthenticationInfo",url:e})})}openLoginDialog(){return new Promise(e=>{new zt(this.loginDialogUrl,(function(){e(!0)}))})}closeLoginDialog(){this.$loginDialogElement&&this.$loginDialogElement.length&&this.$loginDialogElement[0].dialog.close()}}var Ut=i(555);class Nt{constructor(){this.store=Dt.a,this.authentication=new Bt}fetchUserAuthenticationInfo(){const e=this.authentication.isUserLoggedInUrl;this.store.dispatch(Object(Ut.p)(e))}openLoginDialog(){return this.store.dispatch(Object(Ut.v)(!1)),this.authentication.openLoginDialog().then(()=>{this.store.dispatch(Object(Ut.v)(!0))})}closeLoginDialog(){this.authentication.closeLoginDialog()}}const qt=a()(window),Wt=e=>e.ui.userLoggedIn,Gt=e=>e.entities.personalPlaces,Kt=()=>{};class Zt{constructor(e,t,i){this.closeFlyout=i||Kt,this.store=t||Dt.a,this.connect=new _t.a(this.store,["entities.personalPlaces","ui.userLoggedIn","addPersonalPlace.loaded","addPersonalPlace.error","getPersonalPlaces.loaded","deletePersonalPlace.loaded","addPersonalPlace.lastSavedPpoi"]),this.handleAutoSuggestSuggestionsToggle=this.handleAutoSuggestSuggestionsToggle.bind(this),this.onSaveLocationFormSubmit=this.onSaveLocationFormSubmit.bind(this),this.removePersonalPlace=this.removePersonalPlace.bind(this),this.cancelSaveLocation=this.cancelSaveLocation.bind(this),this.personalPlaceSelected=this.personalPlaceSelected.bind(this),this.$element=a()(e),this.$personalPlacesListContent=this.$element.find("[data-travel-time-flyout-wrapper-personal-places-list]"),this.$saveLocationFormContent=this.$element.find("[data-travel-time-flyout-wrapper-save-location]"),this.$addNewPersonalPlace=this.$element.find("[data-travel-time-flyout-wrapper-add-personal-place]"),this.$whiteBackground=this.$element.find(".white-bg"),this.$saveLocationForm=this.$element.find("[data-save-location-form]"),this.$personalPlacesList=this.$element.find("[data-personal-places-list]"),this.$loginButton=this.$element.find("[data-login-button]"),this.saveLocationForm=new Mt(this.$saveLocationForm,this.onSaveLocationFormSubmit,this.cancelSaveLocation,this.handleAutoSuggestSuggestionsToggle),this.personalPlacesList=new Ht(this.$personalPlacesList,this.store,this.personalPlaceSelected,this.removePersonalPlace),this.authenticationRedux=new Nt,this.subscribeToStore(),this.bindEvents(),this.layout(),this.authenticationRedux.fetchUserAuthenticationInfo()}bindEvents(){this.$addNewPersonalPlace.on("click",()=>this.showSaveLocationForm()),this.$loginButton.on("click",e=>{e.preventDefault(),window.location="/mijn/login/?returnUrl="+encodeURIComponent(window.location)})}subscribeToStore(){this.connect.subscribe((e,t)=>{const i=e.addPersonalPlace.lastSavedPpoi;!0!==Wt(e)?this.showLoginButton():this.removeLoginButton(),!0===Wt(e)&&!0!==Wt(t)&&this.fetchSavedPersonalPlaces(),((e,t,i)=>t[e].loaded&&!t[e].error&&t[e].loaded!==i[e].loaded)("addPersonalPlace",e,t)&&this.fetchSavedPersonalPlaces(),Gt(e)!==Gt(t)&&(null!==i&&this.setActiveLocation(i.id),this.layout())})}layout(){0===this.amountOfPersonalPlaces()?this.showSaveLocationForm():this.showPersonalPlacesList()}showLoginButton(){this.$loginButton.removeClass("is-hidden")}removeLoginButton(){this.$loginButton.addClass("is-hidden")}onSaveLocationFormSubmit(e){const t=this.store.getState();Wt(t)?this.saveLocation(e):window.location="/mijn/personalplaces/saveandredirect?address="+encodeURIComponent(e.location)+"&label="+encodeURIComponent(e.label)+"&latitude="+encodeURIComponent(e.coordinates.lat)+"&longitude="+encodeURIComponent(e.coordinates.lng)+"&returnUrl="+encodeURIComponent(window.location)}saveLocation(e){const t={location:e.location,label:e.label,lat:e.coordinates.lat,lng:e.coordinates.lng};this.store.dispatch(Object(Ut.c)(t)),lt.travelTime(nt.SEARCH_MAP_SAVE_POI,t.location),this.saveLocationForm.clear()}amountOfPersonalPlaces(){const e=this.store.getState();return Object.keys(Gt(e)).length}cancelSaveLocation(){this.amountOfPersonalPlaces()>0?this.showPersonalPlacesList():this.closeFlyout()}removePersonalPlace(e){const t=this.store.getState();this.store.dispatch(Object(Ut.h)(e)),t.ui.activeLocationId===e&&this.store.dispatch(Object(Ut.B)())}showPersonalPlacesList(){this.$personalPlacesListContent.removeClass("is-hidden"),this.$saveLocationFormContent.addClass("is-hidden")}showSaveLocationForm(){this.$personalPlacesListContent.addClass("is-hidden"),this.$saveLocationFormContent.removeClass("is-hidden")}fetchSavedPersonalPlaces(){this.store.dispatch(Object(Ut.m)())}personalPlaceSelected(e){lt.travelTime(nt.SEARCH_MAP_CLICK_POI_LIST,e),this.setActiveLocation(e),this.closeFlyout(),qt.trigger("travel-time-selected-ppoi")}setActiveLocation(e){this.store.dispatch(Object(Ut.s)(e))}handleAutoSuggestSuggestionsToggle(e){this.$whiteBackground.toggleClass("is-hidden",!e)}}var Yt=i(566);class Jt{constructor(e,t,i){this.store=t||Dt.a,this.onSelectPoi=i,this.connect=new _t.a(this.store,["ui.activeLocationId"]),this.$element=a()(e),this.subscribeToStore()}bindElements(){this.$element.find("[data-filter-group-id]").on("click",()=>{this.store.dispatch(Object(Ut.B)())})}subscribeToStore(){this.connect.subscribe((e,t)=>{const i=e.ui.activeLocationId;if(Object(Yt.b)(e)&&Object(Yt.a)(e,t)){this.travelTimeSelectedPoiTemplate||(this.travelTimeSelectedPoiTemplate=yt()(this.$element.find("[data-filter-flyout-selected-option-template]").html()));const t=e.entities.personalPlaces[i].label||e.entities.personalPlaces[i].location;this.renderComponent(t,i),this.bindElements()}else this.clearComponent();this.onSelectPoi(i)})}clearComponent(){this.$element.empty(),this.hideTooltips()}hideTooltips(){a()(window).trigger("remove-tooltip-last-tip-event")}renderComponent(e,t){const i=this.travelTimeSelectedPoiTemplate({id:t,groupId:"travel-time-group",label:e});this.$element.html(i)}}var Qt=Xt;function Xt(e){var t=this;t.$element=a()(e),t.$inputs=t.$element.find("input").not("[data-toggle-all-inputs-handle]"),t.$handle=t.$element.find("[data-toggle-all-inputs-handle]"),t.totalAmountInputs=t.$inputs.length,t.$inputs.on("change",(function(){var e=t.$element.find("input:checked").not("[data-toggle-all-inputs-handle]").length===t.totalAmountInputs;t.$handle.prop("checked",e)})),t.$handle.on("change",(function(){var e=t.$handle.is(":checked");t.changeCheckedState(e)})),t.initializeHandler()}Xt.prototype.initializeHandler=function(){var e=this.$handle.is(":checked");e&&this.changeCheckedState(e)},Xt.prototype.changeCheckedState=function(e){this.$inputs.each((function(){var t=a()(this);!0!==e||t.is(":checked")?!1===e&&t.is(":checked")&&(t.prop("checked",e),t.trigger("change")):(t.prop("checked",e),t.trigger("change"))}))};const ei={min:0,max:0},ti=13,ii=27,si=32,ai=a()("body"),ni=a()("document"),oi=a()(".zoek-op-kaart__map");class ri{constructor(e,t){if(this.uniqueId=null,this.bindToElements(e,t),this.bindEvents(),this.setInitialSelectedFilters(),a()(window).on("sidebar-refresh",()=>{if(null==this.uniqueId)return;const e=a()('[data-filter-flyout][data-unique="'+this.uniqueId+'"]');this.bindToElements(e,!1),this.bindEvents()}),this.isCampaignForTravelTime()&&this.$element[0].classList.contains("filter-flyout-travel-time")){a()(window).width()>=1020&&this.$flyoutButton.click(),this.cookies=Ne.a,this.cookies.setCookie("show-travel-time-tooltip-cookies",0)}}isCampaignForTravelTime(){return window.location.hash.includes("zoekopreistijd")}bindToElements(e,t){this.$element=a()(e),this.$filterOption=this.$element.find("[data-flyout-item]"),this.$filterOptionContainer=this.$element.find("[data-filter-flyout-option-label]"),this.$selectedOptions=this.$element.find("[data-flyout-selected-options]"),this.$flyout=this.$element.find("[data-filter-flyout-panel]"),this.$flyoutButton=this.$element.find("[data-filter-open-flyout]"),this.$flyoutBackdrop=this.$element.find("[data-filter-flyout-backdrop]"),this.$flyoutClose=this.$element.find("[data-filter-close-flyout]"),this.flyoutIsOpen=!1,this.$previewOptions=this.$element.find("[data-filter-flyout-preview-options]"),this.$parentFilter=this.$element.closest("[data-nested-filter]"),this.hasParentFilter=this.$parentFilter.length>0,this.$form=this.$element.closest("form"),this.$rangeInputSubmit=this.$element.find("[data-range-submit]"),this.$rangeMin=this.$element.find("[data-range-min]"),this.$rangeMax=this.$element.find("[data-range-max]");const i=this.$element.find("[data-filter-flyout-selected-option-template]");i.length>0&&(this.compiledSelectedOptionsTemplate=yt()(i.html()));const s=this.$flyout.find("[data-flyout-wrapper]"),n=this.$element.find("[data-flyout-selected-options]");if(this.$calculatorContainer=this.$element.find("[data-calculator]"),this.$calculatorInput=this.$element.find("[data-calculator-input]"),this.$calculatorOutputMin=this.$element.find("[data-calculator-output-min]"),this.$calculatorOutputMax=this.$element.find("[data-calculator-output-max]"),this.$calculatorSubmit=this.$element.find("[data-calculator-submit]"),s.length>0&&(this.travelTime=new Zt(s,null,this.closeFlyout.bind(this)),this.selectedLocation=new Jt(n,null,this.determineFilterSelected.bind(this))),t){let e=null;const t=[];this.$element.find("[data-filter-group-name]").each((i,s)=>{const n=a()(s);e=n.attr("data-filter-group-name").toLowerCase(),t.indexOf(e)<0&&(t.push(e),q.a.remove(e))})}if(this.hasParentFilter&&this.$parentFilter.on("deselect-filter-item",()=>{this.$selectedOptions.find("li").length>0&&(this.$filterOption.each((e,t)=>{const i=a()(t);this.removeFilterLabel(i)}),this.$filterOption.prop("checked",!1),this.$selectedOptions.empty())}),this.$element.find("[data-toggle-all-inputs]")){const e=this.$element.find("[data-toggle-all-inputs]")[0];this.toggleAllInputs=new Qt(e)}null==this.uniqueId&&(this.uniqueId=this.$element.data("unique"))}bindEvents(){const e=this;this.$element.on("sendrangeinputvalues",()=>{this.sendRangeEvent()}).on("rangedeselected",()=>{this.$rangeMin.val(""),this.$rangeMax.val("")}).on("resetfilter",()=>{this.$filterOption.each((e,t)=>{const i=a()(t);i[0].checked&&this.removeFilterLabel(i)})}).on("change","[data-flyout-item]",(function(){const t=a()(this);let i=null;i=t[0].checked?e.addSelectedFilterLabel(t):e.removeSelectedFilter(t);t.parents("[data-instant-search-output=wijkNaamFilter]").length>0&&ni.trigger("changeBuurt",{selectedFilterCount:i})})).on("filterflyoutclose",()=>{this.closeFlyout()});this.$calculatorContainer.length&&(this.$calculatorInput.on("keypress",e=>{const t=String.fromCharCode(e.charCode);if(!/[0-9]/.test(t))return!1;this.normalizeCalculatorInputs(e),this.updateCalculatorOutput()}),this.$calculatorInput.on("input",e=>{this.normalizeCalculatorInputs(e),this.updateCalculatorOutput()})),this.$rangeInputSubmit.on("click",()=>{this.sendRangeEvent(),this.closeFlyout()}),this.$calculatorSubmit.on("click",()=>{this.sendCalculatorEvent(),this.closeFlyout(),c.b.log({event:"GAEvent",eventCategory:"interactions-searchfilters",eventAction:"flyout-calculator-submitted",eventLabel:"number-of-people",eventValue:this.$calculatorInput.val()})}),this.$flyoutButton.on("click",()=>{this.toggleFlyout(),this.travelTime&&this.logActivityOnGoogleAnalytics()}),this.$flyoutBackdrop.on("click",()=>{this.closeFlyout()}),this.$flyoutClose.on("click",()=>{this.closeFlyout()}),this.$selectedOptions.on("click","[data-flyout-selected-option]",(function(t){t.preventDefault(),t.stopPropagation();const i=a()(this),s=i.attr("data-filter-id"),n=e.$flyout.find('input[id="'+s+'"]');n.prop("checked",!1),n.trigger("change"),i.remove()})),this.$filterOptionContainer.on("changed",()=>{this.previewTimer&&clearTimeout(this.previewTimer),this.previewTimer=setTimeout(()=>{this.setPreviewOptions()},300)}),ni.on("changeRadius",(e,t)=>{const i=0===t.selectedRadius;this.toggleBuurtFilter(i)}),a()(window).on("remove-tooltip-last-tip-event",()=>{this.toolTips=this.$element.parent().find("[data-popover]"),this.$toolTipNext=this.$flyout.parent().find("[search-map-dismiss-travel-time-tip]"),this.toolTips.eq(0).addClass("is-hidden")}),a()(window).on("tooltip-last-tip-event",()=>{this.toolTips=this.$element.parent().find("[data-popover]"),this.$toolTipNext=this.$flyout.parent().find("[search-map-dismiss-travel-time-tip]"),this.closeLastTooltip=this.toolTips.eq(0).find(".popover__close-button"),this.toolTips.eq(0).removeClass("is-hidden"),this.$toolTipNext.on("click",()=>{Ne.a.setCookie("show-travel-time-tooltip-cookies",5),this.toolTips.eq(0).addClass("is-hidden")}),this.closeLastTooltip.on("click",e=>{e.preventDefault()})})}sendRangeEvent(e){const t=e?"rangeinitialized":"rangeselected",i={min:this.$rangeMin.val(),max:this.$rangeMax.val()};(i.max||i.min)&&(this.$element.trigger(t,i),this.$element.trigger("requestSearchResult"))}sendCalculatorEvent(){const e={min:this.$calculatorOutputMin.text(),max:this.$calculatorOutputMax.text()};(e.max>0||e.min>0)&&this.$element.trigger("calculatorsurfacerange",e)}setInitialSelectedFilters(){this.$filterOption.length>0?this.$filterOption.each((e,t)=>{const i=a()(t);i[0].checked&&this.addSelectedFilterLabel(i)}):setTimeout(()=>{this.sendRangeEvent(!0)},125)}toggleFlyout(){this.flyoutIsOpen=!this.flyoutIsOpen,this.flyoutIsOpen?this.openFlyout():this.closeFlyout()}logActivityOnGoogleAnalytics(){lt.travelTime(nt.SEARCH_MAP_ENTRYPOINT_TRAVELTIME)}openFlyout(){this.flyoutIsOpen=!0;null!==document.querySelector("main > .zoek-op-kaart")&&ai.addClass("zoek-op-kaart-flyout-open"),this.$flyout.addClass("is-open").attr("aria-expanded",this.flyoutIsOpen),this.$flyout.hasClass("is-bottom")&&this.$flyout.toggleClass("is-bottom");const e=this.$flyout[0].getBoundingClientRect();e.top+e.height>oi.height()&&this.$flyout.addClass("is-bottom"),this.$flyoutButton.addClass("is-open"),this.$element.trigger("filterflyoutopened"),this.$element.on("keydown",e=>{e.keyCode===ti&&(e.preventDefault(),this.closeFlyoutOnEnter(e,e.keyCode))}),this.$element.on("keypress",(function(e){const t=e.keyCode||e.charCode,i=String.fromCharCode(t);e.target.classList.contains("filter-flyout-range-input")&&!/[0-9]/.test(i)&&t>=si&&e.preventDefault()})),ni.on("keydown.closeFlyout",e=>{e.keyCode===ii&&this.closeFlyout()})}closeFlyout(){ai.removeClass("zoek-op-kaart-flyout-open"),this.flyoutIsOpen=!1,this.$flyout.removeClass("is-open").attr("aria-expanded",this.flyoutIsOpen),this.$flyoutButton.removeClass("is-open"),this.$element.trigger("filterflyoutclosed"),this.$element.off("keydown"),ni.off("keydown.closeFlyout")}closeFlyoutOnEnter(){ai.removeClass("zoek-op-kaart-flyout-open"),this.sendRangeEvent(),this.$element.trigger("filterflyoutclose"),this.$element.off("keydown")}addSelectedFilterLabel(e){const t=this.filterIsRadioButton(e);let i=e.next(".label-text")[0].childNodes[0].nodeValue;const s=e.attr("data-filter-group-id"),a=e.attr("data-filter-group-name"),n={filterGroupId:e[0].id,filterGroupName:a.toLowerCase(),filterName:i,labelText:i};t&&(this.removeSelectedFilter(e),n.filterGroupId=s),e.is("[data-filter-flyout-add-groupname-to-label]")&&(i=i+" ("+a.toLowerCase()+")"),e.is("[data-filter-flyout-add-groupname-to-filter]")&&(n.labelText=n.labelText+" ("+n.filterGroupName+")");const o={id:e[0].id,label:i,groupId:s};this.appendFilterOption(o);const r=this.determineFilterSelected();return q.a.add(n,()=>{this.removeFilterLabel(e,this)},t),r}appendFilterOption(e){const t=this.compiledSelectedOptionsTemplate(e);this.$selectedOptions.append(t)}removeSelectedFilter(e){let t=null,i=e[0].id;return this.filterIsRadioButton(e)?(i=e.attr("data-filter-group-id"),t=this.$selectedOptions.find('[data-filter-group-id="'+i+'"]')):t=this.$selectedOptions.find('[data-filter-id="'+i+'"]'),t.length>0&&(t.remove(),this.determineFilterSelected(),q.a.remove(i)),this.determineFilterSelected()}removeFilterLabel(e,t){(t||this).removeSelectedFilter(e),e.prop("checked",!1),e.trigger("change")}filterIsRadioButton(e){return"radio"===e.attr("type")}determineFilterSelected(e){const t=this.$element.find("[data-flyout-selected-option]").length;return e||t>0?this.$element.addClass("has-selected-filter"):this.$element.removeClass("has-selected-filter"),t}setPreviewOptions(){const e=[];this.$filterOptionContainer.each((function(t,i){const s=a()(i);s.hasClass("is-disabled")||e.push(s.attr("data-filter-flyout-option-label"))})),this.$previewOptions.text(e.join(", "))}toggleBuurtFilter(e){const t=ai.find('[data-instant-search-output="wijkNaamFilter"]');0!==t.length&&(e?a()(".filter-flyout",t).removeClass("is-disabled"):(a()(".filter-flyout-fieldset input[type=checkbox]:checked",t).click(),a()(".filter-flyout",t).addClass("is-disabled")))}trimCalculatorExcessInputDigits(e){e.target.value.length>4&&this.$calculatorInput.val(e.target.value.slice(0,4))}convertTotalPeopleToSquareMeters(){const e=this.$calculatorInput.val();0===e.length||0===Number(e)?(ei.min="...",ei.max="..."):(ei.min=6*e,ei.max=9*e)}normalizeCalculatorInputs(e){this.trimCalculatorExcessInputDigits(e),this.convertTotalPeopleToSquareMeters()}updateCalculatorOutput(){this.$calculatorOutputMin.text(ei.min),this.$calculatorOutputMax.text(ei.max)}}a()("[data-filter-flyout]").each((function(e,t){return new ri(t,!1)}));var li=i(402),di=i.n(li),ci=i(387),hi=i.n(ci),pi=i(25),ui=i.n(pi),mi=(i(375),i(15)),gi=i.n(mi),fi=i(403),vi=i.n(fi);class bi{initialize(){const e=this;let t=window.history.pushState,i=window.history.replaceState;window.history.pushState=function(i,...s){const a=e.processState(i);t.apply(window.history,[a].concat(s))},window.history.replaceState=function(t,...s){const a=e.processState(t);i.apply(window.history,[a].concat(s))},window.onpopstate=function(e){let t=e.state;ui()(t)&&t.scrollX&&t.scrollY&&vi()(t.scrollX)&&vi()(t.scrollY)&&window.scrollTo(t.scrollX,t.scrollY)}}processState(e){let t={scrollX:window.scrollX,scrollY:window.scrollY};return"string"==typeof e||gi()(e)?t.state=e:ui()(e)&&(t=a.a.extend(t,e)),t}}var wi=i(565);class $i{constructor(e,t,i){this.initialize(e,t,i)}initialize(e,t,i){t.$map||"SAVED_OBJ"===t.name?this.renderOutputResults(t,i):(this.updateMetatagDescriptions(t,i),this.updateFilterOptions(t,i),this.updateTotalCount(t,i),this.updateCounts(t,i),this.updateDocumentTitle(e,i),t.$form.find("[data-search-sidebar]").hasClass("is-extended")?t.asyncResult=i:this.renderOutputResults(t,i),i.content.historischAvailable?t.soldObjectToggle.removeClass("disabled"):(t.soldObjectToggle.removeClass("disabled").addClass("disabled"),t.soldObjectToggle.find('[for="IndHistorisch-koop1"]').click()))}updateDocumentTitle(e,t){e.title=t.title}renderOutputResults(e,t){const i=t.content;for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&e.outputMap[t]&&null!==i[t]&&(e.outputMap[t].is("input")?e.outputMap[t].val(i[t]):e.outputMap[t].html(i[t]));Object.keys(i).length>0&&(this.removeResultsUpdatingClass(e),this.trackEvents(e,t)),e.updateBinds(i)}trackEvents(e,t){this.sendResultsUpdatedEvent(t.url);const i=e.$form.attr("data-page-viewed");i&&Object(Ee.a)(i)}sendResultsUpdatedEvent(e){a()(document).trigger("resultsUpdated",{url:e});const t=new Event("resultsUpdated");document.dispatchEvent(t)}removeResultsUpdatingClass(e){e.$outputs.removeClass("is-updating")}updateFilterOptions(e,t){e.soldFilterOption.attr("href",t.historischAanbodUrl),e.soldFilterOption.text(t.historischAanbodLabel),e.soldFilterOption.toggleClass("multiline",t.multilineHistorischAanbodLabel),e.forSaleFilterOption.text(t.actiefAanbodLabel),e.forSaleFilterOption.toggleClass("multiline",t.multilineActiefAanbodLabel)}updateMetatagDescriptions(e,t){e.metaDescriptionTag&&e.metaDescriptionTag.setAttribute("content",t.description)}updateCounts(e,t){const i=t.counts;for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)){const s=e.$form.find('[data-instant-search-count="'+t+'"]'),a=s.closest("li"),n=i[t];s.text(n),"0"===n?a.addClass("has-no-results"):a.removeClass("has-no-results")}}updateTotalCount(e,t){const i=t.content.total,s=t.content.searchButtonTotal;e.outputMap&&e.outputMap.total&&e.outputMap.total.each((function(e,t){a()(t).text(i)})),e.outputMap&&e.outputMap.searchButtonTotal&&e.outputMap.searchButtonTotal.each((function(e,t){a()(t).text(s)}))}}const yi="pushState"in window.history;let ki=!1;const Ci=sessionStorage.scrollTop,Si=window.location.pathname.includes("koop");class Ti{constructor(e){if(!yi)return;const t=this;t.bindToElements(e),t.bindToEvents(),t.hasReplaceState&&window.history.replaceState("push_state_set_by_funda",window.title),0===a()("[data-instant-map-search]").length&&(t.historyState=new bi,t.historyState.initialize()),t.vuexStore=wi.a}browserHasReplaceState(){try{return window.history.replaceState("push_state_set_by_funda",window.title),!0}catch(e){return this.logError(e.message),!1}}bindToElements(e){const t=a()(e),i=Si||document.referrer.includes("huur");document.onreadystatechange=()=>{"complete"==document.readyState&&Si&i&&setTimeout(()=>{window.scrollTo(0,Ci)},500)},this.form=e,this.$form=t,this.outputMap={},this.request=null,this.asyncResult={},this.metaDescriptionTag=document.querySelector('meta[name="description"]'),this.soldFilterOption=this.$form.find("[data-instant-search-sold-objects]"),this.forSaleFilterOption=this.$form.find("[data-instant-search-for-sale-objects]"),this.soldObjectToggle=this.$form.find(".sold-objects-toggle"),this.stateObject={},this.$filterCountNumber=this.$form.find("[data-filter-count-number]"),this.$outputs=this.getOutputs(a()("body")),this.hasReplaceState=this.browserHasReplaceState(),this.sortTypeSelectBox=this.$form.find("[data-sorting]"),this.historyState=new bi,this.historyState.initialize()}bindToEvents(){const e=this;function t(){return p()(t=>{e.doRequest(t)},500,{leading:!0})}window.addEventListener("storeUpdated",t()),e.$form.find("[data-search-sidebar]").on("sidebarclosed",(function(){Object.keys(e.asyncResult).length>0&&(e.IsMapOrSavedObj()||(e.UpdateDomAfterSearch.renderOutputResults(e,e.asyncResult),e.asyncResult={}))})),window.addEventListener("popstate",e.onpopstate,!1),window.addEventListener("pagehide",e.rememberScrollPosition),e.$form.on("change","[data-input-radius] select",t()),e.$form.on("change","[data-search-filter-checkbox]",t()),e.$form.on("change","[data-instant-search-handle]",t()),e.$form.on("change","select[data-zoektype]",t()),e.$form.on("requestSearchResult",t()),a()("body").delegate("[data-sorting]","change",(function(){ki=!0}))}IsMapOrSavedObj(){return!(!this.$map&&"SAVED_OBJ"!==this.name)}onpopstate(e){const t=e.state;ui()(t)&&"push_state_set_by_funda"===t.state&&window.location.reload()}rememberScrollPosition(){if(Si){const e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;sessionStorage.setItem("scrollTop",e)}else sessionStorage.setItem("scrollTop",0)}serializeVUEXData(e){return di.a.stringify(e)}doRequest(){const e=this;let t="",i=e.$form.serialize();e.vuexStore.state.searchUrl&&(t=e.serializeVUEXData(this.vuexStore.state.searchUrl)),a()(".container.search-main").addClass("disabled-point-events"),e.$outputs.addClass("is-updating"),a()(document).trigger("resultsUpdating"),e.request&&e.request.abort(),e.request=Object(ne.a)({url:e.form.action,method:(this.form.method||"POST").toUpperCase(),data:i+"&"+t,timeout:3e4}),e.request.done((function(t){a()(".container.search-main").removeClass("disabled-point-events"),t.Error?(e.stoppedUpdating(),e.logError(t.Error),e.$form.trigger("invalidlocation")):t.forcedRedirectUrl?window.location=t.forcedRedirectUrl:(e.IsMapOrSavedObj()?e.updateResults(t):e.UpdateDomAfterSearch=new $i(document,e,t),e.vuexStore.dispatch("updateFilterCounts",t.counts),e.updateHistory(t.url),ki&&(e.sendSortStats(),ki=!1))})),e.request.fail((function(t){"abort"!==t.statusText&&e.stoppedUpdating()}))}markSelectedSource(e,t){const i=this,s=a()(t.target).attr("name");if(void 0!==s){const t=-1==="123456789".indexOf(s.slice(-1))?s:s.substr(0,s.length-1),n=i.$form.find("input[name^="+t+"]");hi()(n,(function(e,t){const i=a()(t).attr("name");return-1===e.indexOf(i)&&e.push(i),e}),[]).length>1&&(e+="&filter_InteractionBase="+t,e+="&filter_InteractionPostfix="+s.replace(t,""))}return e}logError(e){void 0!==window.gtmDataLayer&&gtmDataLayer.push({event:"searchResultError",errorType:"invalid-"+e})}stoppedUpdating(){this.$outputs.removeClass("is-updating")}updateHistory(e){window.history.pushState("push_state_set_by_funda",window.title,e),a()(document).trigger("updateTranslateLink",[{url:e}])}updateBinds(e){const t=this;if(a()("[data-custom-select-box]").each((e,t)=>new le(t)),e.wijkNaamFilter&&e.wijkNaamFilter.length>1){const e=t.$form.find("[data-dynamic-filter]");return new ri(e,!0)}t.$form.find("[data-dynamic-filter]").length<1&&q.a.remove("buurt")}getOutputs(e){const t=this,i=e.find("[data-instant-search-output]");return i.each((function(e,i){const s=i.getAttribute("data-instant-search-output"),n=t.outputMap[s]||a()();t.outputMap[s]=n.add(i)})),i}sendSortStats(){const e=this.sortTypeSelectBox.val().split("-")[1];void 0!==window.gtmDataLayer&&window.gtmDataLayer.push({event:"sendSortOption",sortOption:e})}}a()("[data-instant-search]").each((function(e,t){new Ti(t)}));function Ei(e,t,i){this.urlClick=e.getAttribute("data-makelaars-ads-click-url"),this.imgFallback=e.getAttribute("data-makelaar-ads-fallback"),this.$element=a()(e),this.$items=this.$element.find("[data-makelaar-ads-item]"),this.ads=[],this.defaultImageUrl=i,this.promotionImageUrl=e.getAttribute("data-makelaars-ads-promotion-image-url"),this.promotionText=e.getAttribute("data-makelaars-ads-promotion-text"),this.resetAds(),this.loadAds(this.visibleItems(),t),this.handleClickEvent()}Ei.prototype.resetAds=function(){const e=this.$items;for(let t=0;t<e.length;t++){let i=e[t];a()(i).find("[data-makelaar-ads-title]").empty(),a()(i).find("[data-makelaar-ads-logo]").attr("src",""),a()(i).find("[data-makelaar-ads-line1]").empty(),a()(i).find("[data-makelaar-ads-line2]").empty(),a()(i).find("[data-makelaar-ads-website]").html(""),a()(i).attr("href",null),a()(i).attr("class","makelaar-ads-item"),a()(i).attr("data-globalId",""),a()(i).find("[data-makelaar-ads-logo]").remove()}this.$element.addClass("reset-ads")},Ei.prototype.visibleItems=function(){return this.$items.filter(":visible")},Ei.prototype.loadAds=function(e,t){const i=t+"&count="+e.length;this.loadAdsAjax(i)},Ei.prototype.loadAdsAjax=function(e){const t=this;a.a.get({url:e,crossDomain:!0,dataType:"json",success:function(e){t.setAds(e.MakelaarAds),t.togglePromoAdForMakelaarIfSpaceAvailable()}})},Ei.prototype.updateObjects=function(e){return e},Ei.prototype.setAds=function(e){const t=this;for(let i=0;i<e.length;i++){let s=t.getAvailableSlot(),a=e[i];!1===t.isAdAlreadyBeingDisplayed(a)&&this.renderAd(s,a)}e.length>0&&(t.$element.removeClass("reset-ads"),t.$element.addClass("injected")),a.a.each(e,(function(){t.ads.push(this)}),this)},Ei.prototype.togglePromoAdForMakelaarIfSpaceAvailable=function(){const e=this;if(e.ads.length>0&&(e.$element.find("[makelaar-ads-header]").css("max-height","inherit"),e.$element.find("[makelaar-ads-header]").show(),1===e.ads.length&&e.visibleItems().length>1)){const t={GlobalId:0,Titel:e.promotionText,TekstRegels:["Adverteer hier met uw kantoor in","uw werkgebied"],LinkText:"Klik voor meer informatie",ImageUrl:e.promotionImageUrl,Href:"/voormakelaars/product/makelaar-in-de-buurt/"},i=e.getAvailableSlot();e.renderAd(i,t)}},Ei.prototype.isAdAlreadyBeingDisplayed=function(e){const t=this.visibleItems();for(let i=0;i<t.length;i++){let s=t[i];if(a()(s).attr("data-globalId")===e.GlobalId)return!0}return!1},Ei.prototype.getAvailableSlot=function(){const e=this.visibleItems();for(let t=0;t<e.length;t++){let i=e[t];if(""===i.getAttribute("data-globalId"))return i}},Ei.prototype.renderAd=function(e,t){const i=this,s=t.ImageUrl||i.defaultImageUrl;a()(e).find(".makelaar-ads-image-wrap").append(`\n        <img\n        data-makelaar-ads-logo\n        class="makelaar-ads-image"\n        onError="this.onerror=null; this.src='${i.imgFallback}"\n        src="${s}"\n        >\n    `),a.a.ajax({url:s,type:"GET",error:function(){a()(e).find("[data-makelaar-ads-logo]").attr("src",i.imgFallback)}}),a()(e).attr("data-globalId",t.GlobalId),a()(e).find("[data-makelaar-ads-title]").text(t.Titel),a()(e).find("[data-makelaar-ads-line1]").text(t.TekstRegels[0]),a()(e).find("[data-makelaar-ads-line2]").text(t.TekstRegels[1]),a()(e).find("[data-makelaar-ads-website]").text(t.LinkText),a()(e).addClass("loaded"),a()(e).attr("href",t.Href),a()(e).css("max-height","inherit"),a()(e).attr("data-index",t.Index).attr("data-geogebiednaam",t.GeoGebiedNaam).attr("data-geogebiedniveau",t.GeoGebiedNiveau).attr("data-makelaarid",t.MakelaarId)},Ei.prototype.handleClickEvent=function(){this.unregisterClickEvent("click",".makelaar-ads-item"),this.handleElementOnClick()},Ei.prototype.handleElementOnClick=function(){const e=this;e.$items.on("click",(function(){const t=a()(this);e.handleClick(t)}))},Ei.prototype.handleClick=function(e){this.registerClick(e)},Ei.prototype.unregisterClickEvent=function(e){this.$items.off(e)},Ei.prototype.registerClick=function(e){const t={makelaarAdId:e.attr("data-globalId"),makelaarAdPosition:e.attr("data-index")-1,geoGebiedNaam:e.attr("data-geogebiednaam"),geoGebiedNiveau:e.attr("data-geogebiedniveau"),makelaarId:e.attr("data-makelaarid")};+t.makelaarAdId&&a.a.ajax({url:this.urlClick,type:"POST",data:t})},Ei.prototype.setCurrentUrl=function(e){return a()("[data-makelaar-ads]").attr("data-makelaars-ads-feed-url",e)},Ei.prototype.getCurrentUrl=function(){return a()("[data-makelaar-ads]").attr("data-makelaars-ads-feed-url")},Ei.prototype.getAsyncUrl=function(){return a()("[data-makelaarads-feed-async]").attr("data-makelaarads-feed-async-url")},Ei.prototype.handleMakelaarAdsOnResultsUpdated=function(){let e=Ei.prototype.getAsyncUrl();e!=Ei.prototype.getCurrentUrl()&&Ei.prototype.createMakelaarAds(e),Ei.prototype.setCurrentUrl(e)},Ei.prototype.createMakelaarAds=function(e){a()("[data-makelaar-ads]").each((t,i)=>new Ei(i,e,i.getAttribute("data-makelaars-ads-default-image-url")))},Ei.initialize=function(){a()("[data-makelaar-ads]").each((e,t)=>new Ei(t,t.getAttribute("data-makelaars-ads-feed-url"),t.getAttribute("data-makelaars-ads-default-image-url"))),a()(document).on("resultsUpdated",(function(){Ei.prototype.handleMakelaarAdsOnResultsUpdated()}))},Ei.initialize();const Oi="data-filter-visibility-target";class Ii{constructor(e){const t=this;t.$element=a()(e),t.$targets=a()("[data-filter-visibility-target]"),t.vuexStore=wi.a,t.connectToVueStore(),t.$element.on("change","[data-filter-visibility-invalid-filters]",e=>{t.$element.find("[data-filter-visibility-invalid-filters]").each((function(e,i){const s=a()(i).attr("data-filter-visibility-invalid-filters").split(" ");t.enableFilters(s)}));const i=a()(e.currentTarget);if(i.is(":checked")){const e=i.attr("data-filter-visibility-invalid-filters").split(" ");t.disableFilters(e)}})}connectToVueStore(){const e=this,t=["PublicatieDatum","ExtrasGroup"];e.vuexStore.subscribe(i=>{let s;"updateFilter"===i.type?(s=i.payload.filterData[i.payload.filterData.filterTitle].data[0].value,"onbeschikbaar"===s&&e.disableFilters(t)):"removeFilter"===i.type&&(s=i.payload.value,"onbeschikbaar"===s&&e.enableFilters(t))})}disableFilters(e){this.$targets=a()("[data-filter-visibility-target]"),this.$targets.each((function(t,i){const s=i.getAttribute(Oi);if(e.indexOf(s)>-1){let e=a()(i);e.trigger("resetfilter"),e.addClass("is-disabled").trigger("changed")}}))}enableFilters(e){this.$targets.each((function(t,i){const s=i.getAttribute(Oi);e.indexOf(s)>-1&&a()(i).removeClass("is-disabled")}))}}a()("[data-filter-visibility]").each((e,t)=>new Ii(t));function xi(e){this.$element=a()(e),this.$pageNumber=a()(),this.$element.on("click","[data-pagination-page]",e=>{e.preventDefault();var t=a()(e.currentTarget).attr("data-pagination-page");this.setPage(t)}).bind(this)}xi.prototype.setPage=function(e){window.scrollTo(0,0),this.$pageNumber=this.$element.find("[data-pagination-input]"),this.$pageNumber.val(e),this.$element.trigger("pageadjusted"),this.$element.trigger("requestSearchResult")},xi.initialize=function(){a()("[data-pagination]").each((e,t)=>new xi(t))},xi.initialize();class Li{constructor(e){this.groupName=null,this.bindToElements(e),this.groupSettings={filterGroupId:this.$element.attr("data-radio-group"),filterGroupName:this.$element.attr("data-radio-group-label")},this.initialCheckState(),this.bindEvents(),a()(window).on("sidebar-refresh",()=>{if(null==this.groupName)return;const e=a()("[data-radio-group][data-radio-group="+this.groupName+"]");this.bindToElements(e),this.initialCheckState(),this.bindEvents()})}bindToElements(e){this.$element=a()(e),this.$item=this.$element.find("[data-radio-group-item]"),this.$items=this.$element.find("[data-radio-group-items]"),this.$inputs=this.$element.find("[data-radio-group-input]"),this.isNestedFilter=this.$element.is("[data-nested-filter]"),this.$rangeFlyout=this.$element.find("[data-filter-flyout-range]"),this.rangeTemplate=this.$element.find("[data-range-template]"),this.isExpandible=this.$element.is("[data-is-expandible]"),this.$rangeItem=this.$element.find("[data-radio-group-range]"),this.separator=this.rangeTemplate.attr("data-thousand-separator"),this.unitType=this.rangeTemplate.attr("data-range-unit-type"),this.notInAppliedFilters=this.$element.is("[data-not-in-applied-filters]"),null==this.groupName&&(this.groupName=this.$element.attr("data-radio-group"))}bindEvents(){const e=this;this.$element.on("change","[data-radio-group-input]",(function(){const t=a()(this);e.toggleCheckedState(t)})),this.$element.on("reset",()=>{this.$items.find("[data-radio-group-range]").remove(),this.$element.removeClass("has-checked"),this.$item.removeClass("is-checked")}),this.$element.on("resetfilter",()=>{this.resetCheckState()}),this.$rangeFlyout.on("rangeselected",(e,t)=>{this.addActiveRangeLabel(t)}),this.$rangeFlyout.on("rangeinitialized",(e,t)=>{this.addActiveRangeLabel(t)})}addActiveRangeLabel(e){let t=this.rangeTemplate.html(),i=this.groupSettings;this.$items.find("[data-radio-group-range]").remove(),!e.min&&e.max&&(e.min="0");let s="";e.min&&!e.max?(e.min=e.min+"+",t=t.replace("- ",""),s=r.format(e.min,this.separator)):s=r.format(e.min,this.separator)+" - "+r.format(e.max,this.separator),t=t.replace("{min}",r.format(e.min,this.separator)).replace("{max}",r.format(e.max,this.separator)),i.labelText=s+" "+this.unitType,i.filterName=i.labelText.replace("("+i.filterGroupName+")",""),this.applyOption(i),this.$items.append(t),this.$element.addClass("has-checked"),this.onRemoveActiveRange()}onRemoveActiveRange(){this.$rangeItem=this.$element.find("[data-radio-group-range]"),this.$rangeItem.on("click",()=>{this.removeCheckedState(),this.$rangeItem.remove(),this.$rangeFlyout.trigger("rangedeselected"),a()("[data-instant-search]").trigger("requestSearchResult")})}initialCheckState(){const e=this.$inputs.filter(":checked"),t=this.$inputs.index(e);this.onRemoveActiveRange(),this.isExpandible&&(this.$element.attr("data-expandible",""),this.expandible=new te(this.$element[0])),this.isExpandible&&t>2&&this.expandible.toggleExpand(!0),e.length>0&&this.toggleCheckedState(e.first())}toggleCheckedState(e){const t=e.closest("[data-radio-group-item]");e.is("[data-radio-group-default]")?this.removeCheckedState():this.addCheckedState(t,e)}resetCheckState(e){const t=e||this,i=t.$inputs.filter(":checked"),s=i.is("[data-radio-group-default]");if(""!==i.val()&&i.length>0){if(s)i.prop("checked",!1);else t.$inputs.filter("[data-radio-group-default]").prop("checked",!0);t.$items.find("[data-radio-group-range]").remove(),t.removeCheckedState()}t.$rangeItem.length>0&&(t.$rangeItem.remove(),t.$rangeFlyout.trigger("rangedeselected"),t.removeCheckedState()),t.$element.trigger("requestSearchResult")}removeCheckedState(){this.$element.removeClass("has-checked"),this.$item.removeClass("is-checked"),q.a.remove(this.groupSettings.filterGroupId),this.isNestedFilter&&this.$element.trigger("deselect-filter-item")}addCheckedState(e,t){let i=this.groupSettings;this.$element.addClass("has-checked"),this.$item.not(e).removeClass("is-checked"),e.addClass("is-checked"),i.filterName=t.attr("data-radio-group-option-name"),i.labelText=i.filterName,t.is("[data-radio-group-add-groupname-to-filter]")?i.labelText=i.filterName+" ("+i.filterGroupName+")":t.is("[data-radio-group-add-text-to-filter]")&&(i.labelText=i.filterName+" ("+t.data("radioGroupAddTextToFilter")+")"),this.applyOption(i)}applyOption(e){this.notInAppliedFilters||q.a.add(e,()=>{this.resetCheckState(this)})}}a()("[data-radio-group]").each((e,t)=>new Li(t));class Pi{constructor(e){const t=this;t.$element=a()(e),t.$autocomplete=t.$element.find("[data-autocomplete]"),t.$autocomplete.on("searchQuerySet",(e,i)=>{t.setMultiplePlacesSearch(i.disableRadioFilter)})}setMultiplePlacesSearch(e){const t=this;e?(t.$element.addClass("is-multiple-places"),t.$element.removeClass("has-radius")):(t.$element.removeClass("is-multiple-places"),t.$element.addClass("has-radius"))}}a()("[data-search-header-selector]").each((e,t)=>new Pi(t));i(587);class Ai{constructor(e,t,i){this.$html=t?a()(t):a()("html"),this.window=i||window,this.currentViewportWidth=this.window.innerWidth,this.scrollPosition=0,this.$element=a()(e),this.$form=this.$element.closest("form"),this.initialize(),this.bindEvents()}initialize(){this.$element.addClass("is-extendable"),this.close()}bindEvents(){window.addEventListener("filterflyoutopened",()=>{this.openFlyoutEvent()}),this.$form.on("filterflyoutopened","[data-filter-flyout]",()=>{this.openFlyoutEvent()}),this.$form.on("filterflyoutclosed","[data-filter-flyout]",()=>{this.$element.removeClass("has-open-flyout"),this.$element.animate({scrollTop:this.scrollPosition},0)}),this.$form.on("click","[data-has-preview-filter]",()=>{this.$element.toggleClass("has-preview-filter")}),this.$form.on("filterflyoutclosed","[data-filter-flyout]",()=>{this.$element.removeClass("has-preview-filter")}),this.$html.on("click","[data-search-close-flyout]",()=>{this.$element.find("[data-filter-flyout]").trigger("filterflyoutclose")}),this.$html.on("click","[data-sidebar-handle]",e=>{e.preventDefault(),this.toggleSidebarVisibility()}),a()(this.window).on("sidebar-refresh",()=>{const e=a()("[data-search-sidebar]");this.sidebarRefreshHandler(e)}),a()(this.window).on("travel-time-selected-ppoi",()=>{this.close()}),a()(window).resize(()=>{window.innerWidth!==this.currentViewportWidth&&window.innerWidth>=1020&&(this.close(),this.currentViewportWidth=window.innerWidth)})}openFlyoutEvent(){this.$element.addClass("has-open-flyout"),this.scrollPosition=this.$element.scrollTop(),this.$element.animate({scrollTop:0},0)}toggleSidebarVisibility(){this.isExtended?this.close():this.open()}sidebarRefreshHandler(e){1===e.length&&(this.$element=e,this.initialize())}open(){this.isExtended=!0,this.$element.addClass("is-extended"),this.$html.addClass("sidebar-is-extended"),this.window.parent.postMessage("isSidebarOpen=true","*")}close(){this.window.scrollTo(0,0),this.isExtended=!1,this.$element.removeClass("is-extended"),this.$element.trigger("sidebarclosed"),this.$html.removeClass("sidebar-is-extended"),this.window.parent.postMessage("isSidebarOpen=false","*")}}a()("[data-search-sidebar]").each((e,t)=>new Ai(t));function ji(e){this.$element=a()(e),this.vanRangeSelectorConfiguration=this.createRangeSelectorConditionalConfiguration(this.createElementSelector(e.id,"min"),"data-van"),this.totRangeSelectorConfiguration=this.createRangeSelectorConditionalConfiguration(this.createElementSelector(e.id,"max"),"data-tot"),this.bindEvents()}ji.prototype.bindEvents=function(){const e=this;e.$element.on("change",t=>e.updateTargetedRangeSelectors(t.target||t.srcElement,e))},ji.prototype.addOptions=(e,t)=>t.forEach(t=>e.add(t)),ji.prototype.isValueToKeep=(e,t)=>t.filter(t=>e.value===t).length>0,ji.prototype.clearAllOptions=e=>[].slice.call(e.options).forEach(()=>e.remove(0)),ji.prototype.createFormattedValue=(e,t,i,s)=>e.replace(i,r.format(s,t)),ji.prototype.selectMatchingOption=(e,t)=>e.filter(e=>t(e.value)).shift(),ji.prototype.createElementSelector=(e,t)=>'[data-conditie-filter-target="'+e+'"][data-range-filter-'+t+"] [data-range-filter-selector-preset-select]",ji.prototype.getIndexForMatchingOption=(e,t)=>e.reduce((e,i,s)=>t(i)?s:e,void 0),ji.prototype.addAsLastOptionIfNonEmpty=(e,t)=>e&&t.push(e),ji.prototype.splitToListOfTrimmedValues=(e,t)=>e.split(t).map(e=>e.trim()),ji.prototype.isPlaceholderValueForCustomValue=e=>"other"===e,ji.prototype.isPlaceholderValueForNoMaximumValue=e=>"ignore_filter"===e,ji.prototype.hasPlaceholderValueForDefaultRangeSelectorValue=e=>""===e.getAttribute("data-range-filter-selector-default-value"),ji.prototype.addRangeFilterSelectorDefaultValueAttributeToOption=e=>e.setAttribute("data-range-filter-selector-default-value",""),ji.prototype.createRangeSelectorConditionalConfiguration=(e,t)=>({attributeNameDefaultValue:t+"-default-value",attributeNameNewRangeValue:t+"-range",selectorTargetRangeSelector:e,attributeNameOptionValuesToKeep:t+"-options-to-keep",thousandSeparator:".",displayTemplate:"€ {token}",splitSymbol:":",token:"{token}"}),ji.prototype.updateTargetedRangeSelectors=function(e,t){const i=e.options[e.selectedIndex];t.updateTargetedRangeSelectorForConfigurationAndCondition(t.vanRangeSelectorConfiguration,i),t.updateTargetedRangeSelectorForConfigurationAndCondition(t.totRangeSelectorConfiguration,i),a()(t.vanRangeSelectorConfiguration.selectorTargetRangeSelector).trigger("reset"),a()(t.totRangeSelectorConfiguration.selectorTargetRangeSelector).trigger("reset"),a()(t.totRangeSelectorConfiguration.selectorTargetRangeSelector).trigger("change")},ji.prototype.updateTargetedRangeSelectorForConfigurationAndCondition=function(e,t){const i=this,s=document.querySelector(e.selectorTargetRangeSelector),a=t.getAttribute(e.attributeNameDefaultValue),n=i.createOptionsForRangeSelector(i.splitToListOfTrimmedValues(t.getAttribute(e.attributeNameNewRangeValue),e.splitSymbol),i.splitToListOfTrimmedValues(t.getAttribute(e.attributeNameOptionValuesToKeep),e.splitSymbol),s,a,t=>i.createFormattedValue(e.displayTemplate,e.thousandSeparator,e.token,t));i.updateRangeSelectorWithOptions(s,n)},ji.prototype.createOptionsForRangeSelector=function(e,t,i,s,a){const n=this,o=[].slice.call(i.options).filter(e=>n.isValueToKeep(e,t)),r=o.filter(e=>n.isPlaceholderValueForCustomValue(e.value)).shift(),l=e.map(e=>new Option(a(e),e));l.unshift(r);const d=n.selectMatchingOption(o,n.isPlaceholderValueForNoMaximumValue);n.addAsLastOptionIfNonEmpty(d,l);const c=l.filter(e=>e.value===s).shift();return n.addRangeFilterSelectorDefaultValueAttributeToOption(c),l},ji.prototype.syncSelectedIndexWithFlaggedDefaultOption=function(e){e.selectedIndex=this.getIndexForMatchingOption([].slice.call(e.options),this.hasPlaceholderValueForDefaultRangeSelectorValue)},ji.prototype.updateRangeSelectorWithOptions=function(e,t){this.clearAllOptions(e),this.addOptions(e,t),this.syncSelectedIndexWithFlaggedDefaultOption(e)},a()("[data-conditional-range-filter]").each((e,t)=>new ji(t));class Mi{constructor(e){this.$element=a()(e),this.$targets=this.$element.find("[data-search-price-toggle-target]"),this.$currentActiveTarget=this.$element.find("[data-search-price-toggle-target].is-active"),this.$buttons=this.$element.find("[data-search-price-toggle-input]"),this.$targetsDisplay=this.$element.find("[data-display-range-value]"),this.$currentActiveTargetDisplay=this.$element.find("[data-display-range-value].is-active"),this.vuexStore=wi.a}initialize(){this.bindEvents(),this.addPriceFilterLabel()}bindEvents(){this.$element.on("change","[data-search-price-toggle-input]",e=>{const t=a()(e.currentTarget).val();this.addPriceFilterLabel(),this.showTarget(t)}),this.$element.on("change","[data-display-range-filter]",e=>{const t=a()(e.currentTarget).val();this.addPriceFilterLabel(),this.showTargetDisplay(t)}),this.vuexStore.subscribe(e=>{"clearAllFilters"===e.type&&this.removePriceFilterLabel("price-toggle-group")})}addPriceFilterLabel(){const e=this.getSelectedButtonPriceLabel(),t={filterGroupId:"price-toggle-group",filterGroupName:"price-toggle-group",filterName:e+"_label",labelText:e};"Beide"===e||"Both"===e?q.a.remove(t.filterGroupId):e&&q.a.add(t,()=>{this.removePriceFilterLabel(t.filterGroupId)},!0)}getSelectedButtonPriceLabel(){return this.$buttons.filter(":checked").data("labelText")}showTarget(e){this.$currentActiveTarget.find("[data-range-filter]").trigger("resetfilter"),this.$targets.removeClass("is-active"),this.$currentActiveTarget=this.$element.find('[data-search-price-toggle-target="'+e+'"]'),this.$currentActiveTarget.addClass("is-active")}showTargetDisplay(e){this.$currentActiveTargetDisplay.trigger("resetfilter"),this.$targetsDisplay.removeClass("is-active"),this.$currentActiveTargetDisplay=this.$element.find('[data-display-range-value="'+e+'"]'),this.$currentActiveTargetDisplay.addClass("is-active")}removePriceFilterLabel(e){q.a.remove(e),this.selectBeide(),this.$element.trigger("requestSearchResult")}selectBeide(){const e=this.$buttons.filter("#PrijsToggle-Beide");e.length&&(e[0].checked=!0),this.showTarget("Beide")}}a()("[data-search-price-toggle]").each((e,t)=>{new Mi(t).initialize()});var Di=i(404),_i=i.n(Di);class Ri{constructor(e){var t=this;a()(document).on("resultsUpdated",(function(){a()("[data-top-position]").each((function(e,i){t.init(i)}))})),t.init(e)}init(e){this.element=e,this.$element=a()(e),this.loggedEndpoints=[],this.endpoints=Ri.getEndPoints(e),this.logTracking(this.endpoints),this.bindEvents()}logTracking(e){return e.map(e=>(this.loggedEndpoints.push(e),a.a.ajax(e)))}bindEvents(){var e=this;a()(window).on("resize",p()((function(){var t=Ri.getEndPoints(e.element),i=_i()(t,e.loggedEndpoints);i.length>0&&e.logTracking(i)}),200))}static getValidElements(e){return e.find("[data-top-position-item]:visible")}static getEndPoints(e){var t=Ri.getValidElements(a()(e)),i=[];return t.each((function(e,t){i.push(a()(t).attr("data-top-position-item"))})),i}}a()("[data-top-position]").each((function(e,t){return new Ri(t)}));function Fi(e){this.$element=a()(e),this.$form=this.$element.find("form"),this.$submitButton=this.$element.find("[data-hypotheek-contact-submit]"),this.$optinCheckbox=this.$element.find("[data-hypotheek-contact-optin]"),this.bindEvents()}Fi.prototype.bindEvents=function(){const e=this;e.$form.on("submit",()=>e.checkValidity()),e.$optinCheckbox.on("change",()=>e.validateCheckbox())},Fi.prototype.checkValidity=function(){const e=this;e.$form.valid()||(e.disableSubmitButton(),e.uncheckOptinCheckbox())},Fi.prototype.uncheckOptinCheckbox=function(){this.$optinCheckbox.prop("checked",!1)},Fi.prototype.validateCheckbox=function(){this.$optinCheckbox.prop("checked")?this.enableSubmitButton():this.disableSubmitButton()},Fi.prototype.enableSubmitButton=function(){this.$submitButton.removeAttr("disabled")},Fi.prototype.disableSubmitButton=function(){this.$submitButton.attr("disabled","disabled")},a()("[data-hypotheek-contact]").each((function(e,t){return new Fi(t)}));var Vi=function(){const e="Webkit Moz O ms Khtml".split(" "),t=document.createElement("div");if(void 0!==t.style.animationName)return!0;for(let i=0;i<e.length;i++)if(void 0!==t.style[e[i]+"AnimationName"])return!0;return!1};const Hi=a()("body"),zi=Hi.find("[data-search-assistant]").find(".autocomplete-input");let Bi;function Ui(e){this.$element=a()(e),this.$autocomplete=this.$element.find("[data-autocomplete]"),this.animationsSupported=Vi(),this.$closeButton=this.$element.find("[data-search-assistant-close]"),this.bindEvents()}Ui.prototype.bindEvents=function(){this.listenOpenEvent()},Ui.prototype.listenOpenEvent=function(){const e=this;a()(window).on("focusonsearchbox",()=>{e.open()})},Ui.prototype.open=function(){this.isOpen()||(Hi.css("top",-1*Bi),Hi.addClass("search-assistant-is-open"),this.$closeButton.attr("href",window.location),this.$element.addClass("is-open"),Bi=a()(window).scrollTop(),zi.focus())},Ui.prototype.isOpen=function(){return this.$element.hasClass("is-open")},a()("[data-search-assistant]").each((e,t)=>new Ui(t));function Ni(e){this.$element=a()(e),this.$element.on("click",()=>{a()(window).trigger("focusonsearchbox")})}a()("[data-aanbod-mobile-searchbox]").each((e,t)=>new Ni(t));function qi(e){this.$element=a()(e),this.$selectedOption=this.$element.find("[data-dropdown-selected-option]"),this.$optionsList=this.$element.find("[data-dropdown-list]"),this.$option=this.$element.find("[data-dropdown-option]"),this.$destValue=this.$element.find("[name=filter_ZoekType]"),this.isOpen=!1,this.bindEvents()}qi.prototype.bindEvents=function(){this.bindSelectboxEvent(),this.bindClickOutsideEvent(),this.bindOptionClickEvent()},qi.prototype.bindOptionClickEvent=function(){const e=this;e.$option.on("click",t=>{t.preventDefault();var i=a()(t.currentTarget).find(".label-text").html();e.$selectedOption.html(i);var s=a()(t.currentTarget).data("dropdown-value");e.$destValue.val(s).change()})},qi.prototype.bindSelectboxEvent=function(){const e=this;e.$selectedOption.on("click",()=>{e.isOpen?e.closeOptions():e.openOptions()})},qi.prototype.openOptions=function(){this.isOpen=!0,this.$element.addClass("is-open"),this.$optionsList.addClass("is-open")},qi.prototype.closeOptions=function(){this.isOpen=!1,this.$element.removeClass("is-open"),this.$optionsList.removeClass("is-open")},qi.prototype.bindClickOutsideEvent=function(){const e=this;a()(document).on("click",(function(t){0===a()(t.target).closest("[data-aanbodtype-dropdown]").length&&e.closeOptions()}))},a()("[data-aanbodtype-dropdown]").each((e,t)=>new qi(t));var Wi={"0px":350};function Gi(e){this.$element=a()(e),this.$element.addClass("is-expandable"),this.$body=this.$element.find("[data-object-description-body]"),this.htmlContent=this.$body.html(),this.textContent=this.$body.text(),this.$element.find("[data-object-description-config]").length>0?this.config=JSON.parse(this.$element.find("[data-object-description-config]").text()):this.config=Wi,this.textContent.length<300?this.$element.addClass("is-expanded"):(this.checkBreakpoints(this.config),this.bindEvents())}Gi.prototype.bindEvents=function(){var e=this;e.$element.on("click",(function(){e.expand()})),a()(window).on("resize",p()((function(){e.checkBreakpoints(e.config)}),100))},Gi.prototype.checkBreakpoints=function(e){var t,i=a()(window).width();Object.getOwnPropertyNames(e).forEach((function(s){var a=s.substr(0,s.length-2);i>a&&(t=e[s])})),this.$element.hasClass("is-expanded")||void 0===t?this.expand():this.collapse(t)},Gi.prototype.getCorrectOriginalContent=function(){return this.$element.find("[data-object-description-strip-markup]").length>0?this.textContent:this.htmlContent},Gi.prototype.collapse=function(e){var t=this.getCorrectOriginalContent().substr(0,e);this.textContent.length<=this.textContent.substr(0,e).length?this.expand():(this.$body.html(t+" …"),this.$element.attr("aria-expanded","false"))},Gi.prototype.expand=function(){this.$element.hasClass("is-expanded")||(this.$body.html(this.htmlContent),this.$element.addClass("is-expanded"),this.$element.attr("aria-expanded","true"),a.a.event.trigger({type:"desciptionExpanded"}))},a()("[data-object-description]").each((function(e,t){return new Gi(t)}));function Ki(e){var t={},i=a()(e);return i.children().length>6&&(i.attr("data-expandible","makelaars-features"),t.expandible=new te(e)),t}Ki(a()("[data-makelaars-features]")[0]);i(365);var Zi=Yi;function Yi(e){this.$element=a()(e),this.$items=this.$element.find("[data-carousel-list]"),this.$nextButton=this.$element.find("[data-carousel-next]"),this.slickOptions={mobileFirst:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,nextArrow:this.$nextButton,prevArrow:!1,responsive:[{breakpoint:760,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:1020,settings:{slidesToShow:3,slidesToScroll:3}}]},this.initSlick(),this.$items.addClass("is-enhanced")}Yi.prototype.initSlick=function(){this.$items.slick(this.slickOptions)},Yi.prototype.unslick=function(){this.$items.slick("unslick")},a()("[data-carousel]").each((e,t)=>new Yi(t));var Ji=i(405),Qi=i.n(Ji);function Xi(e){const t=this;t.$element=a()(e),t.$element.attr("href")&&(t.url=new Qi.a(t.$element.attr("href"),!0),t.url.set("query",Object.assign({},t.url.query,{navigateSource:t.$element.attr("data-object-url-tracking")})),t.$element.attr("href",t.url.href))}a()(document).on("resultsUpdated",(function(){Xi.initialize()})),Xi.initialize=function(){a()("[data-object-url-tracking]").each((e,t)=>new Xi(t))},Xi.initialize();function es(e){this.element=e,this.$element=a()(e),this.$toggleContainer=this.$element.find("[data-related-objects-toggle]"),this.$slides=this.$element.find("[data-carousel-list]"),this.$element.addClass("is-enhancing"),this.tryAsyncLoad()}es.prototype.tryAsyncLoad=function(){const e=this.element.getAttribute("data-related-objects-set");""!==e&&this.getSlides(e).then(t=>{this.slideData=t,this.initSlides(e)})},es.prototype.getSlides=function(){const e=this.element.getAttribute("data-related-objects-json");return a.a.get(e).promise()},es.prototype.initSlides=function(e){const t=parseInt(e,10)-1,i=this.slideData[t];"object"==typeof i&&(this.$element.toggleClass("is-enhancing is-enhanced"),this.setSlideHtml(i.html),this.carousel=new Zi(this.$element.find("[data-related-objects-carousel]")[0])),this.slideData.length>=2&&(this.initButtons(),this.updateToggleButtons(t),this.bindButtonEvent())},es.prototype.initButtons=function(){const e=this.$element.find("[data-related-objects-button-element]").html();this.slideData.forEach((t,i)=>{a()(e).attr("data-related-objects-toggle-button",i+1).html(t.label).appendTo(this.$toggleContainer)}),this.$toggleButtons=this.$element.find("[data-related-objects-toggle-button]")},es.prototype.updateToggleButtons=function(e){this.$toggleButtons.each((t,i)=>{e===t?i.setAttribute("disabled",""):i.removeAttribute("disabled")})},es.prototype.bindButtonEvent=function(){this.$toggleButtons.on("click",e=>{const t=e.currentTarget.attributes.getNamedItem("data-related-objects-toggle-button").value-1;this.cycleSlideSet(t),this.updateToggleButtons(t)})},es.prototype.cycleSlideSet=function(e){this.carousel.unslick(),this.setSlideHtml(this.slideData[e].html),this.carousel.initSlick()},es.prototype.setSlideHtml=function(e){this.$slides.html(e),Xi.initialize()},a()("[data-related-objects]").each((e,t)=>new es(t));function ts(e){const t=a()(e);this.$element=t,this.apiEndpoint=t.attr("data-makelaars-twitterfeed"),this.template=t.find("[data-makelaars-twitterfeed-item-template]").html(),this.$list=t.find("[data-makelaars-twitterfeed-list]"),this.getTweets()}ts.prototype.getTweets=function(){a.a.ajax(this.apiEndpoint).then(e=>{if(!e.tweets.length)throw Error("No tweets");return e}).then(e=>{const t=ts.render(this.template,{user:e.user,profileImage:e.profileImage}),i=ts.renderTweets(t,e.tweets);this.update(i)}).catch(e=>d.a.log(e,{function:"getTweets"}))},ts.prototype.update=function(e){this.$list.html(e),this.$element.addClass("has-results")},ts.render=function(e,t){return Object.keys(t).reduce((e,i)=>{var s=new RegExp("{"+i+"}","g");return e.replace(s,t[i])},e)},ts.renderTweets=function(e,t){return t.map(t=>ts.render(e,t)).join("")},a()("[data-makelaars-twitterfeed]").each((e,t)=>new ts(t));const is=a()(window),ss=37,as=39;class ns{constructor(e,t,i){this.store=i||Dt.a,this.connect=new _t.a(this.store,["ui.mediaViewerRoute"]),this.$items=e.find("[data-media-viewer-items]"),this.$items.length&&(this.$prevButton=e.find("[data-media-viewer-previous]"),this.$nextButton=e.find("[data-media-viewer-next]"),this.$currentItemCount=e.find("[data-media-viewer-current]"),this.$totalItemCount=e.find("[data-media-viewer-total]"),this.$rewindButton=e.find("[data-media-viewer-fotostopper-rewind]"),this.bindEvents(),is.trigger("media-viewer-fotos-opened-event"),this.initializeSlideshow(t),this.bindGlobalEvents(),this.setItem(t),this.observer=new ResizeObserver(()=>{this.$items.slick("resize")}),this.observer.observe(this.$items[0]))}dispose(){this.unbindEvents(),this.unbindGlobalEvents(),this.disableSlideshow(),this.observer.disconnect()}bindEvents(){this.$nextButton.on("click",this.nextItem.bind(this)),this.$prevButton.on("click",this.prevItem.bind(this)),this.$rewindButton.on("click",this.setItem.bind(this,0)),this.$items.on("init reInit",this.slickInitHandler.bind(this)),this.$items.on("beforeChange",this.slickBeforeChangeHandler.bind(this))}unbindEvents(){this.$nextButton.off("click"),this.$prevButton.off("click"),this.$items.off("init reInit"),this.$items.off("beforeChange")}bindGlobalEvents(){if(this.globalEventsBound)return;const e=this;a()(document).on("keydown.media-viewer-fotos-view",(function(t){if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey))switch(t.keyCode){case ss:e.prevItem();break;case as:e.nextItem()}})),this.globalEventsBound=!0}unbindGlobalEvents(){this.globalEventsBound&&(a()(document).off("keydown.media-viewer-fotos-view"),this.globalEventsBound=!1)}initializeSlideshow(e){this.slideshowIsInitialized||(this.$items.slick({arrows:!1,speed:250,cssEase:"ease",accessibility:!0,infinite:!1,mobileFirst:!0,touchThreshold:12,initialSlide:e-1||0,useTransform:!0,lazyLoad:"anticipated",lazyLoadAhead:3,lazyLoadBack:1}),this.slideshowIsInitialized=!0)}disableSlideshow(){this.$items.slick("unslick"),this.slideshowIsInitialized=!1}setItem(e){this.$items.slick("slickGoTo",e-1,!0)}prevItem(){this.$items.slick("slickPrev",!0)}nextItem(){this.$items.slick("slickNext",!0)}slickInitHandler(e,t){const i=t.$slides[t.$slides.length-1].hasAttribute("data-media-viewer-fotostopper");this.$totalItemCount.text(i?t.slideCount-1:t.slideCount)}slickBeforeChangeHandler(e,t,i,s){const a=t.$slides[s].hasAttribute("data-media-viewer-fotostopper");let n=parseInt(s,10)+1;a&&n--,this.$currentItemCount.text(n),window.history.replaceState({},"","#foto-"+n),this.$nextButton.attr("disabled",t.slideCount===s+1),this.$prevButton.attr("disabled",0===s)}}class os{constructor(e,t){this.container=e.querySelector("[data-video-container]"),this.container&&(this.videoId=t||e.dataset.videoId,(t||!window.QuadiaPlayer)&&this.loadVideoPlayer())}loadVideoPlayer(){const e=document.createElement("script");e.src="https://player.quadia.net/v1.1/quadia.player.min.js",e.dataset.lang="nl",e.dataset.hideControlElements="rewind,share,quality",e.dataset.quality="720p",e.dataset.skin="funda",e.dataset.skinUrl="https://cloud.funda.nl/videoplayer/videoplayerfunda.css",e.dataset.id="media-viewer-video",e.dataset.videoId=this.videoId,e.dataset.showTitle=!1,e.async=!0,this.container.appendChild(e)}dispose(){try{window.QuadiaPlayer.players["media-viewer-video"].$emit("stop")}catch(e){d.a.log(e,{function:"dispose"})}}}var rs=i(388),ls=i.n(rs),ds=ps,cs="data-menu-item-param",hs="["+cs+"]";function ps(e,t){this.$headerElement=e,this.$footerElement=t,this.moreTemplate=e.find("[data-menu-more-toggle-template]").html();var i=t.find("[data-menu-items]");a()(".media-viewer").on("click",(function(){e.find("[data-menu-sub-items]").removeClass("open");var s=e.find("[data-menu-sub-items]");0===s.find(".active").length&&s.removeClass("active"),i.removeClass("open"),t.find("[data-menu-toggle]").removeClass("active")})),e.find(hs).on("click",(function(){var t=a()(this);e.find(hs).removeClass("active"),e.find("[data-menu-toggle]").removeClass("active"),t.addClass("active"),t.parents("[data-menu-sub-items]").length>0&&(e.find("[data-menu-toggle]").addClass("active"),e.find("[data-menu-sub-items]").removeClass("open")),a()(window).trigger("mediaviewermenuitemselected",{type:this.getAttribute("data-view-type"),menuParam:this.getAttribute(cs)})})),t.find("[data-menu-toggle]").on("click",(function(e){a()(this).toggleClass("active"),i.toggleClass("open"),e.stopPropagation()})),t.find(hs).on("click",(function(){var e=a()(this);t.find("[data-dropup-title]").html(e.html()),i.find(hs).removeClass("active"),e.addClass("active"),a()(window).trigger("mediaviewermenuitemselected",{type:this.getAttribute("data-view-type"),menuParam:this.getAttribute(cs)})}))}ps.prototype.setActive=function(e){var t="["+cs+'="'+e+'"]';this.$headerElement.find(hs).removeClass("active"),this.$headerElement.find(t).addClass("active"),this.$footerElement.find(hs).removeClass("active");var i=this.$footerElement.find(t);i.addClass("active"),this.$footerElement.find("[data-dropup-title]").html(i.html())},ps.prototype.toggleMore=function(e){var t=a()(this);t.parent().toggleClass("active"),t.next().toggleClass("open"),e.stopPropagation()},ps.prototype.transformHeader=function(){var e=this.$headerElement.find("[data-menu-items]"),t=e.find(hs).length>0,i=e.width();if(0!==i&&!1!==t){for(var s=this.$headerElement.parent().width(),n=[];(s-i)/2<220;)n.push(e.children().last().detach()),i=e.width();if(n.length>0){n.push(e.children().last().detach());var o=a()(this.moreTemplate);o.find("[data-menu-toggle]").on("click",this.toggleMore),a.a.each(n.reverse(),(function(e,t){o.find("[data-menu-sub-items]").append(t)})),e.append(o)}}},ps.prototype.dispose=function(){a()(".media-viewer").off("click"),this.$headerElement.find(hs).off("click"),this.$footerElement.find("[data-menu-toggle]").off("click"),this.$footerElement.find(hs).off("click")},window.triggerHotspotClickEvent=function(e,t){a()(window).trigger("krpanohotspotclicked",{name:e,referer:t})},window.triggerWebVRAvailable=function(){a()(window).trigger("webvravailable")},window.triggerWebVREnabled=function(){a()(window).trigger("webvrenabled")},window.triggerWebVRDisabled=function(){a()(window).trigger("webvrdisabled")};var us=ms;function ms(e,t){this.$container=a()(".media-viewer-foto360-container"),this.baseUrl=this.$container.attr("data-media-viewer-foto360-krpano-base-url")||"";const i=a()(e).find("[data-media-viewer-foto360-items]");if(this.items=i.length?JSON.parse(i.text()):{},this.$vrButton=a()("[data-vr-view-select]"),""!==this.baseUrl&&(this.baseUrl=this.normalizeUrl(this.baseUrl)),Object.keys(this.items).length>1){var s=a()("[data-foto360-menu-header]"),n=a()("[data-foto360-menu-footer]");this.menu=new ds(s,n)}this.src=this.items[t],!0===this.isKrpanoInitialized?this.krpano.call("loadpano("+this.src+", null, null, BLEND(0.05))"):(this.initKrpano(),this.menu&&this.menu.transformHeader()),this.menu&&this.menu.setActive(t),this.bindEvents()}ms.prototype.bindEvents=function(){const e=this;a()(window).on("krpanohotspotclicked",(function(t,i){i.name&&(e.gotoPano(i.name,i.referer),e.menu&&e.menu.setActive(i.name))})),a()(window).on("mediaviewermenuitemselected",(function(t,i){i.type&&"foto360"===i.type&&e.gotoPano(i.menuParam)})),a()(window).on("webvravailable",(function(){a()("[data-vr-view-select]").addClass("available")})),e.$vrButton.on("click",(function(){e.krpano.call("funda_enter_vr()")})),a()(window).on("webvrenabled",(function(){a()("#krpanoSWFObject").addClass("krpano-webvr-enabled"),a()("[data-vr-view-select]").addClass("active")})),a()(window).on("webvrdisabled",(function(){a()("#krpanoSWFObject").removeClass("krpano-webvr-enabled"),a()("[data-vr-view-select]").removeClass("active")}))},ms.prototype.gotoPano=function(e,t){var i=t?"referer="+t:"null";this.krpano.call("loadpano("+this.items[e]+", "+i+", null, BLEND(0.05))"),window.history.replaceState({},"","#360-foto-"+e)},ms.prototype.normalizeUrl=function(e){var t=document.createElement("a");return t.href=e,t.href},ms.prototype.initKrpano=function(){var e=this,t=-1!==window.location.search.indexOf("krpanodebug=true"),i=document.createElement("div");function s(t){e.krpano=t,t.set("basedir","")}i.id="media-viewer-foto360-krpano",e.$container.html(i),ls()(e.baseUrl+"/assets/vendor-krpano.js",(function(i){i||embedpano({html5:"prefer",swf:e.baseUrl+"/assets/components/krpano-loader/krpano.swf",xml:e.src,target:"media-viewer-foto360-krpano",consolelog:t,onready:s})})),e.isKrpanoInitialized=!0},ms.prototype.dispose=function(){removepano("media-viewer-foto360-krpano"),this.isKrpanoInitialized=!1,this.unbindEvents(),this.menu&&this.menu.dispose()},ms.prototype.unbindEvents=function(){a()(window).off("krpanohotspotclicked"),a()(window).off("mediaviewermenuitemselected"),a()(window).off("webvrenabled"),a()(window).off("webvrdisabled")},a()("[data-media-viewer-foto360]").each((function(e,t){if(!0===t.getAttribute("data-media-viewer-auto-initialize"))return new ms(t,"straat")}));const gs={kind:"bare-viewer",useMetric:!0};class fs{constructor(e){this.config=gs,this.floorplanNumber=e,this.$zoomInButton=a()("[data-plattegrond-zoom-in]"),this.$zoomOutButton=a()("[data-plattegrond-zoom-out]"),this.$viewTypeSelect=a()("[data-view-select]"),this.menuItemTemplate=a()("[data-plattegrond-menu-item-template]").html(),this.$container=a()(".media-viewer-plattegrond-container"),this.$container.length&&(this.$2dViewButton=this.$container.find("[data-plattegrond-2d-view]"),this.$3dViewButton=this.$container.find("[data-plattegrond-3d-view]"),this.src=this.$container.attr("data-plattegrond-src"),this.config.projectId=this.src,this.config.apiDomain=this.$container.attr("data-plattegrond-api-domain"),this.baseUrl=this.$container.attr("data-base-url"),this.initializeFloorplanViewer(),this.$container[0].addEventListener("dblclick",(function(e){e.stopPropagation()})))}initializeFloorplanViewer(){const e=document.createElement("script");e.src="https://fp-editor-cdn.floorplanner.com/latest.js",e.async=!0,document.body.appendChild(e),$script.ready("editor",()=>this.mountFloorplanViewer())}mountFloorplanViewer(e=window){e.entryPoint(this.$container[0],this.config.projectId,this.config).then(e=>this.onViewerReady(e))}onViewerReady(e){this.bindEvents(e),this.initView(e)}bindEvents(e){this.viewer=e,this.$zoomInButton.on("click",()=>e.zoomIn()),this.$zoomOutButton.on("click",()=>e.zoomOut()),this.$viewTypeSelect.on("change",t=>{this.viewType="2d"===t.target.value?"2D":"3D",e.view=this.viewType}),a()(window).on("mediaviewermenuitemselected",(e,t)=>{t.type&&"plattegrond"===t.type&&(this.designId=t.menuParam,this.display())})}dispose(){if(void 0===this.viewer)return;this.viewer.view="2D",ReactDOM.unmountComponentAtNode(this.$container[0]);const e=a()("[data-plattegrond-menu-header]"),t=a()("[data-plattegrond-menu-footer]"),i=e.find("[data-menu-items]"),s=t.find("[data-menu-items]");i.empty(),s.empty(),this.unBindEvents(),this.menu&&this.menu.dispose()}unBindEvents(){this.$zoomInButton.off("click"),this.$zoomOutButton.off("click"),this.$viewTypeSelect.off("change"),a()(window).off("mediaviewermenuitemselected")}setupMenu(){const e=a()("[data-plattegrond-menu-header]"),t=a()("[data-plattegrond-menu-footer]"),i=e.find("[data-menu-items]"),s=t.find("[data-menu-items]");for(let e=0;e<this.floors.length;e++){var n;let t=this.floors[e],a=this.renderMenuItem({id:null===(n=t.designs[0])||void 0===n?void 0:n.id,name:t.name});i.append(a),s.append(a)}this.menu=new ds(e,t),Object.keys(this.floors).length>1&&(e.removeClass("hidden").addClass("hidden xl:block"),t.removeClass("hidden").addClass("xl:hidden")),this.menu.transformHeader(),this.menu.setActive(this.designId)}renderMenuItem(e){let t=this.menuItemTemplate;for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)){let s=new RegExp("{"+i+"}","g");t=t.replace(s,e[i])}return t}initView(e){if(a()('[data-view-select][value="2d"]').prop("checked",!0),this.floors=e.project.floors,this.floorplanNumber=parseInt(this.floorplanNumber,10),this.floorplanNumber&&0!==this.floorplanNumber){var t;const e=this.floors[this.floorplanNumber-1];this.designId=null===(t=e.designs[0])||void 0===t?void 0:t.id}else{var i;const e=this.floors[0];this.designId=null===(i=e.designs[0])||void 0===i?void 0:i.id}this.setupMenu(),this.display()}display(){const e=this.floors.filter(e=>{var t;return parseInt(null===(t=e.designs[0])||void 0===t?void 0:t.id)===parseInt(this.designId,10)})[0];this.viewer.designId=e.designs[0].id,this.replaceStateForFloor(e)}replaceStateForFloor(e){const t=this.floors.indexOf(e)+1;window.history.replaceState({},"","#plattegrond-"+t)}}a()("[data-media-viewer-plattegrond]").each((function(e,t){if("true"===t.getAttribute("data-media-viewer-auto-initialize"))return new fs(t)}));var vs=i(373),bs=i.n(vs);const ws=a()(window);class $s{constructor(e){this.$elements=e,this.$tabContainer=this.$elements.find("[data-tab-container]"),this.tabContainerWidth=this.$tabContainer.innerWidth(),this.$tabHandles=this.$elements.find("[data-tab-handle]"),this.$content=this.$elements.find("[data-media-viewer-overview-content]"),this.$sections=this.$elements.find("[data-media-viewer-overview-section]"),this.$activeLink=this.$tabContainer.find("[data-tab-handle].active"),this.bindEvents()}bindEvents(){this.setTabPositionInCache(),this.loadOverviewImages(),this.setLastSectionHeight(),this.$content.scroll(bs()(()=>this.handleScroll(),100)),this.$tabHandles.click(e=>this.scrollTo(e)),ws.trigger("media-viewer-overview-opened-event"),ws.resize(bs()(()=>this.setLastSectionHeight(),1e3))}setLastSectionHeight(){if(1===this.$sections.length)return;const e=a()(this.$sections[this.$sections.length-1]),t=this.$content.height()+52;e.css("min-height",t)}setTabPositionInCache(){this.tabPositions={},this.$tabHandles.each((e,t)=>{this.tabPositions[t.hash]=a()(t).offset().left})}handleScroll(){const e=this.$content.offset().top;this.$tabHandles.each((t,i)=>{let s=this.$elements.find(i.hash);s.offset().top<=e&&s.offset().top+s.height()>e?this.activateLink(i):a()(i).removeClass("active")})}updateTabScrollPosition(){let e;e=this.tabPositions[this.$activeLink[0].hash]>this.tabContainerWidth/2?this.tabContainerWidth:0,this.$tabContainer.stop().animate({scrollLeft:e},500)}loadOverviewImages(){const e=this.$elements.find("[data-media-viewer-overview-image]");e.length&&e.each((e,t)=>{let i=t.getAttribute("data-lazy"),s=t.getAttribute("data-lazy-srcset");a()(t).attr("srcset",s).attr("src",i).removeAttr("data-lazy data-lazy-srcset")})}scrollTo(e){e.preventDefault(),this.$content.stop().animate({scrollTop:a()(e.target.hash).offset().top+this.$content.scrollTop()},1e3)}activateLink(e){this.$activeLink.is(e)||(this.$activeLink.removeClass("active"),this.$activeLink=a()(e),this.$activeLink.addClass("active"),this.updateTabScrollPosition())}}var ys=i(571);class ks{constructor(e){this.Cookies=Ne.a,this.$element=a()(e),this.$close=this.$element.find("[data-notification-close]"),this.$textContainer=this.$element.find("[data-text-container]");this.$element.find("[data-notification-store-cookie-on-close]").length>0&&(this.cookieName=this.$element.find("[data-notification-store-cookie-on-close]")[0].getAttribute("data-notification-store-cookie-on-close")),this.$dismissHandle=this.$element.find("[data-notification-dismiss]"),this.cookieFromExternalHandle=this.$dismissHandle.length>0,this.bindEvents()}bindEvents(){this.$element.on("show",(e,t)=>this.show(e,t)),this.$element.on("hide",()=>this.close()),this.$close.on("click",e=>this.close(e)),this.$dismissHandle.on("click",e=>{this.setCookie(),this.close(e)})}close(e){void 0!==e&&"function"==typeof e.preventDefault&&e.preventDefault(),this.$element.addClass("is-hidden"),this.$element.trigger("close"),this.cookieFromExternalHandle||this.setCookie()}setCookie(){void 0!==this.cookieName&&this.cookieName.length>0&&this.Cookies.setCookie(this.cookieName,"true")}show(e,t){"string"==typeof t&&this.$textContainer.html(t),this.$element.removeClass("is-hidden")}}a()("[data-notification]").get().map(e=>new ks(e));class Cs{constructor(e,t,i){if(!e)throw new Error("MapMarkersOverlayFactory requires 'googleMap' argument to be provided");if(!i)throw new Error("MapMarkersOverlayFactory requires 'layerGroupName' argument to be provided");class s extends e.OverlayView{constructor(e,t){super(e),this.map=e,this.layerGroupName=t||s.generateLayerGroupName(),this.layer=null,this.setMap(e),this.markerData=[]}onAdd(){void 0!==this.getPanes&&0!==this.markerData.length&&this.createLayerGroup()}createLayerGroup(){if(null===this.layer&&this.getPanes()){const e=document.getElementById(this.layerGroupName);if(e)return this.layer=e;this.layer=document.createElement("div"),this.layer.id=this.layerGroupName,this.getPanes().overlayMouseTarget.appendChild(this.layer)}}draw(){if(0===this.markerData.length||void 0===this.getProjection)return;const e=this.getProjection();void 0!==e&&(null===this.layer&&this.createLayerGroup(),this.addItemsToLayer(),this.markerData.forEach(t=>{const i=e.fromLatLngToDivPixel(t.pos),s=t.html.offsetWidth,a=t.html.offsetHeight;t.html.style.left=i.x-s/2+"px",t.html.style.top=i.y-a+"px"}))}addItemsToLayer(){this.markerData.forEach(e=>{this.layer.appendChild(e.html)})}onRemove(){this.clear()}addMarker(e,t,i){this.markerData.push({pos:e,html:t,label:i}),this.draw()}clear(){this.markerData.forEach(e=>{e.html.parentNode&&e.html.parentNode.removeChild(e.html)}),this.markerData=[]}static generateLayerGroupName(){return"layer-group-"+(new Date).getTime()}}return new s(t,i)}}const Ss=()=>{};class Ts{constructor(e,t,i,s,a){this.googleMaps=e,this.map=t,this.config=i,this.markerOnClickHandlerCallback=a||Ss,this.store=s||Dt.a,this.connect=new _t.a(this.store,["entities.personalPlaces","ui.activeLocationId"]),this.markerOverlay=new Cs(e,t,"media-viewer-map"),this.bindEvents();const n=this.store.getState(),o=Object(Rt.a)(n.entities.locations);this.updateLocationMarkers(o)}bindEvents(){this.connect.subscribe(()=>{const e=this.store.getState(),t=Object(Rt.a)(e.entities.locations);this.updateLocationMarkers(t)}),google.maps.event.addListener(this.map,"zoom_changed",()=>{const e=this.store.getState(),t=Object(Rt.a)(e.entities.locations);this.updateLocationMarkers(t)}),google.maps.event.addListener(this.map,"maptypeid_changed",()=>{const e=this.store.getState(),t=Object(Rt.a)(e.entities.locations);this.updateLocationMarkers(t)})}getMapType(){return this.map.getMapTypeId()}updateLocationMarkers(e){const t=this.store.getState().ui.activeLocationId,i="roadmap"===this.getMapType();this.clearMarkers(),e.length<1||i&&e.filter(e=>this.isPersonalPlace(e)).forEach(e=>{const i=t===e.id,s=this.createHtmlMarker(e,i),a=new this.googleMaps.LatLng(e.lat,e.lng);this.markerOverlay.addMarker(a,s,e.label)})}isPersonalPlace(e){return null!==e.personalPlace}createHtmlMarker(e,t){const i=document.createElement("div");i.className="markers-overlay personal-place-marker",t&&(i.className+=" active");const s=document.createElement("div");s.title=e.label||e.location,s.className="marker",s.dataset&&(s.dataset.active=t,s.dataset.id=e.id);const a=document.createElement("span");return a.className="marker__title",a.innerText=e.label||e.location,s.appendChild(a),i.appendChild(s),["click","touchstart"].forEach(e=>{s.addEventListener(e,this.htmlMarkerOnClickHandler.bind(this))}),i}htmlMarkerOnClickHandler(e){e.stopPropagation();const t=a()(e.currentTarget).closest(".marker").data("id"),i=this.store.getState().entities.locations[t];i&&lt.travelTime(nt.MARKER,i.location),this.markerOnClickHandlerCallback(t)}clearMarkers(){this.markerOverlay.clear()}}class Es{constructor(e,t,i,s){this.googleMaps=e,this.map=t,this.config=i,this.store=s||Dt.a,this.connect=new _t.a(this.store,["entities.locations","ui.selectedCategories"]),this.voorzieningClickCount=0,this.markerAnchorPoint=new google.maps.Point(30,54),this.markerScaledSize=new google.maps.Size(60,62),this.bindEvents();const a=this.store.getState(),n=Object(Rt.a)(a.entities.locations);this.updateLocationMarkers(n)}bindEvents(){this.connect.subscribe(()=>{const e=this.store.getState(),t=Object(Rt.a)(e.entities.locations);this.updateLocationMarkers(t)}),google.maps.event.addListener(this.map,"zoom_changed",()=>{const e=this.store.getState(),t=Object(Rt.a)(e.entities.locations);this.updateLocationMarkers(t)}),google.maps.event.addListener(this.map,"maptypeid_changed",()=>{const e=this.store.getState(),t=Object(Rt.a)(e.entities.locations);this.updateLocationMarkers(t)})}getMapType(){return this.map.getMapTypeId()}updateLocationMarkers(e){const t=this.store.getState(),i=t.ui.activeLocationId,s=t.entities.voorzieningen,a=t.ui.selectedCategories,n="roadmap"===this.getMapType();if(e.length<1)return;let o=[];e.filter(e=>this.isFacility(s,e)).forEach(e=>{const t=i===e.id,r=s[e.id],l=r.categories[0],d=a.length>0,c=a.some(e=>r.categories.indexOf(e)>-1),h=this.map.getZoom()>13&&d&&c;if(!1===(null!==r.marker)){const i=this.createMarker(e,t,h,l);i.id=e.id,i.addListener("click",()=>{lt.services(nt.MARKER,e.label),this.voorzieningClickCount++;const t=google.maps.Marker.MAX_ZINDEX+this.voorzieningClickCount;i.setZIndex(t),this.store.dispatch(Object(Ut.w)("kaart/locatie/"+i.id))}),o.push(i)}else if(r.marker.setIcon(this.getMarkerIcon(l,t)),n&&(h||t)){const e=r.marker.getMap();null==e&&r.marker.setMap(this.map)}else r.marker.setMap(null)}),this.store.dispatch(Object(Ut.d)(o))}isFacility(e,t){return void 0!==e[t.id]}createMarkerConfigForGoogleMapsMarker(e,t,i,s){return{title:e.label,icon:this.getMarkerIcon(s,t),position:{lat:e.lat,lng:e.lng},shape:{coords:[8,8,52,52],type:"rect"},map:i?this.map:null}}createMarker(e,t,i,s){const a=this.createMarkerConfigForGoogleMapsMarker(e,t,i,s);return new this.googleMaps.Marker(a)}getMarkerIcon(e,t){return{url:this.getMarkerIconUrl(e,t),anchor:this.markerAnchorPoint,scaledSize:this.markerScaledSize}}getMarkerIconUrl(e,t){let i="marker-default";switch(e){case"education-1":case"education-2":case"education-3":case"education-4":case"education-5":case"education-6":case"education-7":case"education-8":case"education-9":case"education-10":case"education-11":i="marker-education";break;case"childcare-1":case"childcare-2":case"childcare-3":i="marker-childcare";break;case"shopping-1":i="marker-shopping";break;case"transport-1":i="marker-transport-train";break;case"transport-2":i="marker-transport-bus";break;case"transport-3":i="marker-transport-tram";break;case"transport-4":i="marker-transport-metro";break;case"transport-8":i="marker-transport-ferry"}return t?`${this.config.baseUrlAssets}/assets/components/markers/${i}-active.png`:`${this.config.baseUrlAssets}/assets/components/markers/${i}.png`}}var Os=i(576),Is=i(174);class xs{static webMercatorToLatLng(e,t){const i=Is.geometry.webMercatorToLatLng(e,t);return{lat:i.lat,lng:i.lng}}}const Ls=[{strokeColor:"#fff",strokeOpacity:.8,strokeWeight:10,zIndex:1},{strokeColor:"#0085ff",strokeOpacity:1,strokeWeight:6,zIndex:2}],Ps=a()(document);class As{constructor(e,t,i,s){this.store=s||Dt.a,this.connect=new _t.a(this.store,["ui.activeLocationId","ui.modalityAndTravelToggle","getPersonalPlaces"]),this.googleMap=e,this.map=t,this.mapConfig=i,this.lastDrawnRoute=null,e&&(this.mapMarkerOverlay=new Cs(e,t,"media-viewer-map")),this.bindEvents();const a=this.store.getState(),n=a.ui.activeLocationId;n&&this.layout(a,n)}bindEvents(){this.connect.subscribe((e,t)=>{const i=e.ui.activeLocationId,s=t.ui.activeLocationId;null!==i&&(i&&i!==s||Object(Yt.f)(e,t)||e.getPersonalPlaces.loaded)&&this.layout(e,i),i||(this.mapMarkerOverlay&&this.mapMarkerOverlay.clear(),this.clearRoute())})}layout(e,t){const i=Object(Os.b)(e,t);i&&this.recalculateAndDrawRoute({lat:this.mapConfig.lat,lng:this.mapConfig.lng},{lat:i.lat,lng:i.lng},e.ui.modalityAndTravelToggle.modality)}recalculateAndDrawRoute(e,t,i){this.currentRouteRequest&&"pending"===this.currentRouteRequest.state()&&this.currentRouteRequest.abort(),this.currentRouteRequest=this.createFetchRoutePolygonsRequest(e,t,i)}createFetchRoutePolygonsRequest(e,t,i){if(this.store.dispatch(Object(Ut.z)()),this.mapMarkerOverlay)return this.mapMarkerOverlay.clear(),this.clearRoute(),Ps.trigger("map-route-show-spinner"),a.a.ajax({url:this.createRouteQueryUrl(e,t,i)}).done(e=>{if(e.routes&&e.routes.length>0){this.store.dispatch(Object(Ut.z)(e));const t=As.calculateRoute(e.routes),i=t.routeBounds,s=t.routePolyline;this.drawRoute(s,e.displayTime,i),Ps.trigger("map-route-error-event",{type:"map-route-hide-error"})}}).fail(e=>{const t="Limit exceeded"===e.getResponseHeader("X-RouteError");this.store.dispatch(Object(Ut.z)()),Ps.trigger("map-route-error-event",{type:t?"map-route-limit-error":"map-route-common-error"})}).always(()=>{Ps.trigger("map-route-hide-spinner")})}createRouteQueryUrl(e,t,i){return`${this.mapConfig.baseRouteUrl}?sourceCoords=${e.lat},${e.lng}&destCoords=${t.lat},${t.lng}&travelmode=${i}`}logErrorToServer(e,t){return a.a.post(this.mapConfig.baseJsErrorUrl,{message:e,stack:Object.prototype.hasOwnProperty.call(t,"stack")&&t.stack?t.stack:null})}clearRoute(){if(this.lastDrawnRoute){for(let e in this.lastDrawnRoute.routeItems)this.lastDrawnRoute.routeItems[e].setMap(null);this.lastDrawnRoute=null}}static calculateRoute(e){let t=new window.google.maps.LatLngBounds,i=[];for(let s=0;s<e.length;s++){const a=e[s];for(let e=0;e<a.segments.length;e++){const s=a.segments[e];if("TRANSFER"!==s.type)for(let e=0;e<s.points.length;e++){const a=s.points[e],n=xs.webMercatorToLatLng({x:a[1],y:a[0]});i.push(n),t.extend(n)}}}return{routeBounds:t,routePolyline:i}}drawRoute(e,t,i){const s=window.google,n={bounds:i,routeItems:Ls.map(t=>{let i={path:e,map:this.map};return new s.maps.Polyline(Object.assign(i,t))})},o=n.routeItems[0].getPath(),r=s.maps.geometry.spherical.computeLength(o),l=As.getPointAtDistance(o,r/2);if(l){const e=this.getMarkerHtml(t);n.marker={halfWay:l,html:a()(e)[0]},this.mapMarkerOverlay.addMarker(l,a()(e)[0],"route")}else{let e="Failed to add route marker, could not calculate halfway point.";d.a.log(e,{function:"drawRoute"}),this.logErrorToServer(e,new Error)}(0==this.map.getBounds().contains(i.getNorthEast())||0==this.map.getBounds().contains(i.getSouthWest()))&&this.map.fitBounds(i),this.lastDrawnRoute=n}getMarkerHtml(e){const t=this.store.getState().ui.modalityAndTravelToggle.modality;return`<div class="markers-overlay map-route-marker">\n                <div class="marker">\n                    <span class="marker__icon ${"car"===t?"icon-car":"transit"===t?"icon-bus":"bike"===t?"icon-bike":"icon-walk"}"></span>\n                    <span class="marker__duration">${e}</span>\n                </div>\n            </div>`}static getPointAtDistance(e,t){const i=window.google;if(0===t)return e.getAt(0);if(t<0||e.getLength()<2)return null;const s={dist:0};for(let a=0;a<e.getLength()-1&&s.dist<t;a++)s.from=e.getAt(a),s.to=e.getAt(a+1),s.stepDist=i.maps.geometry.spherical.computeDistanceBetween(s.from,s.to),s.dist+=s.stepDist;if(s.dist<t)return null;const a=s.dist-s.stepDist,n=(t-a)/(s.dist-a);return new i.maps.LatLng(s.from.lat()+(s.to.lat()-s.from.lat())*n,s.from.lng()+(s.to.lng()-s.from.lng())*n)}}class js{constructor(e,t,i){this.tileSize=new google.maps.Size(256,256),this.maxZoom=21,this.minZoom=14,this.map=e,this.config=t,this.store=i,this.tileSizeInPoints=this.tileSize.width/Math.pow(2,14),this.projection=this.map.getProjection(),google.maps.event.addListener(this.map,"projection_changed",()=>{this.projection=this.map.getProjection()})}getTile(e,t){if(t<14)return;const i=Math.abs(14-t),s=e.x>>i,a=e.y>>i,n=`${s}-${a}`;if(this.store.getState().ui.loadedTiles.includes(n))return;let o=s*this.tileSizeInPoints,r=a*this.tileSizeInPoints+this.tileSizeInPoints;const l=this.fromXyToLatLng(o,r);o=s*this.tileSizeInPoints+this.tileSizeInPoints,r=a*this.tileSizeInPoints;const d=this.fromXyToLatLng(o,r),c={NorthLat:d.lat(),EastLong:d.lng(),SouthLat:l.lat(),WestLong:l.lng()};this.store.dispatch(Object(Ut.a)(n)),this.store.dispatch(Object(Ut.q)(this.config.baseUrlVoorzieningen,c))}fromXyToLatLng(e,t){return this.projection.fromPointToLatLng(new google.maps.Point(e,t))}}class Ms{constructor(e,t,i){if(this.store=i,this.map=e,this.config=t,this.connect=new _t.a(this.store,["ui.selectedCategories"]),this.isBaseUrlVoorzieningenAvailable=Boolean(this.config.baseUrlVoorzieningen),this.isBaseUrlVoorzieningenAvailable){this.voorzieningenMapType=new js(this.map,this.config,this.store),this.subscribeToStore(),this.bindEvents();this.store.getState().ui.selectedCategories.length&&this.showOverlayMapType()}this.showOverlayMapTypeIfNeeded()}subscribeToStore(){this.connect.subscribe((e,t)=>{e.ui.selectedCategories.length>0&&0===t.ui.selectedCategories.length?this.showOverlayMapType():0===e.ui.selectedCategories.length&&this.hideOverlayMapType()})}showOverlayMapTypeIfNeeded(){this.map.getZoom()<13?this.hideOverlayMapType():this.showOverlayMapType()}bindEvents(){google.maps.event.addListener(this.map,"zoom_changed",()=>{this.showOverlayMapTypeIfNeeded()})}showOverlayMapType(){this.map.overlayMapTypes.insertAt(0,this.voorzieningenMapType)}hideOverlayMapType(){this.map.overlayMapTypes.clear()}}class Ds{constructor(e,t){this.MIN_ZOOM_LEVEL_KADASTRAAL=19,this.ATTRIBUTION_STYLES_CLASS="object-map__attribution",this.SHOW_LEGEND_EVENT="show-map-legend",this.KADASTER_LEGEND_SELECTOR="[data-object-map-kadaster-legend]",this.map=e,this.config=t,this.map.mapTypes.set("kadastraal",Ds.getKadasterBaseLayer(this.config.kadasterBgUrl)),this.pandenLayer=Ds.getKadasterLayer(this.map,this.config.kadasterPandenUrl),this.percelenLayer=Ds.getKadasterLayer(this.map,this.config.kadasterPercelenUrl)}enableKadaster(e){let t;this.map.getZoom()<this.MIN_ZOOM_LEVEL_KADASTRAAL&&this.map.setZoom(this.MIN_ZOOM_LEVEL_KADASTRAAL),t=new google.maps.LatLng(this.config.lat,this.config.lng);const i=this.map.getBounds();"object"==typeof i&&(i.contains(t)||this.map.setCenter(t)),this.map.overlayMapTypes.push(this.pandenLayer),this.map.overlayMapTypes.push(this.percelenLayer),this.map.setMapTypeId("kadastraal"),a()(window).trigger(this.SHOW_LEGEND_EVENT+"-"+e,{legendSelector:this.KADASTER_LEGEND_SELECTOR}),this.addAttribution()}addAttribution(){const e=document.createElement("div");e.classList.add(this.ATTRIBUTION_STYLES_CLASS),e.innerHTML=this.config.kadasterAttributionText,this.map.controls[google.maps.ControlPosition.BOTTOM_RIGHT].push(e)}static getKadasterBaseLayer(e){return new google.maps.ImageMapType({getTileUrl:function(t,i){var s=e.replace("{z}",i);return s=(s=s.replace("{x}",t.x)).replace("{y}",t.y)},tileSize:new google.maps.Size(256,256),maxZoom:21,minZoom:17,name:"Kadastrale Base Layer"})}static getKadasterLayer(e,t){return new google.maps.ImageMapType({getTileUrl:function(i,s){const a=Math.pow(2,s),n=e.getProjection(),o=n.fromPointToLatLng(new google.maps.Point(256*i.x/a,256*i.y/a)),r=n.fromPointToLatLng(new google.maps.Point(256*(i.x+1)/a,256*(i.y+1)/a)),l=o.lng()+","+r.lat()+","+r.lng()+","+o.lat();return t.replace("{bbox}",l)},tileSize:new google.maps.Size(256,256),name:"Bebouwing",maxZoom:21,minZoom:17})}}class _s{constructor(e,t,i){this.map=e,this.config=t,this.marker=i,this.latLng=new google.maps.LatLng(this.config.lat,this.config.lng)}setStreetview(e){(e||this.panorama)&&(this.panorama||this.loadStreetView(),this.panorama.setVisible(e))}loadStreetView(){const e=new google.maps.StreetViewService;this.panorama=this.map.getStreetView(),this.panorama.setOptions({addressControl:!1,linksControl:!0,panControl:!0,zoomControl:!0,fullscreenControl:!1,enableCloseButton:!1}),this.panorama.setPosition(this.latLng);const t={location:this.panorama.getPosition(),preference:google.maps.StreetViewPreference.NEAREST,radius:100,source:google.maps.StreetViewSource.OUTDOOR};e.getPanorama(t,(e,t)=>{if(t===google.maps.StreetViewStatus.OK){const t=e.location.latLng,i=google.maps.geometry.spherical.computeHeading(t,this.panorama.getPosition()),s=this.panorama.getPov();s.heading=i,this.panorama.setPano(e.location.pano),this.panorama.setPov(s)}}),google.maps.event.addListener(this.map.getStreetView(),"visible_changed",()=>{const e=a()(window);this.map.getStreetView().getVisible()?(e.trigger("event-map-zoom-controls",{hidden:!0}),this.marker.setMap(null)):(e.trigger("event-map-zoom-controls",{hidden:!1}),this.marker.setMap(this.map))})}}const Rs=a()(window);class Fs{constructor(e,t,i,s){const a=this;a.map=e,a.config=t,a.marker=i,a.mapId=s,a.isSituationMapAvailable=Boolean(a.config.projectSituatiekaart),a.isPolygonDataLoaded=!1,a.bounds=new google.maps.LatLngBounds,a.isSituationMapAvailable&&(a.image=a.config.projectSituatiekaart,a.imageBounds=new google.maps.LatLngBounds(new google.maps.LatLng(a.config.projectSituatiekaartCoordinateSouthWest),new google.maps.LatLng(a.config.projectSituatiekaartCoordinateNorthEast)),a.loadPolygons(),a.loadOverlayImage(),a.bindEvents(),a.setDataLayerProperties())}bindEvents(){const e=this;Rs.on("event-situatiekaart-close-drawer",()=>{e.revertHighlightedPolygons()}),google.maps.event.addListener(e.map,"maptypeid_changed",()=>{"roadmap"==e.map.getMapTypeId()?e.showSituatiekaart():e.hideSituatiekaart()})}showSituatiekaart(){this.overlay.setMap(this.map),this.map.data.setMap(this.map),this.addAttribution(),this.hideMarker(),Rs.trigger("show-map-legend-"+this.mapId,{legendSelector:"[data-object-map-nwn-legend]"})}hideSituatiekaart(){this.overlay.setMap(null),this.map.data.setMap(null)}loadOverlayImage(){let e={clickable:!1,map:this.map};this.overlay=new google.maps.GroundOverlay(this.image,this.imageBounds,e)}loadPolygons(){const e=this;e.isPolygonDataLoaded||(e.map.data.loadGeoJson(e.config.projectSituatiekaartPolygons,null,()=>{e.isPolygonDataLoaded=!0,e.centerMap()}),e.map.data.setMap(e.map))}setDataLayerProperties(){const e=this;e.map.data.setStyle(e=>{let t=e.getProperty("fillColor"),i=e.getProperty("strokeColor");return{fillColor:t,fillOpacity:e.getProperty("isSelected")?.8:.4,strokeColor:i,strokeWeight:2}}),e.map.data.addListener("click",t=>{e.revertHighlightedPolygons(),"object-map"===e.mapId?window.location.hash="#nwn-kaart":(Rs.trigger("event-situatiekaart-show-drawer",{feature:t.feature}),t.feature.setProperty("isSelected",!0))}),e.map.data.addListener("mouseover",t=>{e.map.data.overrideStyle(t.feature,{fillOpacity:.6})}),e.map.data.addListener("mouseout",()=>{e.map.data.revertStyle()})}revertHighlightedPolygons(){this.map.data.forEach(e=>{e.removeProperty("isSelected")})}centerMap(){const e=this;e.map.data.forEach(t=>{e.processPoints(t.getGeometry(),e.bounds.extend,e.bounds)}),e.map.fitBounds(e.bounds)}addAttribution(){const e=`<a href="${this.config.projectAttributionUrl}" target="_blank" rel="nofollow">${this.config.projectAttributionText}</a>`,t=document.createElement("div");t.classList.add("object-map__attribution"),t.innerHTML=e,this.map.controls[google.maps.ControlPosition.BOTTOM_RIGHT].push(t)}hideMarker(){this.marker.setMap(null)}processPoints(e,t,i){const s=this;e instanceof google.maps.LatLng?t.call(i,e):e instanceof google.maps.Data.Point?t.call(i,e.get()):e.getArray().forEach((function(e){s.processPoints(e,t,i)}))}}class Vs{constructor(e){this.gtmEventLogger=e||c.b}log(e){this.gtmEventLogger.log({event:"mapTypeChanged",mapTypeName:e})}}class Hs{constructor(e){this.gtmEventLogger=e||c.b}log(e){this.gtmEventLogger.log({eventCategory:"billing",eventAction:"map-instance-created",eventLabel:e,nonInteraction:!0})}}const zs=a()(window),Bs=e=>(e=>Object(Rt.a)(e.entities.locations))(e).filter(e=>!!e.personalPlace);class Us{constructor(e,t,i){this.store=t||Dt.a,this.$element=a()(e),this.$closeButton=a()("[data-media-viewer-close]"),this.$canvas=this.$element.find("[data-media-viewer-map-canvas]");const s=this.$element.find("[data-media-viewer-map-config]");this.config=s.length&&s.text()?JSON.parse(s.text()):{},this.$mapLegend=this.$element.find("[data-object-map-legend]"),this.$mapZoomControls=this.$element.find("[data-media-viewer-map-zoom-controls]"),this.$commonError=this.$element.find("[data-media-viewer-map-route-common-error]"),this.$limitError=this.$element.find("[data-media-viewer-map-route-limit-error]"),this.$facilityZoomInfo=this.$element.find("[data-media-viewer-map-route-facility-information]");const n=this.$facilityZoomInfo.find("[data-notification-store-cookie-on-close]");n.length&&(this.facilityZoomCookieName=n.attr("data-notification-store-cookie-on-close")),this.mapTypeEventLogger=new Vs,this.mapCreationEventLogger=new Hs,this.connect=new _t.a(this.store,["ui.mediaViewerRoute","ui.activeLocationId","getPersonalPlaces.loaded","getPersonalPlaces.error","addPersonalPlace.loaded","addPersonalPlace.error","deletePersonalPlace.loaded","ui.selectedCategories"]),this.onPersonalPlaceMarkerClickedHandler=this.onPersonalPlaceMarkerClickedHandler.bind(this),a()(".media-viewer-map-container").height(window.innerHeight+"px"),Us.isIos()&&this.$element.addClass("media-viewer-map--is-ios"),zs.on("map-type-preselect-event-media-viewer-map",(e,t)=>{this.preselectedMapType=t?t.value:e.detail.value}),this.waitUntilGoogleMapsIsLoaded().then(()=>{this.google=window.google,this.gtmDataLayer=window.gtmDataLayer;const e=this.getMapOptions(this.config);this.map=this.createMapOnElement(this.$canvas[0],e);const t=this.config;this.addHuisMarkerToMap(t,this.config.markerUrl,this.config.markerTitle),this.personalPlaceMarkers=new Ts(this.google.maps,this.map,this.config,this.store,this.onPersonalPlaceMarkerClickedHandler),this.facilityMarkers=new Es(this.google.maps,this.map,this.config,this.store),this.mapRoute=new As(this.google.maps,this.map,this.config,this.store),this.kadasterPlugin=new Ds(this.map,this.config),this.streetviewPlugin=i||new _s(this.map,this.config,this.marker),this.situatiekaartPlugin=new Fs(this.map,this.config,this.marker,this.mapId),this.voorzieningenPlugin=new Ms(this.map,this.config,this.store),this.handleZoomNotification(),this.subscribeToStore(),!0===this.store.getState().ui.userLoggedIn&&this.store.dispatch(Object(Ut.m)()),this.preselectedMapType&&this.switchMapType(this.preselectedMapType),this.bindEvents()})}bindEvents(){this.google.maps.event.addListener(this.map,"idle",()=>{this.google.maps.event.trigger(this.map,"resize")}),this.google.maps.event.addListener(this.map,"zoom_changed",()=>{this.handleZoomNotification()}),zs.on("map-type-select-event-media-viewer-map",(e,t)=>{this.switchMapType(t?t.value:e.detail.value)}).on("show-map-legend-media-viewer-map",(e,t)=>{this.showLegend(t.legendSelector)}).on("map-route-error-event",(e,t)=>{this.handleRouteError(t)}).on("event-map-zoom-controls",(e,t)=>{this.$mapZoomControls.toggleClass("is-hidden",t.hidden)}),this.$mapZoomControls.on("click","[data-media-viewer-map-zoom-controls-in]",e=>{this.zoomIn(e)}).on("click","[data-media-viewer-map-zoom-controls-out]",e=>{this.zoomOut(e)})}onPersonalPlaceMarkerClickedHandler(e){a()(document).trigger("map-route-error-event",{type:"map-route-hide-error"}),this.store.dispatch(Object(Ut.w)("kaart/locatie/"+e))}subscribeToStore(){this.connect.subscribe((e,t)=>{if(!t.getPersonalPlaces.loaded&&e.getPersonalPlaces.loaded&&!e.getPersonalPlaces.error&&e.addPersonalPlace.loaded){const t=Bs(e),i=t[t.length-1].id;this.store.dispatch(Object(Ut.s)(i))}!Object(Yt.a)(e,t)||t.entities.locations[t.ui.activeLocationId]&&(t.entities.locations[t.ui.activeLocationId].personalPlace||t.entities.voorzieningen[t.ui.activeLocationId])||this.store.dispatch(Object(Ut.g)(t.ui.activeLocationId)),(Object(Yt.a)(e,t)&&!Object(Yt.b)(e)||Object(Yt.e)(e,t))&&this.handleZoomNotification()})}waitUntilGoogleMapsIsLoaded(){return Object(ys.a)()}handleZoomNotification(){const e=this.isNotificationVisible(this.$limitError)||this.isNotificationVisible(this.$commonError),t=void 0!==Ne.a.getCookie(this.facilityZoomCookieName),i=this.map.getZoom()<14,s=this.store.getState(),a=!t&&!e&&i&&!Object(Yt.b)(s)&&Object(Yt.c)(s);this.setNotification(this.$facilityZoomInfo,a)}handleRouteError(e){if(this.hideAllNotifications(),"map-route-hide-error"!==e.type){const t="map-route-limit-error"===e.type?this.$limitError:this.$commonError;this.setNotification(t,!0)}}isNotificationVisible(e){return!e.find("[data-notification]").hasClass("is-hidden")}setNotification(e,t){const i=e.find("[data-notification]");t?i.removeClass("is-hidden"):i.addClass("is-hidden")}hideAllNotifications(){this.setNotification(this.$facilityZoomInfo,!1),this.setNotification(this.$commonError,!1),this.setNotification(this.$limitError,!1)}createMapOnElement(e,t){return this.mapCreationEventLogger.log("media-viewer-map"),new this.google.maps.Map(e,t)}addHuisMarkerToMap(e,t,i){const s=new this.google.maps.LatLng(e.lat,e.lng),a={url:t,anchor:new this.google.maps.Point(30,54),scaledSize:new this.google.maps.Size(60,62)};this.marker=new this.google.maps.Marker({position:s,map:this.map,title:i,icon:a,zIndex:9999})}getMapOptions(){const e=window.google,t=this.config;return{zoom:t.zoom||16,center:new e.maps.LatLng(t.lat,t.lng),scrollwheel:!0,gestureHandling:"greedy",disableDefaultUI:!0,mapTypeControlOptions:{mapTypeIds:[e.maps.MapTypeId.ROADMAP,e.maps.MapTypeId.SATELLITE,"kadastraal"]},mapTypeId:t.defaultMapType,scaleControl:!0,overviewMapControl:!0,zoomControlOptions:{style:e.maps.ZoomControlStyle.SMALL},clickableIcons:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"off"}]}]}}switchMapType(e){switch(this.map.overlayMapTypes.clear(),this.map.data.setMap(null),this.streetviewPlugin.setStreetview(!1),this.hideLegends(),this.removeAttributions(),e){case"roadmap":this.map.setMapTypeId(this.google.maps.MapTypeId.ROADMAP);break;case"satellite":this.map.setMapTypeId(this.google.maps.MapTypeId.HYBRID);break;case"cadastral":this.kadasterPlugin.enableKadaster("media-viewer-map");break;case"street_view":this.streetviewPlugin.setStreetview(!0)}this.updateGTMMapType(e)}zoomIn(e){e.preventDefault();const t=this.map.getZoom();21!==t&&this.map.setZoom(t+1)}zoomOut(e){e.preventDefault();const t=this.map.getZoom();0!==t&&this.map.setZoom(t-1)}static isIos(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)}removeAttributions(){this.map.controls[this.google.maps.ControlPosition.BOTTOM_RIGHT].clear()}showLegend(e){this.$element.find(e).addClass("is-visible")}hideLegends(){this.$mapLegend.removeClass("is-visible")}updateGTMMapType(e){this.mapTypeEventLogger.log(e)}}const Ns=a()(window);class qs{constructor(e){this.$element=a()(e),this.mapId=this.$element.attr("data-media-viewer-map-nwn"),this.$mapTypeSelect=this.$element.find("[data-object-map-type-select]"),this.$canvas=this.$element.find("[data-media-viewer-map-nwn-canvas]");const t=this.$element.find("[data-media-viewer-map-nwn-config]");this.config=t.length&&t.text()?JSON.parse(t.text()):{},this.$mapLegends=this.$element.find("[data-object-map-legend]"),this.$mapZoomControls=this.$element.find("[data-media-viewer-map-nwn-zoom-controls]"),this.loadDependencies(),this.bindEvents()}dispose(){Ns.trigger("event-situatiekaart-close-drawer")}loadDependencies(){const e=this;Object(ys.a)().then(()=>{e.createMap(),e.switchMapType(e.config.defaultMapType)})}bindEvents(){const e=this;Ns.on("map-type-select-event-media-viewer-map-nwn",(t,i)=>{e.switchMapType(i.value)}),Ns.on("show-map-legend-media-viewer-map-nwn",(t,i)=>{e.showLegend(i.legendSelector)}),Ns.on("event-map-zoom-controls",(t,i)=>{e.$mapZoomControls.toggleClass("is-hidden",i.hidden)}),e.$mapZoomControls.on("click","[data-media-viewer-map-nwn-zoom-controls-in]",t=>{e.zoomIn(t)}),e.$mapZoomControls.on("click","[data-media-viewer-map-nwn-zoom-controls-out]",t=>{e.zoomOut(t)})}unbindEvents(){Ns.off("map-type-select-event-media-viewer-map-nwn"),Ns.off("show-map-legend-media-viewer-map-nwn"),this.$mapZoomControls.off("click","[data-media-viewer-map-nwn-zoom-controls-in]"),this.$mapZoomControls.off("click","[data-media-viewer-map-nwn-zoom-controls-out]")}createMap(){const e=window.google,t=new e.maps.LatLng(this.config.lat,this.config.lng);this.map=new e.maps.Map(this.$canvas[0],this.getMapOptions()),this.marker=this.getMarker(t),this.kadasterPlugin=new Ds(this.map,this.config),this.streetviewPlugin=new _s(this.map,this.config,this.marker),this.situatiekaartPlugin=new Fs(this.map,this.config,this.marker,this.mapId),e.maps.event.addListener(this.map,"click",()=>{Ns.trigger("event-situatiekaart-close-drawer")}),e.maps.event.addListener(this.map,"bounds_changed",()=>{Ns.trigger("event-situatiekaart-close-drawer")})}getMarker(e){const t=window.google,i={url:this.config.markerUrl,anchor:new t.maps.Point(30,54),scaledSize:new t.maps.Size(60,62)};return new t.maps.Marker({position:e,map:this.map,title:this.config.markerTitle,icon:i,shape:{coords:[8,8,52,52],type:"rect"},zIndex:9999})}switchMapType(e){const t=this;switch(t.map.overlayMapTypes.clear(),t.map.data.setMap(null),t.streetviewPlugin.setStreetview(!1),t.hideLegends(),t.removeAttributions(),e){case"default":case"roadmap":t.map.setMapTypeId(google.maps.MapTypeId.ROADMAP);break;case"satellite":t.map.setMapTypeId(google.maps.MapTypeId.HYBRID);break;case"cadastral":t.kadasterPlugin.enableKadaster("media-viewer-map-nwn");break;case"street_view":t.streetviewPlugin.setStreetview(!0)}t.updateGTMMapType(e)}getMapOptions(){const e=this.config,t=window.google;return{zoom:e.zoom||16,center:new t.maps.LatLng(e.lat,e.lng),scrollwheel:!0,gestureHandling:"greedy",disableDefaultUI:!0,mapTypeControlOptions:{mapTypeIds:[t.maps.MapTypeId.ROADMAP,t.maps.MapTypeId.SATELLITE,"kadastraal"]},mapTypeId:e.defaultMapType,scaleControl:!0,overviewMapControl:!0,zoomControlOptions:{style:t.maps.ZoomControlStyle.SMALL},clickableIcons:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}}zoomIn(e){const t=this,i=t.map.getZoom();e.preventDefault(),21!==i&&t.map.setZoom(i+1)}zoomOut(e){const t=this,i=t.map.getZoom();e.preventDefault(),0!==i&&t.map.setZoom(i-1)}removeAttributions(){this.map.controls[google.maps.ControlPosition.BOTTOM_RIGHT].clear()}showLegend(e){this.$element.find(e).addClass("is-visible")}hideLegends(){this.$mapLegends.removeClass("is-visible")}updateGTMMapType(e){void 0!==window.gtmDataLayer&&gtmDataLayer.push({event:"mapTypeChanged",mapTypeName:e})}}a.a.prototype.load=e=>a.a.fn.on.apply(void 0,["load",e]),a.a.prototype.error=e=>a.a.fn.on.apply(void 0,["error",e]);const Ws=["foto-","360-foto-","video","plattegrond","overzicht","kaart","nwn-kaart"],Gs=27,Ks=a()(window),Zs=a()("body");class Ys{constructor(e,t){this.store=t||Dt.a,this.connect=new _t.a(this.store,["ui.mediaViewerRoute"]),this.$element=a()(e),this.$adsContainer=this.$element.find("[data-media-viewer-advertisements]"),this.adsId=this.$adsContainer.find("[data-advertisements]").attr("id"),this.$closeButton=this.$element.find("[data-media-viewer-close]"),this.$fullscreenButton=this.$element.find("[data-media-viewer-fullscreen]"),this.$elementBackground=this.$element.parent().find("[data-media-viewer-background]"),this.refreshOnClose=!1,this.isMediaViewerAccessedDirectly=!1,this.savedScrollPosition=null;const i=this.store.getState();this.hashMatchesKnownMedia(i.ui.mediaViewerHash)&&(this.isMediaViewerAccessedDirectly=!0),this.clearViews(),this.bindEvents(),this.initFullscreen()}bindEvents(){const e=this;this.$closeButton.on("click",()=>this.handleMediaViewerClose()),a()(document).on("keydown.media-viewer",e=>{e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||e.keyCode===Gs&&this.handleMediaViewerClose()}),e.$fullscreenButton.on("click",(function(){e.isFullscreen?e.exitFullscreen():e.enterFullscreen()})),a()("[data-media-viewer-overlay]").on("click",(function(t){t.preventDefault(),e.store.dispatch(Object(Ut.w)(this.getAttribute("data-media-viewer-overlay")))})),window.addEventListener("show-media-viewer-overlay",t=>{e.store.dispatch(Object(Ut.w)(t.detail.value))}),a()("[data-media-viewer-overlay-switch]").on("click",(function(t){t.preventDefault(),e.clearViews(),e.store.dispatch(Object(Ut.w)(this.getAttribute("data-media-viewer-overlay-switch")))})),a()(document).on("refresh-page-after-close",()=>{this.refreshOnClose=!0}),this.connect.subscribe((e,t)=>{e.ui.mediaViewerRoute!==t.ui.mediaViewerRoute&&(this.hashMatchesKnownMedia(e.ui.mediaViewerRoute)?(this.open(),this.refreshView(e.ui.mediaViewerRoute)):this.close())})}handleMediaViewerClose(){this.isMediaViewerAccessedDirectly?this.store.dispatch(Object(Ut.w)("")):window.history.go(-1)}hashMatchesKnownMedia(e){return Ws.some(t=>-1!==e.indexOf(t))}open(){this.isOpen()||(this.updateAdUnitPath(),this.$element.one("animationend",()=>this.openAnimationEndHandler()),this.disableBodyScrolling(),this.$element.removeClass("hidden lg:hidden").addClass("media-viewer--opening"),this.$elementBackground.removeClass("hidden lg:hidden").addClass("media-viewer-backdrop--opening"))}close(){this.isOpen()&&(this.refreshOnClose&&window.location.reload(),this.isFullscreen&&this.exitFullscreen(),this.$element.addClass("media-viewer--closing"),this.$elementBackground.addClass("media-viewer-backdrop--closing"),this.enableBodyScrolling(),this.$element.one("animationend",()=>this.closeAnimationEndHandler()))}initFullscreen(){this.isFullscreen=!1,(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&this.$fullscreenButton.removeClass("hidden lg:hidden"),a()(document).on("fullscreenchange webkitfullscreenchange",()=>{document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?(this.$fullscreenButton.find("[data-fullscreen-open]").addClass("hidden lg:hidden"),this.$fullscreenButton.find("[data-fullscreen-exit]").removeClass("hidden lg:hidden"),this.isFullscreen=!0):(this.$fullscreenButton.find("[data-fullscreen-open]").removeClass("hidden lg:hidden"),this.$fullscreenButton.find("[data-fullscreen-exit]").addClass("hidden lg:hidden"),this.isFullscreen=!1)})}enterFullscreen(){this.isFullscreen=!0,document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()}exitFullscreen(){this.isFullscreen=!1,document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}refreshView(e){const t=this;let i;if(this.$adsContainer.addClass("hidden lg:hidden"),0===e.indexOf("foto-")){const s=e.split("foto-")[1];i=this.$element.find("[data-media-viewer-fotos]"),i.removeClass("hidden lg:hidden"),this.$adsContainer.removeClass("hidden lg:hidden"),t.fotosView=new ns(i,s)}else if(0===e.indexOf("video"))i=this.$element.find("[data-media-viewer-video]"),i.removeClass("hidden lg:hidden"),t.videoView=new os(i[0]);else if(0===e.indexOf("360-foto-")){const s=e.split("360-foto-")[1];i=this.$element.find("[data-media-viewer-foto360]"),i.removeClass("hidden lg:hidden"),t.foto360View=new us(i[0],s)}else if(0===e.indexOf("plattegrond")){const s=e.split("-")[1];i=this.$element.find("[data-media-viewer-plattegrond]"),i.removeClass("hidden lg:hidden"),t.plattegrondView=new fs(s)}else if(0===e.indexOf("overzicht"))i=this.$element.find("[data-media-viewer-overview]"),i.removeClass("hidden lg:hidden"),"object"!=typeof t.OverView&&(t.OverView=new $s(i));else if(0===e.indexOf("kaart"))i=this.$element.find("[data-media-viewer-map]"),i.removeClass("hidden lg:hidden"),"object"!=typeof t.mapView&&(t.mapView=new Us(i));else if(0===e.indexOf("nwn-kaart"))i=this.$element.find("[data-media-viewer-map-nwn]"),i.removeClass("hidden lg:hidden"),"object"!=typeof t.mapNWNView&&(t.mapNWNView=new qs(i));else if(0===e.indexOf("video-")){const s=e.split("video")[1].substring(1);i=this.$element.find("[data-media-viewer-video]"),i.removeClass("hidden lg:hidden"),t.videoView=new os(i[0],s)}}clearViews(){const e=this;a()("\n            [data-media-viewer-fotos],\n            [data-media-viewer-video],\n            [data-media-viewer-foto360],\n            [data-media-viewer-plattegrond],\n            [data-media-viewer-overview],\n            [data-media-viewer-map],\n            [data-media-viewer-map-nwn]").addClass("hidden lg:hidden"),"object"==typeof e.fotosView&&e.fotosView.dispose(),"object"==typeof e.videoView&&e.videoView.dispose(),"object"==typeof e.foto360View&&e.foto360View.dispose(),"object"==typeof e.plattegrondView&&e.plattegrondView.dispose(),"object"==typeof e.mapNWNView&&e.mapNWNView.dispose()}isOpen(){return!this.$element.hasClass("hidden lg:hidden")}disableBodyScrolling(){let e=Ks.scrollTop();Zs.css("top",-1*e),Zs.addClass("fixed w-full overflow-hidden"),this.savedScrollPosition=e}enableBodyScrolling(){Zs.css("top",""),Zs.removeClass("fixed w-full overflow-hidden"),Ks.scrollTop(this.savedScrollPosition)}openAnimationEndHandler(){this.$element.removeClass("media-viewer--opening").removeClass("hidden lg:hidden"),this.$elementBackground.removeClass("media-viewer-backdrop--opening").removeClass("hidden lg:hidden"),this.$element.attr("aria-hidden","false"),this.$element.off("animationend"),this.observeAdsPosition(),window.dispatchEvent(new CustomEvent("media-viewer-opened-event",[]))}closeAnimationEndHandler(){this.clearViews(),this.$element.removeClass("media-viewer--closing").addClass("hidden lg:hidden"),this.$elementBackground.removeClass("media-viewer-backdrop--closing").addClass("hidden lg:hidden"),this.$element.attr("aria-hidden","true"),this.$element.off("animationend"),window.dispatchEvent(new CustomEvent("media-viewer-closed-event",[])),this.observer&&this.observer.disconnect()}observeAdsPosition(){this.adsId&&(this.observer||(this.observer=new ResizeObserver(()=>{this.updateAdUnitPath()||window.dispatchEvent(new CustomEvent("media-viewer-ads-resized",[]))})),this.observer.observe(this.$adsContainer[0]))}updateAdUnitPath(){if(!this.adsId)return;const e=this.$adsContainer.find("[data-advertisements]"),t=e.attr("data-advertisement-adunit-path"),i=window.getComputedStyle(this.$adsContainer[0],":before").getPropertyValue("content").replace(/['"]+/g,"");let s;if("leaderboard"===i)s=t.replace("halfpage","leaderboard");else{if("halfpage"!==i)return!0;s=t.replace("leaderboard","halfpage")}return e.attr("data-advertisement-adunit-path",s),t===s}}a()("[data-media-viewer]").each((e,t)=>new Ys(t));const Js=a()(".reviews__tabs .fd-tabs__tab");function Qs(e){this.$element=a()(e),this.$items=this.$element.find("[data-carousel-list]"),this.$nextButton=this.$element.find("[data-carousel-next]"),this.slickOptions={mobileFirst:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,nextArrow:this.$nextButton,prevArrow:!1,arrows:!1,responsive:[{breakpoint:760,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:1020,settings:{slidesToShow:2,slidesToScroll:2,arrows:!0}}]},this.initSlick(),this.$items.addClass("is-enhanced")}Js.on("click",(function(e){Js.removeClass("fd-tabs__tab--selected"),a()(e.currentTarget).addClass("fd-tabs__tab--selected")})),Qs.prototype.initSlick=function(){this.$items.slick(this.slickOptions)},a()("[data-carousel-reviews]").each((e,t)=>new Qs(t));class Xs{constructor(e){this.$element=a()(e),this.$list=this.$element.find("[data-employees-list]"),this.$handle=this.$element.find("[data-employees-handle]"),this.hideHandle(),this.bindEvents()}bindEvents(){window.addEventListener("resize",()=>this.hideHandle())}hideHandle(){window.matchMedia("(max-width: 749px)").matches&&this.$list.children().length<=3||window.matchMedia("(min-width: 760px) and (max-width: 1019px)").matches&&this.$list.children().length<=4||window.matchMedia("(min-width: 1020px)").matches&&this.$list.children().length<=6?this.$handle.addClass("is-hidden"):this.$handle.removeClass("is-hidden")}}a()("[data-employees]").each((e,t)=>new Xs(t));class ea{constructor(e){this.$element=a()(e),this.$items=this.$element.find("[data-carousel-office-list]"),this.$nextButton=this.$element.find("[data-carousel-next]"),this.slickOptions={mobileFirst:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,prevArrow:!1,nextArrow:this.$nextButton,arrows:!1,responsive:[{breakpoint:1020,settings:{slidesToShow:1,slidesToScroll:1,arrows:!0}}]},this.initSlick(),this.$items.addClass("is-enhanced")}initSlick(){this.$items.slick(this.slickOptions)}}a()("[data-carousel-office]").each((e,t)=>new ea(t));class ta{constructor(e){this.$element=a()(e),this.$items=this.$element.find("[data-carousel-list]"),this.$nextButton=this.$element.find("[data-carousel-next]"),this.slickOptions={mobileFirst:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,nextArrow:this.$nextButton,prevArrow:!1,arrows:!1,responsive:[{breakpoint:760,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:1020,settings:{slidesToShow:3,slidesToScroll:3,arrows:!0}}]},this.initSlick(),this.$items.addClass("is-enhanced")}initSlick(){this.$items.slick(this.slickOptions)}}a()("[data-carousel-inventory]").each((e,t)=>new ta(t));var ia={props:{object:{type:Object,required:!0}},computed:{imageSrc(){var e;return null===(e=this.object.thumbnail)||void 0===e?void 0:e.large},imageSrcset(){return this.object.thumbnail?`\n                    ${this.object.thumbnail.small} 180w,\n                    ${this.object.thumbnail.medium} 360w,\n                    ${this.object.thumbnail.large} 720w\n                `:null}}},sa=i(0),aa={components:{MapSearchResult:Object(sa.a)(ia,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"map-search-result"},[i("div",{staticClass:"map-search-result-main"},[i("div",{staticClass:"map-search-result-media"},[i("a",{attrs:{href:e.object.url}},[i("div",{staticClass:"map-search-result-image"},[e.imageSrc?i("img",{attrs:{alt:e.object.title,loading:"lazy",sizes:"(min-width: 500px) 228px, calc(100vw - 2rem)",src:e.imageSrc,srcset:e.imageSrcset}}):e._e()])])]),e._v(" "),i("div",{staticClass:"map-search-result-content"},[i("div",{staticClass:"map-search-result-content-inner"},[i("div",{staticClass:"map-search-result__header fd-flex fd-m-bottom-2xs fd-p-top-2xs--bp-s"},[i("div",{staticClass:"map-search-result__header-title-col"},[i("a",{attrs:{href:e.object.url}},[i("h3",{staticClass:"map-search-result__header-title fd-m-none",attrs:{"data-test-map-search-result-header-title":""}},[e._v("\n                                "+e._s(e.object.title)+"\n                            ")])]),e._v(" "),i("a",{attrs:{href:e.object.url}},[i("h4",{staticClass:"map-search-result__header-subtitle fd-m-none",attrs:{"data-test-map-search-result-header-subtitle":""}},[e._v("\n                                "+e._s(e.object.subtitle)+"\n                            ")])])])]),e._v(" "),i("div",{staticClass:"map-search-result-info map-search-result-info-price"},[i("span",{staticClass:"map-search-result-price"},[e._v("\n                        "+e._s(e.object.price)+"\n                    ")])])])])])])}),[],!1,null,null,null).exports},props:{isOpen:{type:Boolean,default:!1},objects:{type:Array,required:!0},positionSeparator:{type:String,required:!0},nextLabel:{type:String,required:!0},previousLabel:{type:String,required:!0},closeLabel:{type:String,required:!0}},data(){return{activeObjectIndex:0,onCarouselScrollDebounced:p()(this.onCarouselScroll,50)}},computed:{navigationIsVisible(){return this.objects.length>1},previousButtonIsDisabled(){return 0===this.activeObjectIndex},nextButtonIsDisabled(){return this.activeObjectIndex===this.objects.length-1}},watch:{objects(){this.activeObjectIndex=0,this.scrollToObject(0,!1)},isOpen(e,t){e&&!t&&(this.activeObjectIndex=0)}},methods:{showPreviousObject(){this.activeObjectIndex=this.activeObjectIndex-1,this.scrollToObject(this.activeObjectIndex,!0)},showNextObject(){this.activeObjectIndex=this.activeObjectIndex+1,this.scrollToObject(this.activeObjectIndex,!0)},close(){this.$emit("close")},onCarouselScroll(){const e=this.$refs.carousel,t=this.getObjectWidth(),i=e.scrollLeft;this.activeObjectIndex=parseInt(i/t,10)},getObjectWidth(){return this.$refs.carousel.clientWidth},scrollToObject(e,t){var i=this;return A()(I.a.mark((function s(){var a,n,o;return I.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,i.$nextTick();case 2:if(n=i.$refs.carousel,o=null===(a=i.$refs.object[e])||void 0===a?void 0:a.$el,n&&o){s.next=6;break}return s.abrupt("return");case 6:n.scroll({left:o.offsetLeft,behavior:t?"smooth":"auto"});case 7:case"end":return s.stop()}}),s)})))()}}},na=Object(sa.a)(aa,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"map-info-window-transition"}},[e.isOpen?i("div",{staticClass:"map-info-window is-visible"},[i("div",{staticClass:"map-info-window__navigation",class:{"is-visible":e.navigationIsVisible}},[i("button",{staticClass:"map-info-window__previous-button",attrs:{disabled:e.previousButtonIsDisabled},on:{click:e.showPreviousObject}},[i("span",{staticClass:"icon-arrow-left-white",attrs:{"data-grunticon-embed":""}}),i("span",{staticClass:"a11y-sr-only"},[e._v(e._s(e.previousLabel))])]),e._v(" "),i("div",{staticClass:"map-info-window__position"},[e._v("\n                "+e._s(e.activeObjectIndex+1)+" "+e._s(e.positionSeparator)+"\n                "+e._s(e.objects.length)+"\n            ")]),e._v(" "),i("button",{staticClass:"map-info-window__next-button",attrs:{disabled:e.nextButtonIsDisabled},on:{click:e.showNextObject}},[i("span",{staticClass:"icon-arrow-right-white",attrs:{"data-grunticon-embed":""}}),i("span",{staticClass:"a11y-sr-only"},[e._v(e._s(e.nextLabel))])])]),e._v(" "),i("div",{staticClass:"map-info-window__content"},[i("div",{ref:"carousel",staticClass:"map-info-window__carousel",on:{scroll:e.onCarouselScrollDebounced}},e._l(e.objects,(function(e){return i("map-search-result",{key:e.title,ref:"object",refInFor:!0,attrs:{object:e}})})),1)]),e._v(" "),i("div",{staticClass:"map-info-window__close"},[i("button",{staticClass:"map-info-window__close-button",on:{click:e.close}},[i("span",{staticClass:"icon icon-close-white",attrs:{"data-grunticon-embed":""}}),e._v(" "),i("span",{staticClass:"a11y-sr-only"},[e._v(e._s(e.closeLabel))])])])]):e._e()])}),[],!1,null,null,null).exports,oa=i(614);const ra={ForRent:"/assets/components/map/map-marker-available.png",ForSale:"/assets/components/map/map-marker-available.png",RentedOut:"/assets/components/map/map-marker-unavailable.png",Sold:"/assets/components/map/map-marker-unavailable.png",Purchased:"/assets/components/map/map-marker-unavailable.png"},la={ForRent:"map__icon--available",ForSale:"map__icon--available",RentedOut:"map__icon--unavailable",Sold:"map__icon--unavailable",Purchased:"map__icon--unavailable"};class da{constructor(e){this.$element=a()(e),this.$tabsWrapper=this.$element.find("[data-inventory-tab-wrapper]"),this.$subtitle=this.$element.find("[data-inventory-subtitle]"),this.$canvas=this.$element.find("[office-pages-map-canvas]"),this.$mapLegends=this.$element.find("[data-office-pages-legend]"),this.$legendText=this.$mapLegends.find("[data-office-map-legend-text]"),this.$legendIcon=this.$mapLegends.find("[data-office-map-legend-icon]"),this.config=JSON.parse(this.$element.find("[data-office-pages-inventory-map-config]").text()),this.locale=a()("html").attr("lang"),this.loadMapAsync(),this.bindEvents(),this.initInfoWindow()}bindEvents(){const e=this;e.$element.on("click","[data-office-pages-map-zoom-controls-in]",t=>{t.preventDefault(),e.zoomIn()}).on("click","[data-office-pages-map-zoom-controls-out]",t=>{t.preventDefault(),e.zoomOut()}),e.$element.closest("[data-toggle-visibility=recent-properties]").on("toggle-changed",(t,i)=>{e.setVisibleCategory(i)})}loadMapAsync(){var e=this;return A()(I.a.mark((function t(){var i,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e,t.next=3,Object(ys.a)();case 3:return i.map=new window.google.maps.Map(i.$canvas[0],i.getMapOptions()),i.map.addListener("click",()=>{i.closeInfoWindow()}),i.map.addListener("dragstart",()=>{i.closeInfoWindow()}),t.next=8,i.getFeatures();case 8:return s=t.sent,t.next=11,i.initMarkerClusterers(s);case 11:i.setVisibleCategory(i.config.initialCategory);case 12:case"end":return t.stop()}}),t)})))()}initInfoWindow(){var e,t,i,s,a,n,o,r;const l=this,d={en:{positionSeparator:"of",nextLabel:"Next",previousLabel:"Previous",closeLabel:"Close"},nl:{positionSeparator:"van",nextLabel:"Volgende",previousLabel:"Vorige",closeLabel:"Sluiten"}},c={el:"[data-office-map-vue-app]",propsData:{isOpen:!1,objects:[],positionSeparator:(null===(e=d[l.locale])||void 0===e?void 0:e.positionSeparator)||(null===(t=d.en)||void 0===t?void 0:t.positionSeparator),nextLabel:(null===(i=d[l.locale])||void 0===i?void 0:i.nextLabel)||(null===(s=d.en)||void 0===s?void 0:s.nextLabel),previousLabel:(null===(a=d[l.locale])||void 0===a?void 0:a.previousLabel)||(null===(n=d.en)||void 0===n?void 0:n.previousLabel),closeLabel:(null===(o=d[l.locale])||void 0===o?void 0:o.closeLabel)||(null===(r=d.en)||void 0===r?void 0:r.closeLabel)}},h=ge.a.extend(na);l.infoWindow=new h(c),l.infoWindow.$on("close",()=>{l.setInfoWindowProps({isOpen:!1})})}getFeatures(){const e=this;return new Promise((t,i)=>{try{e.map.data.loadGeoJson(e.config.listingsUrl,null,e=>{t(e)})}catch(e){i(e)}})}initMarkerClusterers(e){var t=this;return A()(I.a.mark((function s(){var a,n,o,r;return I.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r=function(e,t){const i=a.createMarkersForType(e,t),s=new o(a.map,i,{ignoreHidden:!0,zoomOnClick:!1,enableRetinaIcons:!0,styles:Object(oa.a)(e,a.config.baseUrlAssets),calculator(e){const t=e.length,i={en:t+" addresses",nl:t+" adressen"},s=i[a.locale]||i.en;let n;return n=t<10?1:t<50?2:3,{text:t.toString(),title:s,index:n}}});return s.addListener("click",e=>{const t=a.map.getZoom(),i=e.getMarkers();if(1===i.filter((e,t,i)=>t===i.findIndex(t=>t.getPosition().lat()===e.getPosition().lat()&&t.getPosition().lng()===e.getPosition().lng())).length||t>=21){const e=i.map(e=>e.objectData);a.openInfoWindow(e)}else{const e=new google.maps.LatLngBounds;i.forEach(t=>e.extend(t.position)),a.map.fitBounds(e),a.closeInfoWindow()}}),s},a=t,s.next=4,i.e(2).then(i.bind(null,613));case 4:n=s.sent,o=n.default,a.map.data.setStyle(()=>({visible:!1})),a.markerClusterers=e.reduce((t,i)=>{const s=i.getProperty("type");return t[s]||(t[s]=r(s,e)),t},{});case 8:case"end":return s.stop()}}),s)})))()}openInfoWindow(e){const t=e.map(e=>({title:e.getProperty("label"),subtitle:e.getProperty("subtitle"),url:e.getProperty("url"),price:e.getProperty("price"),thumbnail:e.getProperty("thumbnail")}));this.setInfoWindowProps({isOpen:!0,objects:t})}closeInfoWindow(){this.setInfoWindowProps({isOpen:!1})}setInfoWindowProps(e){const t=this;Object.keys(e).forEach(i=>{const s=e[i];t.infoWindow[i]=s})}createMarkersForType(e,t){const i=this;return t.filter(t=>t.getProperty("type")===e).map(e=>{const t=e.getGeometry(),s=e.getProperty("type"),a={url:`${i.config.baseUrlAssets}${ra[s]}`,scaledSize:new google.maps.Size(22,26),anchor:new google.maps.Point(11,26)},n=new google.maps.Marker({position:t.get(0),title:e.getProperty("label"),icon:a,cursor:"pointer",objectData:e});return n.addListener("click",(function(){i.openInfoWindow([e])})),n})}setVisibleCategory(e){const t=this;["Sold","RentedOut","Purchased"].includes(e)?t.$subtitle.show():t.$subtitle.hide(),Object.keys(t.markerClusterers).forEach(i=>{const s=t.markerClusterers[i],a=i===e;s.getMarkers().forEach(e=>e.setVisible(a));const n=t.map.addListener("idle",(function(){s.repaint(),n.remove()}));a&&s.fitMapToMarkers()}),t.updateLegend(e),t.closeInfoWindow()}updateLegend(e){this.$legendIcon.attr("class",la[e]),this.$legendText.text(this.config.labels[e])}getMapOptions(){const e=this.config,t=window.google;return{zoom:e.zoom||7,scrollwheel:!1,gestureHandling:"cooperative",disableDefaultUI:!0,mapTypeControlOptions:{mapTypeIds:[t.maps.MapTypeId.ROADMAP,t.maps.MapTypeId.SATELLITE,"kadastraal"]},mapTypeId:e.defaultMapType,scaleControl:!0,overviewMapControl:!0,zoomControlOptions:{style:t.maps.ZoomControlStyle.SMALL},center:{lat:52.1326,lng:5.2913},clickableIcons:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}}zoomIn(){const e=this.map.getZoom();21!==e&&(this.map.setZoom(e+1),this.closeInfoWindow())}zoomOut(){const e=this.map.getZoom();0!==e&&(this.map.setZoom(e-1),this.closeInfoWindow())}}a()("[data-office-pages-map-wrapper]").each((e,t)=>new da(t));i(371);var ca=i(376),ha=i.n(ca),pa=i(357),ua=i.n(pa);class ma{constructor(e){const t=this;t.$element=a()(e),t.$tabs=t.$element.find("[data-inventory-tab]"),t.$element.on("click","[data-inventory-tab]",e=>{t.setActiveInventoryTabClass(e)}),t.$params=JSON.parse(t.$element[0].dataset.inventoryTabs),t.loadInventoryStats()}setActiveInventoryTabClass(e){this.$tabs.removeClass("fd-tabs__tab--selected"),a()(e.currentTarget).addClass("fd-tabs__tab--selected")}loadInventoryStats(){var e=this;return A()(I.a.mark((function t(){var i,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e,t.next=3,i.getInventoryStats();case 3:s=t.sent,i.showInventoryStats(s.data);case 5:case"end":return t.stop()}}),t)})))()}getInventoryStats(){const e=this;return new Promise((t,i)=>{try{t(ua.a.get(e.$params.endpoint))}catch(e){i(e)}})}showInventoryStats(e){const t=this;for(var i=0,s=Object.entries(e);i<s.length;i++){const e=ha()(s[i],2),a=e[0],n=e[1];t.$tabs.find(`[data-inventory-total="${a}"]`).text(n)}}}a()("[data-inventory-tabs]").each((e,t)=>new ma(t));var ga=i(568),fa=i(569);class va{constructor(e,t){this.store=t||Dt.a,this.$element=a()(e),this.bindEvents()}bindEvents(){window.addEventListener("map-type-select-neighbourhood",e=>this.exploreLocationsHandler(e)),this.$element.on("click","[data-object-buurt-category-select]",e=>{this.selectCategoryHandler(e)}).on("click","[data-object-buurt-explore-locations]",e=>{this.exploreLocationsHandler(e)})}selectCategoryHandler(e){e.preventDefault();const t=e.currentTarget.getAttribute("data-object-buurt-category-select");this.store.dispatch(Object(Ut.w)("kaart")),this.store.dispatch(Object(Ut.j)(t)),lt.services(nt.ENTRY_POINT_SERVICES,t)}exploreLocationsHandler(e){e.preventDefault(),this.store.dispatch(Object(Ut.w)("kaart")),window.addEventListener("media-viewer-opened-event",()=>{window.setTimeout(()=>{this.store.dispatch(Object(Ut.e)(ga.b,fa.b))},0)},{once:!0})}}a()("[data-object-buurt]").each((e,t)=>new va(t));var ba=i(585),wa={props:{title:{type:String,required:!0}}},$a={components:{UserSavedEmptyStateIllustration:Object(sa.a)(wa,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fd-container--s fd-m-auto fd-text--center"},[t("h2",{staticClass:"fd-h2 fd-m-bottom fd-m-top-5xl"},[this._v("\n        "+this._s(this.title)+"\n    ")]),this._v(" "),t("div",{staticClass:"user-saved-empty-state__image fd-m-auto"})])}),[],!1,null,null,null).exports},mixins:[ba.a],props:{title:{type:String,required:!0},icon:{type:String,required:!0},illustrationtitle:{type:String,required:!0},eventcategory:{type:String,required:!0},eventaction:{type:String,required:!0}},mounted(){this.$_gtmLog({eventCategory:this.eventcategory,eventAction:this.eventaction,nonInteraction:!0})}},ya=Object(sa.a)($a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-saved-empty-state fd-overflow-hidden fd-p-top-5xl fd-p-top-7xl--bp-m fd-p-horizontal"},[i("div",{staticClass:"fd-container fd-m-auto"},[i("div",{staticClass:"fd-text--center user-saved-empty-state__header"},[i("span",{domProps:{innerHTML:e._s(e.icon)}}),e._v(" "),i("h1",{staticClass:"fd-m-top fd-h2"},[e._v("\n                "+e._s(e.title)+"\n            ")])]),e._v(" "),i("div",{staticClass:"user-saved-empty-state__benefit fd-p-none fd-p-bottom-xl"},[e._t("default")],2)]),e._v(" "),i("user-saved-empty-state-illustration",{attrs:{title:e.illustrationtitle}})],1)}),[],!1,null,null,null).exports,ka={props:{title:{type:String,required:!0},description:{type:String,required:!0},icon:{type:String,required:!0}}},Ca=Object(sa.a)(ka,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fd-flex fd-flex-column fd-m-bottom-xl fd-text--center fd-text--left--bp-m"},[i("span",{staticClass:"fd-color-blue-2 fd-bg-blue-5 fd-p-xs fd-m-top-xs--bp-m user-saved-empty-state__benefit-icon",domProps:{innerHTML:e._s(e.icon)}}),e._v(" "),i("div",{staticClass:"fd-m-left-xl--bp-m fd-m-top-s"},[i("strong",[e._v(e._s(e.title))]),e._v(" "),i("p",{staticClass:"fd-m-none fd-m-top-xs"},[e._v("\n            "+e._s(e.description)+"\n        ")])])])}),[],!1,null,null,null).exports;document.querySelector("#user-saved-empty-state")&&new ge.a({el:"#user-saved-empty-state",components:{"app-user-saved-empty-state":ya,"user-saved-empty-state-benefit":Ca}});i(583);var Sa=i(406),Ta=i.n(Sa);const Ea=a()("body");function Oa(e){this.store=Dt.a,this.connect=new _t.a(this.store,["searchFilter.freeTextSearch"]),this.$element=a()(e),this.$input=this.$element.find("[data-free-text-search-name-input]"),this.$clearHandle=this.$element.find("[data-free-text-search-name-clear-handle]"),this.inputValue=unescape(this.$input.val()||""),this.filterButton=Ea.find("[data-sidebar-handle]"),this.time=null,this.$input.val(this.inputValue),this.subscribeToStore();const t=Ta.a.parse(location.search.slice(1));if(t.zoek){const e=(Array.isArray(t.zoek)?t.zoek:[t.zoek]).map(e=>({id:this.generateUniqueID(),value:e}));this.store.dispatch(Object(Ut.u)(e))}this.bindEvents();const i=this.getCampaignType();(i.includes("zoekopreistijd")||i.includes("zoekinomschrijving"))&&this.onCampaignRoute()}Oa.prototype.subscribeToStore=function(){let e=this;this.connect.subscribe((t,i)=>{t.searchFilter.freeTextSearch!==[]&&t.searchFilter.freeTextSearch!==i.searchFilter.freeTextSearch&&(e.$labelWrapper=e.$element.find("[data-free-text-search-wrapper]"),this.renderLabel(t.searchFilter.freeTextSearch),t.searchFilter.freeTextSearch.forEach(t=>{const i={filterGroupId:t.id,filterGroupName:t.value,filterName:t.value,labelText:t.value};q.a.add(i,()=>{this.store.dispatch(Object(Ut.r)(t.id)),q.a.remove(t.id),e.$input.trigger("requestSearchResult")},!0)}))})},Oa.prototype.getCampaignType=function(){return window.location.hash},Oa.prototype.onCampaignRoute=function(){a()(window).width()<1020&&(this.filterButton.click(),this.$element[0].scrollIntoView({block:"center"}))},Oa.prototype.removeLabel=function(){this.$labelWrapper.empty()},Oa.prototype.renderLabel=function(e){var t=this;t.labelTemplate=yt()(this.$element.find("[data-free-text-search-selected-option-template]").html());const i=e.map(e=>this.labelTemplate({id:e.id,groupId:"free-text-search-value",label:e.value}));this.$labelWrapper.html(i),t.$buttonAppliedFilter=t.$element.find("[data-free-text-search-applied-filter-button]"),t.$buttonAppliedFilter.on("click",e=>{t.removeItem(e),t.$input.trigger("requestSearchResult")})},Oa.prototype.bindEvents=function(){var e=this;e.$input.on("keydown",(function(t){13===t.keyCode&&(t.preventDefault(),e.onUpdateInput())})),e.$input.on("keyup",(function(){""===e.$input.val()?e.clear():e.$element.addClass("is-dirty")})),e.$input.on("blur",t=>{t.target.value!==e.inputValue&&(e.time=setTimeout(()=>{e.onUpdateInput()},250))}),e.$element.on("resetfilter",(function(){e.clear(),e.store.dispatch(Object(Ut.r)(null))})),e.$clearHandle.on("click",(function(){e.clear()}))},Oa.prototype.clear=function(e){var t=e||this;t.inputValue="",t.$input.val(""),t.$element.removeClass("is-dirty")},Oa.prototype.removeItem=function(e){e.preventDefault();const t=e.currentTarget.children[1].id;this.store.dispatch(Object(Ut.r)(t)),q.a.remove(t)},Oa.prototype.onUpdateInput=function(){this.$element.is("[data-free-text-search-type]")&&this.GAlog(),this.updateFilter()},Oa.prototype.GAlog=function(){c.b.log({eventCategory:"interactions-searchfilters",eventAction:"filter_freetext-omschrijving",eventLabel:this.$input.val()})},Oa.prototype.updateFilter=function(){var e=unescape(this.$input.val());if(""!==e){this.inputValue=e;const t=this.generateUniqueID();this.store.dispatch(Object(Ut.u)([{id:t,value:e}])),this.$input.val(""),this.inputValue=""}this.$input.trigger("requestSearchResult")},Oa.prototype.generateUniqueID=()=>(65536*(1+Math.random())|0).toString(16).substring(1),a()("[data-free-text-search-name]").each((function(e,t){return new Oa(t)}));var Ia=i(588);null!==document.querySelector("[data-mortgage-lead]")&&(ge.a.mixin(ve.a),new ge.a({el:"[data-mortgage-lead]",components:{"mortgage-lead":Ia.a}}));function xa(e){const t=this;if(t.$element=a()(e),window.matchMedia){const e="(max-width: 760px)";window.matchMedia(e).matches&&t.$element.removeClass("is-expanded"),matchMedia(e).addListener((function(e){e.matches?(t.collapsedHeight=t.$content.children().eq(0).outerHeight()+t.$content.children().eq(1).outerHeight()+t.$handle.outerHeight(),t.toggleExpand(!1)):t.toggleExpand(!0)}))}t.expandibleId=e.getAttribute("data-object-kenmerken")||!1,t.isExpanded=t.$element.hasClass("is-expanded"),t.$handle=t.$element.find("[data-object-kenmerken-handle]"),t.$handlesOutside=a()(),t.expandibleId&&(t.$handlesOutside=a()("body").find('[data-object-kenmerken-handle="'+t.expandibleId+'"]')),t.$content=t.$element.find("[data-object-kenmerken-body]").first(),t.fullHeight=t.$content.outerHeight(!0),t.$element.addClass("is-expandible"),t.collapsedHeight=t.$content.outerHeight(!0),t.toggleExpand(t.isExpanded),t.$element.on("click","[data-object-kenmerken-handle]",(function(){t.toggleExpand()})),t.$handlesOutside.on("click",(function(){t.toggleExpand()})),t.$content.on("click",(function(){t.toggleExpand(!0)}))}xa.prototype.toggleExpand=function(e){const t=this;return t.isExpanded=void 0!==e?e:!t.isExpanded,t.$element.toggleClass("is-expanded",t.isExpanded),t.$handlesOutside.toggleClass("is-expanded",t.isExpanded),t.$element.attr("aria-expanded",t.isExpanded),t.isExpanded?(t.$content.css("height","auto"),xa.sendKenmerkenExpandedEvent()):t.$content.css("height",t.collapsedHeight+"px"),t.isExpanded},xa.sendKenmerkenExpandedEvent=function(){a()(document).trigger("kenmerkenExpanded",{selector:"[data-object-kenmerken]"})},a()("[data-object-kenmerken]").each((e,t)=>new xa(t));class La{constructor(e){this.$element=a()(e),this.$liveComponent=a()("[data-virtual-open-house-promo-label-live]"),this.endpoint=this.$liveComponent.attr("data-virtual-open-house-promo-label-live"),this.$date=this.$liveComponent.find("[data-virtual-open-house-promo-label-live-date]"),this.$streamURL=this.$liveComponent.find("[data-virtual-open-house-promo-label-live-link]"),this.$title=this.$element.find("[data-virtual-open-house-promo-label-live-title]"),this.$moreInfo=this.$element.find("[data-virtual-open-house-promo-label-live-info]"),this.$contentURLs=a()("[data-virtual-open-house-promo-label-content-link]"),this.endDate="",this.globalId=null,this.getLiveStatus(),this.bindEvents()}getLiveStatus(){const e=this;a.a.getJSON(this.endpoint).done((function(t){e.globalId=t.GlobalId,t.Live?(e.updateData(t),e.toggleComponent()):(e.$title.text(t.Title),e.$contentURLs.each((e,i)=>i.setAttribute("href",t.ContentPageUrl)),e.$moreInfo.removeClass("is-hidden"))}))}updateData({Descriptions:e,Link:t,LinkText:i,ContentPageUrl:s}){this.$date.text(e[0]),this.$streamURL.attr("href",t),this.$streamURL.find("span").text(i),this.$contentURLs.each((e,t)=>t.setAttribute("href",s))}toggleComponent(){this.$element.addClass("is-hidden"),this.$liveComponent.removeClass("is-hidden")}bindEvents(){const e=this;this.$streamURL.on("click",()=>{c.b.log({eventCategory:"interactions-objects",eventAction:"click-object-virtual-viewing",eventLabel:e.globalId,nonInteraction:!1})})}}a()("[data-virtual-open-house-promo-label]").each((e,t)=>new La(t));const Pa=a()(window);function Aa(e){const t=this;t.$element=a()(e),t.$canvas=t.$element.find("[data-object-map-canvas]"),t.mapId=t.$element.attr("data-object-map"),t.config=JSON.parse(t.$element.find("[data-object-map-config]").text()),t.$mapLegend=t.$element.find("[data-object-map-legend]"),t.$mapZoomControls=t.$element.find("[data-object-map-zoom-controls]"),t.$mapTypeToggle=t.$element.find("[data-object-map-type-select]"),t.mapTypeEventLogger=new Vs,t.mapCreationEventLogger=new Hs,t.bindEvents(t),t.$element.addClass("is-interactive-map"),t.useLazyLoad()?t.loadMapIfVisible():t.loadMap()}Aa.prototype.bindEvents=function(){const e=this;e.$element.on("click","[data-object-map-zoom-controls-in]",t=>{e.zoomIn(t)}).on("click","[data-object-map-zoom-controls-out]",t=>{e.zoomOut(t)}),Pa.on("map-type-select-event-object-map",(t,i)=>{e.switchMapType(i.value)}).on("show-map-legend-object-map",(t,i)=>{e.showLegend(i.legendSelector)}).on("event-map-zoom-controls",(t,i)=>{e.$mapZoomControls.toggleClass("is-hidden",i.hidden)}),e.useLazyLoad()&&Pa.on("scroll.object-map",bs()(()=>{e.loadMapIfVisible()},50)).on("resize.object-map",p()(()=>{e.loadMapIfVisible()},200))},Aa.prototype.useLazyLoad=function(){return!this.$element[0].hasAttribute("data-object-map-force-load")},Aa.prototype.loadMapIfVisible=function(){const e=this,t=e.$canvas.offset(),i=e.$canvas.height()/4;Pa.scrollTop()+Pa.height()>t.top+i&&(Pa.off("scroll.object-map"),Pa.off("resize.object-map"),e.loadMap())},Aa.prototype.loadMap=function(){const e=this;e.config.useStubbedMapsApi?e.createMap():Object(ys.a)().then((function(){e.createMap(),e.switchMapType(e.config.defaultMapType)}))},Aa.prototype.createMap=function(){const e=window.google,t=new e.maps.LatLng(this.config.lat,this.config.lng);return this.mapCreationEventLogger.log("object-detail"),this.map=new e.maps.Map(this.$canvas[0],this.getMapOptions()),this.marker=this.getMarker(t),this.kadasterPlugin=new Ds(this.map,this.config),this.streetviewPlugin=new _s(this.map,this.config,this.marker),this.situatiekaartPlugin=new Fs(this.map,this.config,this.marker,this.mapId),this.map},Aa.prototype.getMarker=function(e){const t={url:this.config.markerUrl,anchor:new google.maps.Point(30,54),scaledSize:new google.maps.Size(60,62)};return new google.maps.Marker({position:e,map:this.map,title:this.config.markerTitle,icon:t})},Aa.prototype.switchMapType=function(e){const t=this;switch(t.map.overlayMapTypes.clear(),t.map.data.setMap(null),t.streetviewPlugin.setStreetview(!1),t.hideLegends(),t.removeAttributions(),e){case"roadmap":t.map.setMapTypeId(google.maps.MapTypeId.ROADMAP);break;case"satellite":t.map.setMapTypeId(google.maps.MapTypeId.HYBRID);break;case"cadastral":t.kadasterPlugin.enableKadaster("object-map");break;case"street_view":t.streetviewPlugin.setStreetview(!0)}t.updateGTMMapType(e)},Aa.prototype.removeAttributions=function(){this.map.controls[google.maps.ControlPosition.BOTTOM_RIGHT].clear()},Aa.prototype.showLegend=function(e){this.$element.find(e).addClass("is-visible")},Aa.prototype.hideLegends=function(){this.$mapLegend.removeClass("is-visible")},Aa.prototype.updateGTMMapType=function(e){this.mapTypeEventLogger.log(e)},Aa.prototype.getMapOptions=function(){const e=this.config,t=window.google;return{zoom:e.zoom||14,center:new t.maps.LatLng(e.lat,e.lng),scrollwheel:!1,gestureHandling:"cooperative",disableDefaultUI:!0,mapTypeControlOptions:{mapTypeIds:[t.maps.MapTypeId.ROADMAP,t.maps.MapTypeId.SATELLITE,"kadastraal"]},mapTypeId:e.defaultMapType,scaleControl:!0,overviewMapControl:!0,zoomControlOptions:{style:t.maps.ZoomControlStyle.SMALL},styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}},Aa.prototype.zoomIn=function(e){const t=this;e.preventDefault();const i=t.map.getZoom();21!==i&&t.map.setZoom(i+1)},Aa.prototype.zoomOut=function(e){const t=this;e.preventDefault();const i=t.map.getZoom();0!==i&&t.map.setZoom(i-1)},a()("[data-object-map]").each((e,t)=>new Aa(t));const ja=a()(window);class Ma{constructor(e){this.$element=a()(e),this.mapId=this.$element.attr("data-object-map-type-select"),this.mapTypeSelectEvent="map-type-select-event-"+this.mapId,this.$menuToggle=this.$element.find("[data-menu-toggle]"),this.$menuTitle=this.$element.find("[data-menu-title]"),this.$menuItems=this.$element.find("[data-menu-item]"),this.$selectRadios=this.$element.find("[data-object-map-type-select-radio]"),this.bindEvents()}bindEvents(){this.$element.on("change",this.$selectRadios,e=>this.updateMenuItem(e)),this.$menuToggle.on("click",e=>this.toggleMenuVisibility(e)),ja.on("click",()=>this.closeMenu()),ja.on(this.mapTypeSelectEvent,(e,t)=>this.onMapTypeSelectEvent(t?t.value:e.detail.value))}onMapTypeSelectEvent(e){this.$selectRadios.map((t,i)=>{const s=a()(i);s.prop("checked",!1),s.val()==e&&(s.prop("checked",!0),this.updateMenuTitle(s),Object(Ee.a)(Oe.l,{map_mode:e}))})}toggleMenuVisibility(e){this.$element.toggleClass("open"),e.stopPropagation()}closeMenu(){this.$element.removeClass("open")}updateMenuItem(e){e.preventDefault(),this.$element.removeClass("open"),ja.trigger(this.mapTypeSelectEvent,{value:e.target.value})}updateMenuTitle(e){const t=this.$element.find(`label[for="${e.attr("id")}"]`);this.$menuTitle.html(t.text().trim())}}a()("[data-object-map-type-select]").each((e,t)=>new Ma(t));var Da=i(407),_a=i.n(Da);function Ra(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function Fa(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(i),!0).forEach((function(t){L()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ra(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class Va{constructor(e,t){if(this.store=t||Dt.a,this.connect=new _t.a(this.store,["entities.categories","ui.selectedCategories","ui.expandedAccordionPanels"]),this.$element=a()(e),this.$accordionContainer=this.$element.find("[data-object-map-drawer-overview-accordion-container]"),this.categoryData=this.$element.find("[data-object-map-drawer-categories]").text(),this.$accordionItemTemplate=this.$element.find("[data-accordion-item-template]"),this.compiledTemplate=yt()(this.$accordionItemTemplate.html(),{imports:{$:a.a,includes:_a.a}}),""!==this.categoryData){let e=JSON.parse(this.categoryData);this.store.dispatch(Object(Ut.l)(e))}this.subscribeToStore(),this.bindEvents(),this.layout()}subscribeToStore(){this.connect.subscribe((e,t)=>{e.ui.selectedCategories===t.ui.selectedCategories&&e.ui.expandedAccordionPanels===t.ui.expandedAccordionPanels||this.layout()})}bindEvents(){this.$element.on("click","[data-accordion-item-header]",e=>{this.handleAccordionPanelAction(e)}),this.$element.on("change","[data-category-item-checkbox]",e=>{this.handleCategoryAction(e)})}layout(){const e=this.store.getState(),t=Object(Rt.a)(e.entities.categories),i=e.ui.selectedCategories,s=e.ui.expandedAccordionPanels;if(!t==={})return;const a=this.groupCategories(t).map(e=>this.compiledTemplate(Fa(Fa({},e),{},{selectedCategories:i,expandedAccordionPanels:s})));this.$accordionContainer.html(a)}groupCategories(e){return e.reduce((e,t)=>{let i=e.hash[t.type];return i||(i=e.hash[t.type]={name:t.typeName,type:t.type,icon:t.icon,categories:[]},e.arr.push(i)),i.categories.push({id:t.id,name:t.name}),e},{hash:{},arr:[]}).arr}handleAccordionPanelAction(e){const t=a()(e.currentTarget),i=t.attr("data-accordion-item-header");t.parents("[data-accordion-item]").hasClass("is-expanded")?this.store.dispatch(Object(Ut.f)(i)):this.store.dispatch(Object(Ut.k)(i))}handleCategoryAction(e){const t=e.target.value;e.target.checked?(this.store.dispatch(Object(Ut.j)(t)),lt.services(nt.CATEGORY,t)):this.store.dispatch(Object(Ut.i)(t))}}const Ha=a()("body").width()/12;class za{constructor(e){const t=this;let i;t.$element=a()(e),t.$items=t.$element.find("[data-object-media-fotos]"),t.slickWidth=1020,window.matchMedia&&(i=window.matchMedia("(max-width: "+t.slickWidth+"px)"),i.addListener((function(e){e.matches?t.initSwipeListeners():t.removeSwipeListeners()})),i.matches&&t.initSwipeListeners())}initSwipeListeners(){let e=0,t=0;const i=this;function s(){i.$element.find("[data-media-viewer-overlay]")[0].click()}function a(e,t){return function(e,t){return Math.abs(e-t)}(e,t)>Ha}i.$items.addClass("observe-swipe"),i.$element.on("touchstart",".observe-swipe",t=>function(t){e=t.changedTouches[0].screenX}(t)),i.$element.on("touchend",".observe-swipe",i=>function(i){t=i.changedTouches[0].screenX,t<e&&a(t,e)&&s(),t>e&&a(t,e)&&s()}(i))}removeSwipeListeners(){this.$element.off("touchstart"),this.$element.off("touchend"),this.$items.removeClass("observe-swipe")}}a()("[data-object-media]").each((e,t)=>new za(t));class Ba{constructor(e){this.$element=a()(e),this.$virtualTour=this.$element.find("[data-enhancements-endpoint]"),this.loadLazyImage(),this.loadVirtualTour()}loadLazyImage(){this.$element.find("img").one("load",e=>this.handleLoadedImage(e.target)).each((function(){this.complete&&a()(this).trigger("load")}))}loadVirtualTour(){const e=this.$virtualTour.attr("data-enhancements-endpoint");a.a.get(e,e=>{e.VirtualTourUrl&&(this.$virtualTour.attr("href",e.VirtualTourUrl),this.$virtualTour.parent().removeClass("hidden"),this.$virtualTour.find("img").attr("src",e.VirtualTourThumbnail),this.$virtualTour.find("img").on("load",e=>this.handleLoadedImage(e.target)),this.$element.removeClass("hidden md:block"))})}handleLoadedImage(e){if(e.complete&&0!==e.naturalHeight){a()(e).parent().find("[data-img-error-placeholder]").removeClass("bg-light-2")}}}a()("[data-listing-media-teasers]").each((e,t)=>new Ba(t));class Ua{constructor(e){this.$element=a()(e),this.$handle=this.$element.find("[data-tooltip-ui-handle]"),this.isOpened=this.$element.hasClass("fd-tooltip--open"),this.bindEvents()}bindEvents(){this.$handle.click(e=>{e.preventDefault(),this.toggle()}),a()("body").on("click",e=>this.handleOnBodyClick(e))}toggle(){this.isOpened?this.close():this.open()}open(){this.$element.addClass("fd-tooltip--open"),this.isOpened=!0}close(){this.$element.removeClass("fd-tooltip--open"),this.isOpened=!1}handleOnBodyClick(e){const t=this.$handle.is(e.target),i=this.$element.is(e.target),s=0!==a()(e.target).closest(this.$element).length;t||i||s||this.close()}}a()("[data-tooltip-ui]").each((e,t)=>new Ua(t));const Na=window.gtmDataLayer?window.gtmDataLayer[0].pagetype:"unknown";class qa{constructor(e){this.$el=a()(e);const t=this.$el.data().saveObjectTinyid;this.userIsAlreadyLoggedIn=this.$el.data().isUserLoggedIn,this.allTinyIds=a()("div[data-save-object-tinyId='"+t+"']"),this.$saveObjectButtonAdd=this.$el.find("[data-save-object-add-url]"),this.$saveObjectUrlRemove=this.$el.find("[data-save-object-remove-url]"),this.$trackingProperties=this.$el.attr("data-listing-tracking-properties"),this.$saveObjectUrlAdd=this.$el.find("[data-save-object-add-url]").attr("data-save-object-add-url"),this.$saveObjectUrlRemove=this.$el.find("[data-save-object-remove-url]").attr("data-save-object-remove-url"),this.bindEvents()}bindEvents(){this.$el.on("click","[data-save-object-handle]",e=>this.onClick(e))}onClick(e){e.preventDefault();const t=this.$el.hasClass("is-saved");if(t||Object(Ee.a)(Oe.m,JSON.parse(this.$trackingProperties),!0),this.userIsAlreadyLoggedIn)this.disableSaveButton(),this.saveIfLoggedIn(),this.logGTM();else{this.logGTM();const e=this.getSaveObjectUrl(t)+"&returnUrl="+encodeURIComponent(window.location);this.setWindowLocation(e)}}setWindowLocation(e){window.location=e}saveIfLoggedIn(){const e=this;e.isUserLoggedIn((function(){e.toggleSavedState(e.allTinyIds)}))}isUserLoggedIn(e){var t=this;return A()(I.a.mark((function i(){var s,n,o,r;return I.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=t,n=document.querySelector('[data-dialog="user-form"]'),o=n.dialog.isUserLoggedInUrl,i.prev=3,i.next=6,a.a.ajax({url:o});case 6:!0===(r=i.sent).LoggedIn?e():(s.userLoginStatus=new zt(r.LoginUrl,(function(){e()})),s.enableSaveButton()),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(3),d.a.log(i.t0,{function:"isUserLoggedIn"});case 13:case"end":return i.stop()}}),i,null,[[3,10]])})))()}toggleSavedState(e){var t=this;return A()(I.a.mark((function i(){var s,n,o,r;return I.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=t,n=t.$el.hasClass("is-saved"),o=t.getSaveObjectUrl(n),"GET",i.prev=4,i.next=7,a.a.ajax({url:o,type:"GET"});case 7:(r=i.sent)&&(e.map((function(){s.toggleSaveIcon(a()(this))})),a()(window).trigger("objectsaved"),a()(window).trigger("map_saved_object_event",[r])),s.enableSaveButton(),i.next=15;break;case 12:i.prev=12,i.t0=i.catch(4),d.a.log(i.t0,{function:"toggleSavedState"});case 15:case"end":return i.stop()}}),i,null,[[4,12]])})))()}enableSaveButton(){this.$el.children().removeAttr("disabled")}disableSaveButton(){this.$el.children().attr("disabled","disabled")}getSaveObjectUrl(e){return!0===e?this.$saveObjectUrlRemove:this.$saveObjectUrlAdd}toggleSaveIcon(e){if(e.hasClass("is-saved"))e.removeClass("is-saved");else{e.addClass("is-saved is-saving");let t=function(){e.removeClass("is-saving")};e.one("animationend",t)}}getEventCategory(){if(window.gtmDataLayer){switch(window.gtmDataLayer[0].pagetype){case"searchresults":return"interactions-searchresults";case"object":return"interactions-objects";case"kaart":return"interactions-kaart"}}}getObjectState(){return!0===this.$el.hasClass("is-saved")?"unsave-object":"save-object"}logGTM(){const e={eventCategory:this.getEventCategory(),eventAction:this.getObjectState(),eventLabel:Na};this.gtmEventLogger=new c.a,this.gtmEventLogger.log(e)}}qa.getSelector=()=>"[data-save-object]",ee.getAllInstances(qa),a()("[data-save-object]").length>0&&a()(document).on("resultsUpdated",()=>{qa.getSelector=()=>"[data-save-object]",ee.getAllInstances(qa)});var Wa=a()("body");function Ga(e){this.$element=a()(e),this.loggingUrl=e.getAttribute("data-interaction-url"),this.tinyId=e.getAttribute("data-interaction-tinyid"),this.loggedActions=[],Wa.on("click","*[data-interaction-click]",e=>this.registerInteractionHandler(e)),Wa.on("swipe","*[data-interaction-swipe]",e=>this.registerInteractionHandler(e)),function(e){var t=a()("[data-scroll-watch]");if(t.length>0){e.watchedScrollElements=[];for(var i=0;i<t.length;i++)e.isElementInViewport(t[i])||e.watchedScrollElements.push(t[i]);e.watchedScrollElements.length>0&&a()(window).on("scroll",e.debounce((function(){for(var t=0;t<e.watchedScrollElements.length;t++){var i=e.watchedScrollElements[t];e.isElementInViewport(i)&&e.logInteraction(i)}}),100))}}(this)}Ga.prototype.registerInteractionHandler=function(e){e.currentTarget.hasAttribute("data-interaction-override")&&e.preventDefault(),this.logInteraction(e.currentTarget)},Ga.prototype.logInteraction=function(e){var t=a()(e).attr("data-interaction");-1===this.loggedActions.indexOf(t)&&(this.loggedActions.push(t),a.a.ajax({type:"POST",url:this.loggingUrl,data:{tinyId:this.tinyId,logAction:t}}).always((function(){if(e.hasAttribute("data-interaction-override")){var t=e.getAttribute("href");null!==t&&""!==t&&(document.location=t)}})))},Ga.prototype.debounce=function(e,t,i){var s;return function(){var a=this,n=arguments,o=function(){s=null,i||e.apply(a,n)},r=i&&!s;clearTimeout(s),s=setTimeout(o,t),r&&e.apply(a,n)}},Ga.prototype.isElementInViewport=function(e){var t=e;"function"==typeof a.a&&e instanceof a.a&&(t=e[0]);var i=t.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)},a()("[data-interaction-logging]").each((function(e,t){return new Ga(t)}));const Ka=a()(window);class Za{constructor(e){this.$element=a()(e),this.$closeButton=this.$element.find("[data-situatiekaart-close-button]"),this.$content=this.$element.find("[data-situatiekaart-drawer-content]"),this.$objectImage=this.$element.find("[data-situatiekaart-drawer-image]"),this.$objectLabel=this.$element.find("[data-situatiekaart-drawer-label]"),this.$objectTitle=this.$element.find("[data-situatiekaart-drawer-title]"),this.$objectPrice=this.$element.find("[data-situatiekaart-drawer-price]"),this.$objectSurface=this.$element.find("[data-situatiekaart-drawer-surface]"),this.$objectRooms=this.$element.find("[data-situatiekaart-drawer-rooms]"),this.$objectUrl=this.$element.find("[data-situatiekaart-drawer-url]"),this.animationsSupported=Vi(),this.$closeButton.on("click",()=>{Ka.trigger("event-situatiekaart-close-drawer")}),this.bindGlobalEvents()}bindGlobalEvents(){const e=this;Ka.on("event-situatiekaart-show-drawer",(t,i)=>{e.updateDrawer(i.feature)}),Ka.on("event-situatiekaart-close-drawer",()=>{e.closeDrawer()})}openDrawer(){this.isOpen()||this.$element.addClass("is-opened")}closeDrawer(){const e=this;if(e.isOpen()){e.$element.removeClass("is-opened").addClass("is-closing");let t=()=>{e.$element.removeClass("is-closing"),e.$element.attr("aria-hidden","true"),e.$element.off("webkitAnimationEnd oAnimationEnd msAnimationEnd animationend")};e.animationsSupported?e.$element.one("webkitAnimationEnd oAnimationEnd msAnimationEnd animationend",t):t()}}updateDrawer(e){const t=this;t.$content.addClass("is-updating"),null!==e.getProperty("StatusLabel")?(t.$objectLabel.removeClass().addClass(e.getProperty("StatusClassName")),t.$objectLabel.html(e.getProperty("StatusLabel"))):(t.$objectLabel.removeClass(),t.$objectLabel.html("")),t.$objectImage.attr("src",e.getProperty("HoofdFoto")),t.$objectImage.attr("srcset",e.getProperty("HoofdFotoSrcSet")),t.$objectTitle.html(e.getProperty("Adres")),t.$objectPrice.html(e.getProperty("Prijs")),t.$objectSurface.html(e.getProperty("Woonoppervlakte")),t.$objectRooms.html(e.getProperty("AantalKamers")),t.$objectUrl.attr("href",e.getProperty("DetailUrl")),setTimeout(()=>{t.$content.removeClass("is-updating")},250),t.openDrawer()}isOpen(){return this.$element.hasClass("is-opened")}}a()("[data-object-map-situatiekaart-drawer]").each((e,t)=>new Za(t));var Ya=i(578);const Ja=/locatie\/(.*)/;class Qa{constructor(e,t){this.store=t||Dt.a,this.connect=new _t.a(this.store,["ui.mediaViewerRoute","ui.modalityAndTravelToggle",`ui[${ga.a}]`]),this.$element=a()(e),this.$modalitySelectors=this.$element.find("[data-travel-time-modality-toggle__type-control]"),this.personalPlacesRouteEndpoint=this.$element.attr("data-travel-time-modality-toggle-route-endpoint");const i=this.store.getState().ui.modalityAndTravelToggle.modality;this.selectModality(i),this.bindEvents()}bindEvents(){this.$modalitySelectors.on("click",e=>{const t=e.currentTarget.value,i=this.store.getState();lt.travelTime(nt.MODALITY,t),a()(document).trigger("map-route-error-event",{type:"map-route-hide-error"}),this.store.dispatch(Object(Ut.y)(t)),this.store.dispatch(Object(Ut.o)(i.ui.globalObjectId,t,this.personalPlacesRouteEndpoint))}),this.connect.subscribe((e,t)=>{if(Object(Yt.f)(e,t)){const t=Object(Ya.d)(e);this.selectModality(t)}""!==e.ui.mediaViewerRoute&&(!Ja.test(e.ui.mediaViewerRoute)||e.ui[ga.a]!==fa.c&&e.ui[ga.a]!==fa.d)?this.toggleControlVisibility(!1):this.toggleControlVisibility(!0)})}selectModality(e){window.localStorage&&localStorage.setItem("poiModality",e),this.$modalitySelectors.removeClass("checked"),this.$modalitySelectors.filter(`[value="${e}"]`).addClass("checked")}toggleControlVisibility(e){this.$element.addClass("hidden"),e&&this.$element.removeClass("hidden")}}a()("[data-travel-time-modality-toggle]").each((e,t)=>new Qa(t));var Xa=i(380),en=i.n(Xa);const tn=1,sn=2,an=3,nn=4;class on{constructor(e,t,i,s){i||d.a.log("The name of the drawer should be specified"),this.name=i,this.openStateName=s||fa.b,this.store=t||Dt.a,this.connect=new _t.a(this.store,[`ui[${this.name}]`]),this.$element=a()(e),this.$drawerHandle=this.$element.find("[data-drawer-handle]"),this.$dismissButton=this.$element.find("[data-drawer-dismiss]"),this.$expandButton=this.$element.find("[data-drawer-expand]"),this.$swipeOverride=this.$element.find("[data-drawer-swipe-override]"),this.$drawerClickableArea=this.$element.find("[data-object-map-drawer-clickable-area]"),this.$hideKeyboardOnScrollElement=this.$element.find("[data-drawer-dismiss-keyboard-on-scroll]"),this.touchStartY=0,this.moveDistanceScrollableElement=0,this.moveDistanceDrawer=0,this.touchOverridden=!1,this.yPositionWhenOpen=null,this.yPositionWhenClosed=null,this.inLargeView=null,this.subscribeToStore(),this.bindEvents(),this.layout()}subscribeToStore(){this.connect.subscribe((e,t)=>{e.ui[this.name]!==t.ui[this.name]&&this.layout()})}bindEvents(){this.$drawerHandle.on("click",()=>{this.handleDrawerAction(),this.isOpen()&&this.name===ga.a?lt.travelTime(nt.MOBILE_DETAIL_DRAWER_COLLAPSE,"mobile-detail-drawer-collapse"):lt.travelTime(nt.MOBILE_DETAIL_DRAWER_EXPAND,"mobile-detail-drawer-expand")}),this.$expandButton.on("click",()=>{this.handleDrawerAction(),this.store.dispatch(Object(Ut.w)("kaart"))}),this.$dismissButton.on("click",()=>{this.handleDrawerDismiss(),this.store.dispatch(Object(Ut.w)("kaart"))}),this.$drawerClickableArea.on("click",this.onDrawerClick.bind(this)),a()(document).ready(this.checkUntilElementIsVisible.bind(this));let e=window.matchMedia("(min-width: 760px)");e.addListener(e=>{this.inLargeView=e.matches,e.matches?(this.unbindTouchEvents(),this.showDrawerClickableArea()):(this.bindTouchEvents(),this.removeDrawerClickableArea())}),this.inLargeView=e.matches,e.matches?this.$element.addClass("is-inactive"):this.bindTouchEvents()}onDrawerClick(){this.inLargeView||lt.travelTime(nt.MOBILE_OVERVIEW_DRAWER_TAP_GRIP,"mobile-overview-drawer-tap-grip"),this.handleDrawerAction(),this.store.dispatch(Object(Ut.w)("kaart"))}showDrawerClickableArea(){this.$drawerClickableArea.on("click",this.onDrawerClick.bind(this)),this.$drawerClickableArea.removeClass("is-hidden")}removeDrawerClickableArea(){this.$drawerClickableArea.off("click"),this.$drawerClickableArea.addClass("is-hidden")}checkUntilElementIsVisible(){this.$element.is(":visible")?this.$element.addClass("is-animated"):setTimeout(this.checkUntilElementIsVisible.bind(this),50)}bindTouchEvents(){this.$element.on("touchstart",e=>this.handleTouchStart(e)).on("touchmove",e=>this.handleTouchMove(e)).on("touchend",()=>this.handleTouchEnd()).on("touchcancel",()=>this.handleTouchCancel())}unbindTouchEvents(){this.$element.off("touchstart touchmove touchend touchcancel")}handleTouchStart(e){const t=e.changedTouches[0];this.touchStartY=parseInt(t.clientY,10),this.$element.removeClass("is-animated"),this.yPositionWhenClosed=this.getDrawerMinimisedYPosition(),this.yPositionWhenOpen=this.getDrawerOpenYPosition(),this.$hideKeyboardOnScrollElement&&this.$hideKeyboardOnScrollElement[0].contains(t.target)&&this.$hideKeyboardOnScrollElement.focus()}handleTouchMove(e){const t=this.getSwipeLimit(e.target),i=e.changedTouches[0],s=parseInt(i.clientY,10)-this.touchStartY;if(this.touchOverridden=!1,t!==tn&&(t===sn&&s>0||t===an&&s<0||t===nn))return this.touchOverridden=!0,void(this.moveDistanceScrollableElement=s);this.moveDistanceDrawer=s-this.moveDistanceScrollableElement,this.isOpen()&&this.moveDistanceDrawer>0&&this.moveDistanceDrawer<=this.yPositionWhenClosed?this.positionDrawer(this.yPositionWhenOpen+this.moveDistanceDrawer):!this.isOpen()&&this.moveDistanceDrawer<0&&this.moveDistanceDrawer>=-this.yPositionWhenClosed&&this.positionDrawer(this.yPositionWhenClosed+this.moveDistanceDrawer)}handleTouchEnd(){this.clearDrawerPositionCss(),this.$element.addClass("is-animated"),this.touchOverridden||(this.isOpen()&&this.moveDistanceDrawer>30||!this.isOpen()&&this.moveDistanceDrawer<-30?this.handleDrawerAction():this.layout()),this.moveDistanceScrollableElement=0,this.moveDistanceDrawer=0,this.touchOverridden=!1}handleTouchCancel(){this.clearDrawerPositionCss(),this.$element.addClass("is-animated"),this.layout(),this.moveDistanceScrollableElement=0,this.moveDistanceDrawer=0,this.touchOverridden=!1}handleDrawerAction(){this.isOpen()?(this.$drawerClickableArea.removeClass("expanded"),this.$drawerHandle.find("[data-drawer-icon]").removeClass("is-open"),this.store.dispatch(Object(Ut.e)(this.name,fa.c)),this.inLargeView&&lt.travelTime(nt.DESKTOP_OVERVIEW_DRAWER_COLLAPSE,"desktop-overview-drawer-collapse")):(this.$drawerClickableArea.addClass("expanded"),this.$drawerHandle.find("[data-drawer-icon]").addClass("is-open"),this.store.dispatch(Object(Ut.e)(this.name,this.openStateName)),this.inLargeView&&lt.travelTime(nt.DESKTOP_OVERVIEW_DRAWER_EXPAND,"desktop-overview-drawer-expand"))}handleDrawerDismiss(){this.store.dispatch(Object(Ut.e)(this.name,fa.a)),this.inLargeView?lt.travelTime(nt.DESKTOP_DETAIL_DRAWER_DISMISS,"desktop-detail-drawer-dismiss"):lt.travelTime(nt.MOBILE_DETAIL_DRAWER_DISMISS,"mobile-detail-drawer-dismiss")}layout(){const e=this.store.getState().ui[this.name],t=e===fa.a&&this.inLargeView&&this.name===ga.a;"poi_overview_drawer"===this.name&&"drawer_hidden"===e&&this.$drawerHandle.find("[data-drawer-icon]").removeClass("is-open"),this.hideDrawer(),t?this.additionalHideHandlingLargeView():this.showDrawer(e)}showDrawer(e){new Promise(e=>{this.inLargeView?(this.$element.removeClass("is-inactive"),window.requestAnimationFrame(()=>{e()})):e()}).then(()=>{switch(e){case fa.b:this.maximiseDrawer();break;case fa.d:this.semiDrawer();break;case fa.c:this.minimiseDrawer()}})}additionalHideHandlingLargeView(){this.$element.one("transitionend",()=>{this.$element.addClass("is-inactive")}),setTimeout(()=>{this.$element.off("transitionend")},1e3)}maximiseDrawer(){this.$element.addClass("is-maximised"),this.isDesktop()&&a()(window).trigger("media-viewer-drawer-expanded")}semiDrawer(){this.$element.addClass("is-semi")}minimiseDrawer(){this.$element.addClass("is-minimised")}hideDrawer(){this.$element.removeClass("is-maximised is-minimised is-semi")}positionDrawer(e){this.$element.css({transform:`translate3d(0, ${e}px, 0)`})}clearDrawerPositionCss(){this.$element.css("transform","")}isOpen(){const e=this.store.getState();return[fa.b,fa.d].indexOf(e.ui[this.name])>-1}getDrawerMinimisedYPosition(){return this.$element[0].getBoundingClientRect().height-56}getDrawerOpenYPosition(){if(this.openStateName===fa.b)return 0;return this.$element[0].getBoundingClientRect().height-285}getSwipeLimit(e){if(!this.inScrollableElement(e))return tn;const t=en()(this.$swipeOverride,t=>t.contains(e));return 0===t.scrollTop?an:t.scrollTop===t.scrollHeight-t.clientHeight?sn:nn}inScrollableElement(e){let t=!1;return this.$swipeOverride.each((function(){this.contains(e)&&(t=!0)})),t}isDesktop(){return window.innerWidth>749}}class rn{constructor(e,t){this.store=t||Dt.a,this.connect=new _t.a(this.store,["entities.categories","entities.personalPlaces","entities.travelTimes","entities.voorzieningen","getTravelTimes","ui.poiTravelTime"]),this.$element=a()(e),this.compiledTemplate=yt()(this.$element.find("[data-location-detail-template]").html()),this.location=null,this.loading=!0,this.bindEvents(),this.bindStoreEvents()}bindStoreEvents(){this.connect.subscribe((e,t)=>{null===e.getTravelTimes.error&&!0!==e.getTravelTimes.loaded||(this.loading=!1,this.$element.find("[data-location-detail-placeholder]").addClass("is-hidden")),e.ui.poiTravelTime!==t.ui.poiTravelTime&&this.layout(this.location)})}bindEvents(){this.$element.on("click","[data-save-link]",e=>{e.preventDefault();const t=a()(e.currentTarget).attr("href").replace(/^#/,"");this.store.dispatch(Object(Ut.w)(t))}),this.$element.on("click","[data-remove-link]",e=>{e.preventDefault();const t=this.$element.attr("data-personal-place");this.store.dispatch(Object(Ut.h)(t)),delete this.location.personalPlace,this.layout(this.location)})}showLocation(e){this.location=Object.assign({},e),this.layout(e)}layout(e){const t=this.store.getState();let i,s=[],a=[];if(!e)return;t.entities.voorzieningen[e.id]&&(s=t.entities.voorzieningen[e.id],s.categories.length>0&&(a=t.entities.categories[s.categories[0]])),i=t.ui.poiTravelTime,this.$element.attr("data-personal-place",e.personalPlace);const n=this.compiledTemplate({id:e.id,name:e.label||e.location,address:e.location,details:i,type:a.type,icon:a.icon,openingHoursToday:s.openingHoursToday,phone:s.phone,website:s.website,source:s.source});this.$element.html(n),this.$element.find("[data-save-link]").toggleClass("is-hidden",!!e.personalPlace),this.$element.find("[data-remove-link]").toggleClass("is-hidden",!e.personalPlace)}}class ln{constructor(e,t){this.store=t||Dt.a,this.connect=new _t.a(this.store,["addPersonalPlace.loaded","addPersonalPlace.error","getPersonalPlaces.loaded","getPersonalPlaces.error","ui.mediaViewerHash"]),this.handleSaveLocationSubmit=this.handleSaveLocationSubmit.bind(this),this.handleCancelSaveLocation=this.handleCancelSaveLocation.bind(this),this.onSuggestingItems=this.onSuggestingItems.bind(this),this.$element=a()(e),this.$whiteBackground=this.$element.find(".white-bg"),this.$saveLocationForm=this.$element.find("[data-save-location-form]"),this.saveLocationForm=new Mt(this.$saveLocationForm,this.handleSaveLocationSubmit,this.handleCancelSaveLocation,this.onSuggestingItems),this.authenticationRedux=new Nt}onSuggestingItems(e){this.$whiteBackground.toggleClass("is-hidden",!e)}handleSaveLocationSubmit(e){const t=this.store.getState();return Promise.resolve((e=>e.ui.userLoggedIn)(t)).then(t=>t?this.saveLocation(e):this.authenticationRedux.openLoginDialog().then(()=>(a()(document).trigger("refresh-page-after-close"),this.saveLocation(e))))}openLoginDialog(){return this.authenticationRedux.openLoginDialog()}isFacilityMarker(e){const t=this.store.getState();return void 0!==t.entities.locations[e]&&void 0!==t.entities.voorzieningen[e]}saveLocation(e){const t=e.location,i=e.label,s=e.coordinates.lat,a=e.coordinates.lng;this.authenticationRedux.closeLoginDialog(),this.store.dispatch(Object(Ut.c)({location:t,label:i,lat:s,lng:a})),lt.travelTime(nt.SAVE_POI,t)}handleCancelSaveLocation(){const e=this.store.getState().ui.activeLocationId;e?(this.store.dispatch(Object(Ut.w)("kaart/locatie/"+e)),this.store.dispatch(Object(Ut.s)(e))):(this.store.dispatch(Object(Ut.e)(ga.a,fa.a)),this.store.dispatch(Object(Ut.w)("kaart")))}setLocation(e){e&&(this.isFacilityMarker(e.id)?(this.saveLocationForm.setLocation(e.id,e.label,e.lat,e.lng),this.saveLocationForm.disableLocationInput()):this.saveLocationForm.setLocation(e.id,e.location,e.lat,e.lng))}}const dn=/locatie\/(.*)\/bewaren/,cn=e=>e.ui.activeLocationId;class hn{constructor(e,t){this.store=t||Dt.a,this.connect=new _t.a(this.store,["entities.personalPlaces","entities.travelTimes","ui.activeLocationId","ui.mediaViewerRoute","ui.modalityAndTravelToggle"]),this.$element=a()(e),this.$detailDrawerSaveLocationContainer=this.$element.find("[data-detail-drawer-save-location-form-container]"),this.$locationDetail=a()("[data-location-detail]",this.$element),this.drawer=new on(this.$element,this.store,ga.a,fa.d),this.locationDetail=new rn(this.$locationDetail,this.store),this.detailDrawerSaveLocationFormContainer=new ln(this.$detailDrawerSaveLocationContainer);const i=this.store.getState(),s=Object(Os.b)(i,cn(i));this.bindEvents(),this.layout(s)}bindEvents(){this.connect.subscribe((e,t)=>{const i=e.ui.mediaViewerRoute!==t.ui.mediaViewerRoute,s=e.entities.personalPlaces!==t.entities.personalPlaces||e.entities.travelTimes!==t.entities.travelTimes,a=cn(e)!==cn(t);if((Yt.f||i||s||a)&&cn(e)){const t=Object(Os.b)(e,cn(e));this.layout(t)}})}layout(e){const t=this.store.getState();dn.test(t.ui.mediaViewerRoute)?this.showSaveLocation(e):this.showLocationDetail(e)}showSaveLocation(e){this.$detailDrawerSaveLocationContainer.removeClass("is-hidden"),this.$locationDetail.addClass("is-hidden"),this.detailDrawerSaveLocationFormContainer.setLocation(e)}showLocationDetail(e){this.locationDetail.showLocation(e),this.$detailDrawerSaveLocationContainer.addClass("is-hidden"),this.$locationDetail.removeClass("is-hidden")}showAddNewLocationForm(){this.showSaveLocation()}}const pn=()=>{};class un{constructor(e,t,i){this.onChangeVisibility=i||pn,this.onLocationSelected=this.onLocationSelected.bind(this),this.store=t||Dt.a,this.$element=a()(e),this.$accordion=this.$element.find("[data-object-map-drawer-overview-accordion]"),this.$autoSuggestLocations=this.$element.find("[data-auto-suggest-locations]"),this.drawer=new on(this.$element,this.store,ga.b),this.$autoSuggestLocations=this.$element.find("[data-auto-suggest-locations]"),this.autosuggest=new Lt(this.$autoSuggestLocations,this.onLocationSelected,pn,pn,this.onChangeVisibility),this.accordion=new Va(this.$accordion,this.store)}onLocationSelected(e){this.autosuggest.setValue(""),this.createLocationAndMakeItActive(e.placeId,e.coordinates.lat,e.coordinates.lng,e.location)}createLocationAndMakeItActive(e,t,i,s){this.store.dispatch(Object(Ut.b)({id:e,lat:t,lng:i,location:s,label:s})),this.store.dispatch(Object(Ut.w)("kaart/locatie/"+e))}}const mn=/locatie\/(.*)\/bewaren/;class gn{constructor(e,t){this.store=t||Dt.a,this.connect=new _t.a(this.store,[`ui[${ga.b}]`,`ui[${ga.a}]`,"ui.activeLocationId","entities.personalPlaces","ui.userLoggedIn"]),this.$element=a()(e),this.$detailDrawer=this.$element.find("[data-poi-detail-drawer]"),this.$overviewDrawer=this.$element.find("[data-poi-overview-drawer]"),this.$accordionWrapper=this.$element.find("[data-drawer-overview-accordion-wrapper]"),this.detailDrawer=new hn(this.$detailDrawer,this.store),this.overviewDrawer=new un(this.$overviewDrawer,this.store,this.onSuggestItems.bind(this)),this.bindMediaViewerEvents(),this.subscribeToStore()}onSuggestItems(e){e?this.$accordionWrapper.addClass("is-visibility-hidden"):this.$accordionWrapper.removeClass("is-visibility-hidden")}subscribeToStore(){this.connect.subscribe((e,t)=>{const i=[fa.a].indexOf(t.ui[ga.b])>-1,s=i&&e.ui[ga.b]===fa.b,a=[fa.b,fa.d,fa.c].indexOf(t.ui[ga.a])>-1&&e.ui[ga.a]===fa.a,n=t.ui[ga.a]===fa.a&&[fa.b,fa.d,fa.c].indexOf(e.ui[ga.a])>-1;s?this.store.dispatch(Object(Ut.e)(ga.a,fa.a)):a&&i?this.store.dispatch(Object(Ut.e)(ga.b,fa.c)):n&&this.store.dispatch(Object(Ut.e)(ga.b,fa.a));e.ui.activeLocationId!==t.ui.activeLocationId&&null!==e.ui.activeLocationId&&this.store.dispatch(Object(Ut.e)(ga.a,fa.c)),e.entities.personalPlaces!==t.entities.personalPlaces&&null!==e.ui.activeLocationId&&(this.isValidLocationId(e.ui.activeLocationId,e)?this.setUpDrawers():(this.setDrawersToBaseState(),this.store.dispatch(Object(Ut.w)("kaart")),this.store.dispatch(Object(Ut.s)(null))))})}isValidLocationId(e,t){const i=t.entities.locations;return void 0!==t.entities.personalPlaces[e]||void 0!==i[e]}bindMediaViewerEvents(){window.addEventListener("media-viewer-opened-event",()=>{this.setUpDrawers()}),window.addEventListener("media-viewer-closed-event",()=>{this.setDrawersToHiddenState()}),a()(window).on("map-type-select-event-media-viewer-map",(e,t)=>{"roadmap"!==(t?t.value:e.detail.value)?(this.store.dispatch(Object(Ut.w)("kaart")),this.store.dispatch(Object(Ut.s)(null)),this.setDrawersToHiddenState(),this.$element.addClass("is-hidden")):(this.$element.removeClass("is-hidden"),this.setUpDrawers())})}setUpDrawers(){const e=this.store.getState(),t=e.ui.mediaViewerRoute,i=new RegExp("^kaart$"),s=new RegExp("^kaart/bewaren$"),n=new RegExp(mn);!1!==e.ui.userLoggedIn||!a.a.isEmptyObject(e.entities.locations)||s.test(t)?i.test(t)?this.setDrawersToBaseState():s.test(t)?(this.store.dispatch(Object(Ut.e)(ga.a,fa.d)),this.detailDrawer.showAddNewLocationForm()):n.test(t)?this.store.dispatch(Object(Ut.e)(ga.a,fa.d)):null!==e.ui.activeLocationId&&(this.store.dispatch(Object(Ut.e)(ga.a,fa.c)),this.store.dispatch(Object(Ut.e)(ga.b,fa.a))):this.setDrawersToBaseState()}setDrawersToBaseState(){this.store.dispatch(Object(Ut.e)(ga.b,fa.c)),this.store.dispatch(Object(Ut.e)(ga.a,fa.a))}setDrawersToHiddenState(){this.store.dispatch(Object(Ut.e)(ga.a,fa.a)),this.store.dispatch(Object(Ut.e)(ga.b,fa.a))}}a()("[data-object-map-drawers]").each((e,t)=>new gn(t));const fn=e=>e.entities.personalPlaces,vn=e=>(e=>Object(Rt.a)(e.entities.locations))(e).filter(e=>!!e.personalPlace);class bn{constructor(e,t){this.onPersonalPlacesListItemSelected=this.onPersonalPlacesListItemSelected.bind(this),this.onRemovePersonalPlace=this.onRemovePersonalPlace.bind(this),this.store=t||Dt.a,this.connect=new _t.a(this.store,["entities.personalPlaces","ui.activeLocationId"]),this.$element=a()(e),this.$personalPlacesList=a()("[data-personal-places-list]",this.$element),this.$emptyState=a()("[data-empty-state]",this.$element),this.$loggedInState=a()("[data-not-loggedin-state]",this.$element),this.personalPlacesList=new Ht(this.$personalPlacesList,this.store,this.onPersonalPlacesListItemSelected,this.onRemovePersonalPlace),this.authenticationRedux=new Nt}onPersonalPlacesListItemSelected(e){this.updateUrlToContainActiveLocation(e)}updateUrlToContainActiveLocation(e){const t="kaart/locatie/"+e;this.store.dispatch(Object(Ut.w)(t))}init(){const e=this.store.getState(),t=vn(e);this.authenticationRedux.fetchUserAuthenticationInfo(),this.layout(t),this.bindEvents()}bindEvents(){this.connect.subscribe((e,t)=>{if(fn(e)!==fn(t)){const t=vn(e);this.layout(t)}}),this.$element.on("click","[data-login-button]",e=>{e.preventDefault(),this.authenticationRedux.openLoginDialog().then(()=>{this.authenticationRedux.closeLoginDialog()})})}onRemovePersonalPlace(e){const t=this.store.getState();e===(e=>e.ui.activeLocationId)(t)&&this.store.dispatch(Object(Ut.s)(null));const i=en()(t.entities.locations,t=>t.personalPlace==e);i&&(this.store.dispatch(Object(Ut.h)(e)),this.store.dispatch(Object(Ut.g)(i.id)))}layout(e){const t=this.store.getState();this.$personalPlacesList.toggleClass("is-hidden",e.length<1),this.$emptyState.toggleClass("is-hidden",e.length>0),this.$loggedInState.toggleClass("is-hidden",t.ui.userLoggedIn)}}a()("[data-my-personal-places]").each((e,t)=>new bn(t).init());class wn{constructor(e){const t=this;t.element=e,t.$element=a()(e),t.spinner=new Ke("[data-media-viewer-map-spinner]"),a()(document).on("map-route-show-spinner",()=>{t.show()}),a()(document).on("map-route-hide-spinner",()=>{t.hide()})}show(){this.$element.removeClass("is-hidden"),this.spinner.show()}hide(){this.$element.addClass("is-hidden"),this.spinner.hide()}}a()("[data-media-viewer-loading-overlay]").each((function(e,t){return new wn(t)}));i(408);class $n{constructor(e,t){this.store=t||Dt.a,this.connect=new _t.a(this.store,["entities.personalPlaces","ui.modalityAndTravelToggle","ui.userLoggedIn","getPersonalPlaces.loaded","getPersonalPlaces.error","addPersonalPlace.loaded","addPersonalPlace.error","ui.selectedCategories"]),this.shouldLoadPersonalPlacesOnScroll=!0,this.routeEndpoint=e.getAttribute("data-object-locations-route-endpoint"),this.Cookies=Ne.a,this.routeEndpoint||d.a.log("object-locations configuration error"),this.bindEvents(),this.restoreCategories()}connectToStore(){const e=(e,t,i)=>t[e].loaded&&!t[e].error&&t[e].loaded!==i[e].loaded;this.connect.subscribe((t,i)=>{t.ui.selectedCategories!==i.ui.selectedCategories&&this.rememberCategories(t.ui.selectedCategories);const s=!1===i.ui.userLoggedIn||null===i.ui.userLoggedIn,n=t.ui.userLoggedIn&&s;if((e("addPersonalPlace",t,i)||n)&&this.store.dispatch(Object(Ut.m)()),e("getPersonalPlaces",t,i)){if(t.addPersonalPlace.loaded){const e=Object.values(t.entities.personalPlaces).filter(e=>e.isLatest);1===e.length&&this.store.dispatch(Object(Ut.w)("kaart/locatie/"+e[0].id))}a.a.isEmptyObject(t.entities.personalPlaces)||this.store.dispatch(Object(Ut.o)(t.ui.globalObjectId,t.ui.modalityAndTravelToggle.modality,this.routeEndpoint))}})}bindEvents(){a()(document).on("click","[data-entry-point]",e=>{const t=a()(e.target).data("entry-point");"open-map"===t?lt.travelTime(nt.ENTRY_POINT_MAP,""):"add-location"===t&&lt.travelTime(nt.ENTRY_POINT_ADD,"")}).on("user-authenticated-event",(e,t)=>{lt.travelTime(t.loginType,"poi")}).on("scroll",()=>{window.scrollY>2e3&&this.shouldLoadPersonalPlacesOnScroll&&(this.connectToStore(),!0===this.store.getState().ui.userLoggedIn&&this.store.dispatch(Object(Ut.m)()),this.shouldLoadPersonalPlacesOnScroll=!1)})}rememberCategories(e){this.Cookies.setCookie("selected-categories",e.join("|"))}restoreCategories(){const e=this.Cookies.getCookie("selected-categories","");if(""===e)return;const t=e.split("|");this.store.dispatch(Object(Ut.t)(t))}}a()("[data-object-locations]").length>0&&a()("[data-object-locations]").first().each((e,t)=>new $n(t));class yn{constructor(e,t){this.store=t||Dt.a,this.connect=new _t.a(this.store,["entities.personalPlaces","entities.travelTimes","getTravelTimes","ui.userLoggedIn"]),this.$element=a()(e),this.$itemElement=this.$element.find("[data-object-my-locations-items]"),this.$listElement=this.$element.find("[data-object-my-locations-list]"),this.compiledTemplate=yt()(this.$element.find("[data-object-my-locations-template]").html()),this.subscribeToStore(),this.bindEvents()}subscribeToStore(){this.connect.subscribe(e=>{this.layout(e.ui.globalObjectId,e.ui.modalityAndTravelToggle.modality,e.entities.personalPlaces,e.entities.travelTimes)})}bindEvents(){this.$listElement.on("click","[data-object-my-locations-action-select]",e=>{this.selectPersonalPlaceHandler(e)}).on("click","[data-object-my-locations-action-delete]",e=>{this.deletePersonalPlaceHandler(e)})}layout(e,t,i,s){if("abort"===this.store.getState().getTravelTimes.error)return;const a=Object.keys(i).length,n=this.store.getState().getTravelTimes.loading;if(null!==this.store.getState().getTravelTimes.error)this.$listElement.empty(),this.compiledErrorTemplate=yt()(this.$element.find("[data-object-my-locations-template-error]").html()),this.$listElement.append(this.compiledErrorTemplate());else{this.$element.addClass("places-loaded"),this.$itemElement.toggleClass("has-places",a>0),this.$listElement.empty();const o=e=>e&&!e.error?`${e.duration} • ${e.distance}`:null;Object(Rt.a)(i).forEach(i=>{const a=i.label||i.location,r=o(s[`${i.id}-${e}-${t}`]);this.$listElement.append(this.compiledTemplate({locationId:i.id,isLoading:n,label:a,distance:r,error:null===r&&!n}))})}}selectPersonalPlaceHandler(e){const t=e.currentTarget.getAttribute("data-object-my-locations-action-select"),i=this.store.getState().entities.personalPlaces[t].location;this.store.dispatch(Object(Ut.w)("kaart/locatie/"+t)),lt.travelTime(nt.ENTRY_POINT_GO_TO,i)}deletePersonalPlaceHandler(e){e.stopPropagation();const t=e.currentTarget.getAttribute("data-object-my-locations-action-delete"),i=this.store.getState().entities.personalPlaces[t].location;this.store.dispatch(Object(Ut.h)(t)),lt.travelTime(nt.DELETE_POI,i)}}a()("[data-object-my-locations]").each((e,t)=>new yn(t));const kn=/locatie\/([^/]*)/,Cn=()=>window.location.hash.replace(/^#/,""),Sn=e=>null!==e.match(/^(foto|video|360-foto|plattegrond|overzicht|kaart|nwn-kaart)/);new class{constructor(e){this.store=e||Dt.a,this.initialUrl=window.location.href.replace(window.location.hash,""),this.lastPushedHash="",this.hasPushed=!1,this.connect=new _t.a(this.store,["ui.mediaViewerHash"]),this.bindEvents(),this.store.dispatch(Object(Ut.w)(Cn())),window.location.hash&&(this.hasPushed=!0)}bindEvents(){this.connect.subscribe((e,t)=>{if(e.ui.mediaViewerHash!==t.ui.mediaViewerHash){const i=!Sn(t.ui.mediaViewerHash)&&Sn(e.ui.mediaViewerHash),s=Sn(t.ui.mediaViewerHash)&&!Sn(e.ui.mediaViewerHash);if(Cn()!==e.ui.mediaViewerHash||i||s){const t=e.ui.mediaViewerHash?"#"+e.ui.mediaViewerHash:this.initialUrl;this.hasPushed?window.history.replaceState("media-viewer-router",null,t):(window.history.pushState("media-viewer-router",null,t),this.hasPushed=!0)}this.lastPushedHash=e.ui.mediaViewerHash;const a=this.lastPushedHash.match(kn);if(a){const e=a[1];this.store.dispatch(Object(Ut.s)(e))}else this.store.dispatch(Object(Ut.s)(null));this.store.dispatch(Object(Ut.x)(this.lastPushedHash))}}),window.onpopstate=()=>{if(""!==this.lastPushedHash)this.store.dispatch(Object(Ut.w)("")),this.hasPushed=!1,this.lastPushedHash="";else{const e=window.location.hash.replace(/^#/,"");this.hasPushed=!0,this.store.dispatch(Object(Ut.w)(e)),this.lastPushedHash=e}}}};function Tn(e,t){this.$element=a()(e),this.isReplacementForAdBanner=void 0!==this.$element.attr("data-kopers-services-traffic-driver-adreplacement"),t&&this.isReplacementForAdBanner&&this.$element.removeAttr("hidden")}Tn.initialize=function(){let e=!document.getElementById("krnomhVATBFQ");a()("[data-kopers-services-traffic-driver]").each((t,i)=>new Tn(i,e)),a()(document).on("resultsUpdated",()=>{a()("[data-kopers-services-traffic-driver]").each((t,i)=>new Tn(i,e))})},Tn.initialize();const En=e=>e+"-traffic-driver-bar";class On{constructor(e={}){this._localStorageService=e.localStorageService||new Pe.a,this._isLocalStorageSupported=this._localStorageService.isSupported(),this.options=e}isEnabled(e){if(!this._isLocalStorageSupported)return!1;const t=this._localStorageService.getAsParsedJson("tealium_va_funda_funda")||{},i=t.audiences||{},s=t.badges||{},a=Object.keys(i).map(e=>i[e]),n=Object.keys(s);return{audiences:a.indexOf(this.options.audiences)>-1,badges:n.indexOf(this.options.badges)>-1}[e]}_saveValue(e){this._localStorageService.saveAsStringified(En(this.options.id),e)}_getValue(){return this._localStorageService.getAsParsedJson(En(this.options.id))}accept(){this._saveValue("accepted")}decline(){this._saveValue("declined")}dismiss(){this._saveValue("dismissed")}isAccepted(){return"accepted"===this._getValue()}isDeclined(){return"declined"===this._getValue()}isDismissed(){return"dismissed"===this._getValue()}}class In{constructor(e,t){this.$element=a()(e),this.$defaultContentElement=a()("[data-content-default]",this.$element),this.$acceptedContentElement=a()("[data-content-accepted]",this.$element),this.$declinedContentElement=a()("[data-content-declined]",this.$element),this.targetBadge=e.getAttribute("data-traffic-driver-bar-badge"),this.targetAudience=e.getAttribute("data-traffic-driver-bar-audience");const i={audiences:e.getAttribute("data-traffic-driver-bar-audience"),badges:e.getAttribute("data-traffic-driver-bar-badge"),id:e.getAttribute("data-traffic-driver-bar")};this.visibilityRepository=t||new On(i),this.bindEvents(),this.targetType=this.targetAudience?"audiences":"badges";const s=this.visibilityRepository,n=s.isEnabled(this.targetType),o=s.isDismissed(),r=s.isDeclined(),l=s.isAccepted(),d=n&&!o&&!r&&!l;this.$element.toggleClass("is-hidden",!d)}bindEvents(){this.$element.on("click","[data-accept-button]",e=>{e.target.getAttribute("href")?(this.visibilityRepository.accept(),this.$element.addClass("is-hidden")):(e.preventDefault(),this.visibilityRepository.accept(),this.layout())}),this.$element.on("click","[data-decline-button]",e=>{e.preventDefault(),this.visibilityRepository.decline(),this.layout()}),this.$element.on("click","[data-dismiss-button]",e=>{e.preventDefault(),this.visibilityRepository.dismiss(),this.$element.addClass("is-hidden")}),this.$element.on("click","[data-close-link]",e=>{e.preventDefault(),this.visibilityRepository.dismiss(),this.$element.addClass("is-hidden")})}layout(){const e=this.visibilityRepository,t=e.isDeclined(),i=e.isAccepted();this.$defaultContentElement.toggleClass("is-hidden",i||t),this.$acceptedContentElement.toggleClass("is-hidden",!i),this.$declinedContentElement.toggleClass("is-hidden",!t)}}a()("[data-traffic-driver-bar]").each((e,t)=>new In(t));const xn=a()(window);class Ln{constructor(e){this.$element=a()(e),this.gtmEventLogger=c.b,this.$component=this.$element[0],this.$showPhone=a()(e).find("[data-sticky-contact-phone-handle]"),this.$showPhoneNumber=a()(e).find("[data-sticky-contact-phone-number]"),this.$callButton=a()(e).find("[data-sticky-contact-call-button]"),this.$messageButton=a()(e).find("[data-sticky-contact-message-button]"),this.eventPrefix=this.$element.data("sticky-contact-buttons"),this.callButtonAction=this.eventPrefix+"-contact-sticky-call",this.messageButtonAction=this.eventPrefix+"-contact-sticky-message";const t=this.$element.attr("data-track-props");t&&(this.props=JSON.parse(t)),this.headerHeight=a()("[data-app-header]").height(),this.bindClickedEvents(),this.bindScrollEvents()}bindScrollEvents(){const e=window.matchMedia("(min-width: 760px)"),t=e=>{xn.on("scroll",bs()(()=>this.onScroll(e.matches),200))};t(e),e.addEventListener("change",e=>t(e))}bindClickedEvents(){this.$callButton.on("click",()=>{this.gtmEventLogger.log({eventCategory:"interactions-contactaanvragen",eventAction:this.callButtonAction,eventLabel:this.callButtonAction})}),this.$messageButton.on("click",()=>{this.gtmEventLogger.log({eventCategory:"interactions-contactaanvragen",eventAction:this.messageButtonAction,eventLabel:this.messageButtonAction});const e=this.$messageButton.closest("[data-broker-id]").attr("data-broker-id");Object(Ee.a)(Oe.g,this.props||{lead_broker_id:e,navigation_trigger:"listing_sticky_header"})}),this.$showPhone.on("click",()=>{this.$showPhone.addClass("is-clicked"),this.$showPhoneNumber.addClass("is-clicked")})}onScroll(e){e?xn.scrollTop()>342?this.$element.addClass("is-visible"):this.$element.removeClass("is-visible"):this.reachedFooterLinks()||xn.scrollTop()<this.headerHeight?this.$element.removeClass("is-visible"):this.$element.addClass("is-visible")}reachedFooterLinks(){const e=document.body,t=document.documentElement,i=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);return Math.round(window.screen.height+window.pageYOffset)>=i-this.$component.offsetHeight}}a()("[data-sticky-contact-buttons]").each((e,t)=>new Ln(t));class Pn{constructor(e){this.$element=a()(e),this.$feedbackLike=this.$element.find("[data-response-like]"),this.$feedbackDislike=this.$element.find("[data-response-dislike]"),this.$thankyou=this.$element.find("[data-thankyou]"),this.showEventName=this.$element.attr("data-show-event-name")||!1,this.gtmCategoryName=this.$element.attr("data-gtm-category"),this.gtmActionName=this.$element.attr("data-gtm-action"),this.localStorageKey=this.$element.attr("data-localstorage-key"),this.localStorage=new Pe.a,this.shouldShowOnInit=this.$element.attr("data-feedback-show-init")||!1,this.bindEvents(),this.shouldShowOnInit&&this.show(),this.$element.find("[data-ub-in-page]").length>0&&i.e(12).then(i.bind(null,616))}bindEvents(){this.$feedbackLike.on("click",()=>this.handleFeedbackResponse("like",this.$feedbackLike)),this.$feedbackDislike.on("click",()=>this.handleFeedbackResponse("dislike",this.$feedbackDislike)),this.showEventName&&a()(window).on(this.showEventName,()=>this.show())}show(){this.storageExists()||this.$element.removeClass("fd-completely-hidden")}hide(){this.$element.hasClass("fd-completely-hidden")||(this.$element.one("animationend",()=>this.hideAnimationEndHandler()),this.$element.addClass("is-hiding"))}hideAnimationEndHandler(){this.$element.removeClass("is-hiding").addClass("fd-completely-hidden"),this.$element.off("animationend")}handleFeedbackResponse(e,t){this.$element.children().addClass("fd-completely-hidden"),this.sendGtmEvent(e,this.gtmActionName),this.saveToStorage(e),this.showFollowUpFeedback(t)}showFollowUpFeedback(e){const t=e.attr("data-ub-in-page")||!1;t&&this.showInPageFeedback(t);const i=e.attr("data-usabilla-key")||!1;i&&this.showModalFeedback(i),t||i||this.showThankYouMessage()}showInPageFeedback(e){if("function"!=typeof window.usabilla)return void this.showThankYouMessage();const t=this;this.$element.find(`[ub-in-page="${e}"]`).removeClass("fd-completely-hidden"),window.usabilla("setEventCallback",(function(e,i){"in-page"===e&&"In-Page:Success"===i&&setTimeout(()=>t.hide(),3e3)}))}showModalFeedback(e){this.showThankYouMessage(),"function"==typeof window.usabilla_live&&window.usabilla_live("trigger",e)}showThankYouMessage(){this.$element.children().addClass("fd-completely-hidden"),this.$thankyou.removeClass("fd-completely-hidden"),setTimeout(()=>this.hide(),3e3)}sendGtmEvent(e,t){c.b.log({eventCategory:this.gtmCategoryName,eventAction:t,eventLabel:e})}saveToStorage(e){this.localStorage.saveAsStringified(this.localStorageKey,e)}storageExists(){return void 0!==this.localStorage.getAsParsedJson(this.localStorageKey)}}a()("[data-feedback]").each((e,t)=>new Pn(t));class An{constructor(e){if(this.image=e.querySelector("[data-local-insights-entry-point-img]"),!this.image)return;this.identifier=a()(e).attr("data-local-insights-entry-point");this.image.complete&&0!==this.image.naturalHeight||a()(`[data-local-insights-entry-point="${this.identifier}"]`).remove()}}a()("[data-local-insights-entry-point]").each((e,t)=>new An(t)),a()(document).on("resultsUpdated",()=>{a()("[data-local-insights-entry-point]").each((e,t)=>new An(t))});const jn=a()("body"),Mn=a()(window),Dn=new X;class _n{constructor(e){this.$element=a()(e),this.$closeModalTrigger=this.$element.find("[data-modal-close]"),this.lastClickedElement=null;const t=this.$element.attr("data-modal")||"";this.$openModalTrigger=""!==t?a()(`[data-modal-open="${t}"]`):a()("[data-modal-open]");const i=void 0!==this.$element.attr("data-disable-close-outside");this.bindEvents(i)}bindEvents(e){this.$openModalTrigger.click(()=>this.open()),this.$closeModalTrigger.click(()=>this.close()),jn.on("keydown",e=>this.keyDownHandler(e.keyCode)),Dn.listen((e,t)=>{t!==this.$element.attr("data-modal")&&this.close()}),0==e&&(jn.on("mousedown",e=>this.mouseDownHandler(e.which,e.target)),jn.on("mouseup",e=>this.mouseUpHandler(e.which,e.target)))}open(){this.isOpened()||(Dn.notify("modalopened",this.$element.attr("data-modal")),this.$element.addClass("fd-modal--open"),this.disableBodyScroll())}close(){this.$element.removeClass("fd-modal--open"),this.enableBodyScrolling()}keyDownHandler(e){27===e&&this.close()}isOpened(){return this.$element.hasClass("fd-modal--open")}disableBodyScroll(){let e=Mn.scrollTop();jn.css("top",-1*e),jn.addClass("has-open-modal"),this.savedScrollPosition=e}enableBodyScrolling(){jn.css("top",""),jn.removeClass("has-open-modal"),Mn.scrollTop(this.savedScrollPosition)}mouseDownHandler(e,t){this.isLeftMouseClicked(e)&&(this.lastClickedElement=t)}mouseUpHandler(e,t){0!=this.isLeftMouseClicked(e)&&null!=this.lastClickedElement&&0!=a()(t).is(this.lastClickedElement)&&(this.handleClickOnBackdrop(t),this.lastClickedElement=null)}isLeftMouseClicked(e){return 1==e}handleClickOnBackdrop(e){this.$element.is(e)&&this.close()}}a()("[data-modal]").each((e,t)=>new _n(t));document.querySelector(".object-detail-print")&&(window.onload=()=>{setTimeout(()=>window.print(),1e3)});function Rn(e){const t=this;t.config={},t.$element=a()(e),t.$errorMessage=a()("[data-meld-een-fout-error-message]"),t.$form=a()("[data-object-meld-een-fout-form-form]"),t.$inputs=a()("[data-meld-een-fout-input]"),t.$inputsSubquestion=a()("[data-meld-een-fout-input-subquestion]"),t.$subquestions=a()("[data-meld-een-fout-subquestions]"),t.$textAreaMessage=a()('[data-meld-een-fout-input-message="textarea"]'),t.$textAreaMessageLabel=a()('[data-meld-een-fout-textarea-label="Foutmelding"]'),t.$textAreaSubquestion=a()('[data-meld-een-fout-input-subquestion="textarea"]'),t.$textAreaSubquestionLabel=a()('[data-meld-een-fout-textarea-label="FoutieveInformatie"]'),t.$element.find("[data-object-meld-een-fout-config]").length>0&&(t.config=JSON.parse(t.$element.find("[data-object-meld-een-fout-config]").text())),t.$form.attr("novalidate",!0),t.attachEventListeners(),t.setFormState()}function Fn(...e){e.forEach(e=>{e.each((e,t)=>{!function(e){const t=a()(e).get(0);"radio"===t.type&&a()(e).prop("checked",!1),"textarea"===t.type&&a()(e).val(null)}(t),a()(t).addClass("is-hidden")})})}function Vn(...e){e.forEach(e=>{e.each((e,t)=>{a()(t).removeClass("is-hidden")})})}function Hn(...e){e.forEach(e=>{e.each((e,t)=>{a()(t).addClass("input-validation-error")})})}function zn(...e){e.forEach(e=>{e.each((e,t)=>{a()(t).removeClass("input-validation-error")})})}function Bn(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return Un(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Un(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){r=!0,n=e},f:function(){try{o||null==i.return||i.return()}finally{if(r)throw n}}}}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}Rn.prototype.attachEventListeners=function(){const e=this;e.$inputs.on("change",()=>e.onChangeHandler()),e.$form.on("submit",t=>e.onSubmitHandler(t))},Rn.prototype.getFormState=function(){const e=this.$form.serialize().split("&").map(e=>e.split("=")).map(e=>{const t={};return t[e[0]]=e[1],t}).reduce((e,t)=>Object.assign(e,t));return{isOtherMessage:!(e.Foutmelding!==this.config.foutmeldingOtherRadioValue),isOtherWrongInfo:!(e.FoutieveInformatie!==this.config.foutieveInformatieOtherRadioValue),isWrongInfo:!(e.Foutmelding!==this.config.foutmeldingWrongInfoRadioValue),messageOtherText:!!e.FoutmeldingText,messageSet:!!e.Foutmelding,wrongInfoOptionSet:!!e.FoutieveInformatie,wrongInfoOtherText:!!e.FoutieveInformatieText}},Rn.prototype.onChangeHandler=function(){this.setFormState(),Fn(this.$errorMessage),zn(this.$textAreaMessageLabel,this.$textAreaSubquestionLabel)},Rn.prototype.onSubmitHandler=function(e){this.validateForm()||e.preventDefault()},Rn.prototype.setFormState=function(){const e=this.getFormState(),t=this.$textAreaMessageLabel,i=this.$inputsSubquestion,s=this.$subquestions;e.isOtherMessage?Vn(t):Fn(t),e.isWrongInfo?Vn(s,i):Fn(i,s)},Rn.prototype.validateForm=function(){const e=this,t=e.getFormState();return t.messageSet?t.isWrongInfo&&!t.wrongInfoOptionSet?(Vn(e.$errorMessage),!1):t.isWrongInfo&&t.wrongInfoOptionSet&&t.isOtherWrongInfo&&!t.wrongInfoOtherText?(Hn(e.$textAreaSubquestion),Vn(e.$errorMessage),!1):t.isOtherMessage&&!t.messageOtherText?(Vn(e.$errorMessage),Hn(e.$textAreaMessage),!1):(Fn(e.$errorMessage),zn(e.$textAreaMessage,e.$textAreaSubquestion),!0):(Vn(e.$errorMessage),!1)},a()("[data-object-meld-een-fout-form]").each((function(e,t){return new Rn(t)}));const Nn="AanwezigheidVan:tuin";class qn{constructor(e){this.$element=a()(e),this.$elementItems=this.$element.find("li.filter-flyout-option-label"),this.$checkboxes=this.$element.find("[data-filter-checkbox-item]"),this.appliedFilters=q.a,this.flyoutOptions=this.$element.find("[data-checkbox-more-options]"),this.isExpandible=this.$element.is("[data-is-expandible]"),this.bindEvents(),this.initialCheckState()}initialCheckState(){const e=this.$checkboxes.filter(":checked"),t=this.$elementItems.index(e);for(let t=0;t<e.length;t++)e[t].click();this.isExpandible&&(this.$element.attr("data-expandible",""),this.expandible=new te(this.$element[0])),this.isExpandible&&t>5&&this.expandible.toggleExpand(!0)}bindEvents(){const e=this;e.$elementItems.on("click",e.$checkboxes,e=>{this.checkboxClick(e)}),e.$element.on("resetfilter",()=>{e.resetAppliedFilters()}),e.$element.on("expandibleopened",()=>Object(Ee.a)(Oe.f)),e.$element.on("expandibleclosed",()=>Object(Ee.a)(Oe.e))}checkboxClick(e){e.preventDefault();e.currentTarget.firstElementChild.checked=!e.currentTarget.firstElementChild.checked,this.updateAppliedFilters(e),this.$element.trigger("change");const t=a()(e.target).attr("for"),i=this.$checkboxes.first().data("filterGroupName");this.gaLog({label:t,name:i})}resetAppliedFilters(){const e=this.$checkboxes.filter(":checked");e.prop("checked",!1);var t,i=Bn(e);try{for(i.s();!(t=i.n()).done;){let e=t.value;this.appliedFilters.remove(e.value)}}catch(e){i.e(e)}finally{i.f()}}removeSelectedCheckBox(e){const t=this;e.checked=!1,this.appliedFilters.remove(e.value),a()("[data-instant-search]").trigger("requestSearchResult"),e.value===Nn&&(this.showMoreOptions(!1),t.$element.trigger("deselect-filter-item"))}updateAppliedFilters(e){const t=e.currentTarget.firstElementChild,i={filterGroupId:t.value,filterGroupName:t.value,filterName:t.value,labelText:e.currentTarget.getElementsByTagName("label")[0].textContent};e.currentTarget.firstElementChild.checked?this.appliedFilters.add(i,()=>{this.removeSelectedCheckBox(e.currentTarget.firstElementChild)},!0):(this.appliedFilters.remove(t.value),t.value===Nn&&this.$element.trigger("deselect-filter-item")),t.value===Nn&&this.showMoreOptions(t.checked)}showMoreOptions(e){this.flyoutOptions.toggleClass("is-hidden",!e)}gaLog(e){c.b.log({eventCategory:"interactions-searchfilters",eventAction:e.name,eventLabel:e.label})}}a()("[data-search-filter-checkbox]").each((function(e,t){return new qn(t)}));class Wn{constructor(e){this.$element=a()(e),this.content=this.$element.find(".info-message").html(),this.$triggerElement=a()(this.$element.attr("sidebar-info-trigger")),this.$floater=this.makeFloatingInfo(),this.isVisible=!1,this.bindEvents()}makeFloatingInfo(){if(0===this.$triggerElement.length)return;const e=a()(`<div class="info-message-floating is-hidden">${this.content}</div>`);return this.$triggerElement.append(e),this.$triggerElement.css({position:"relative"}),e}bindEvents(){const e=this;a()(window).on("click",()=>{e.toggleInfo(!1)}),e.$triggerElement.on("click",t=>{t.preventDefault(),t.stopPropagation(),e.toggleInfo()})}toggleInfo(e){const t=this;(void 0===e?!t.isVisible:e)?(t.$element.removeClass("is-hidden"),t.$floater.removeClass("is-hidden"),t.isVisible=!0):(t.$element.addClass("is-hidden"),t.$floater.addClass("is-hidden"),t.isVisible=!1)}}a()("[data-sidebar-info]").each((e,t)=>new Wn(t));class Gn{constructor(e){const t=this;t.$element=a()(e),t.$closeButton=t.$element.find("[data-permanent-redirect-notification-close-button]"),t.$closeButton.on("click",e=>t.dismissMessage(e))}dismissMessage(e){e.preventDefault(),this.$element.addClass("is-hidden")}}a()("[data-permanent-redirect-notification]").each((e,t)=>new Gn(t));class Kn{constructor(e){this.$element=a()(e),this.$carousel=a()(e).find("[data-related-search-carousel]"),0!==this.$carousel.length&&this.bindEvents()}bindEvents(){const e=window.matchMedia("(min-width: 1020px)");e.matches&&this.initCarousel(),e.addEventListener("change",e=>{e.matches?this.initCarousel():this.swiper&&this.swiper.destroy()})}initCarousel(){var e=this;return A()(I.a.mark((function t(){var s,a,n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Promise.all([i.e(0),i.e(4),i.e(10)]).then(i.bind(null,617)),t.next=3,Promise.all([i.e(0),i.e(4),i.e(10)]).then(i.bind(null,618));case 3:s=t.sent,a=s.default,n=s.Navigation,a.use([n]),e.swiper=new a(e.$carousel[0],{slidesPerView:"auto",slidesPerGroup:3,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});case 8:case"end":return t.stop()}}),t)})))()}}a()("[data-related-search]").each((e,t)=>new Kn(t)),a()(document).on("resultsUpdated",()=>{a()("[data-related-search]").each((e,t)=>new Kn(t))});const Zn={dag:"daily",week:"weekly",maand:"monthly",geen:"disable"};class Yn{constructor(e,t){const i=this;this.nafChecked=!0,i.$body=t,i.element=e,i.$element=a()(e),i.saveSearchForm=i.$element,i.saveSearchId=e.getAttribute("data-save-search")||!1,i.$saveSearchHandle=i.$body.find("[data-save-search-handle]"),i.vuexStore=wi.a,i.$container=i.$body.find('[data-save-search-container="'+i.saveSearchId+'"]'),i.loginDialogElement=document.querySelector('[data-dialog="user-form"]'),i.authenticationRedux=new Nt,i.$body.on("click","[data-save-search-handle]",e=>{e.preventDefault(),this.onClickSaveSearchButtonShowDialog(e.currentTarget)}),i.vuexStore.subscribe(e=>{"updateFilter"===e.type&&"onbeschikbaar"===e.payload.value?(a()(".search-main").addClass("historic"),a()(".search-sidebar .save-search-button").addClass("is-hidden")):"removeFilter"===e.type&&(a()(".search-main").removeClass("historic"),a()(".search-sidebar .save-search-button").removeClass("is-hidden"))}),i.$body.on("change","[data-user-checkbox-frequency]",e=>{const t=e.target.checked;this.disableFrequencyDropdow(t)}),i.$element.on("click","[data-save-search-submit-button]",e=>{e.preventDefault(),i.submitForm()}),i.$body.on("click",'[data-dialog="save-search-form"] [data-save-search-submit-button]',e=>{e.preventDefault(),i.submitForm()}),i.$body.on("click","[data-save-search-cancel-button]",()=>{i.dialog.close()}),this.toggleSaveSearchDialogIfRequested()}disableFrequencyDropdow(e){const t=this.$body.find("[data-user-email-frequency]");e?(t.removeAttr("disabled"),this.nafChecked=!0):(t.attr("disabled",!0),this.nafChecked=!1)}onClickSaveSearchButtonShowDialog(e){if(this.isUserLoggedIn()){const t=a()(e).attr("data-save-search-dialog-endpoint");this.dialog=this.findDialogInstance(),this.dialog.open(),this.dialog.getContent(t,"html").then(()=>{const e=this.dialog.$element.find("[data-user-checkbox-frequency]")[0].checked;this.disableFrequencyDropdow(e)}),this.saveSearchForm=this.dialog.$element}else window.location.href=this.getLoginUrl()}findDialogInstance(){return document.querySelector('[data-dialog="save-search-form"]').dialog}submitForm(){var e=this;return A()(I.a.mark((function t(){var i,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.authenticationRedux.authentication.getUserAuthenticationInfo();case 3:if(!(i=t.sent).isLoggedIn){t.next=8;break}e.saveSearch(),t.next=14;break;case 8:return t.next=10,e.authenticationRedux.openLoginDialog(i.loginUrl);case 10:return t.next=12,e.getNewAntiForgeryToken();case 12:s=t.sent,e.setAntiforgeryToken(s);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),d.a.log(t.t0,{function:"submitForm"});case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()}setAntiforgeryToken(e){this.getAntiForgeryTokenInput().attr("value",e)}getAntiForgeryTokenInput(){return this.saveSearchForm.find('input[name="__RequestVerificationToken"]')}getNewAntiForgeryToken(){return A()(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.a.ajax({url:"/mijn/savedsearch/refreshtoken/",dataType:"html"});case 3:return t=e.sent,e.abrupt("return",a()(t).attr("value"));case 7:e.prev=7,e.t0=e.catch(0),d.a.log(e.t0,{function:"getNewAntiForgeryToken"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}logDataOnAnalytics(){const e=this.$body.find("[data-user-email-frequency]")[0].value.toLowerCase();let t=Zn[e];!1===this.nafChecked&&(t="disable"),c.b.log({eventCategory:"interactions-mijnprofiel",eventAction:"save-NAF-notifications-frequency",eventLabel:t})}saveSearch(){var e=this;return A()(I.a.mark((function t(){var i,s,n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.$saveSearchHandle.attr("data-save-search-url"),e.$element.find(":input").serialize(),i=i.replace("/kaart",""),s=a()('[data-dialog="save-search-form"]').find(":input").serialize(),e.logDataOnAnalytics(),t.prev=5,t.next=8,a.a.ajax({method:"POST",url:i,data:s});case 8:a()("[data-save-search-tooltip]").addClass("is-hidden"),n=!0,e.toggleSavedSearchNotification(n,".notification-success"),e.toggleSavedSearchNotification(!n,".notification-error"),Object(Ee.a)(Oe.n),e.dialog.close(),t.next=23;break;case 16:t.prev=16,t.t0=t.catch(5),n=!0,e.toggleSavedSearchNotification(n,".notification-error"),e.toggleSavedSearchNotification(!n,".notification-success"),e.dialog.close(),d.a.log(t.t0,{function:"saveSearch"});case 23:e.scrollToTop();case 24:case"end":return t.stop()}}),t,null,[[5,16]])})))()}scrollToTop(){this.$body.find(".search-sidebar")[0].scrollTo(0,0),window.scrollTo(0,0)}toggleSavedSearchNotification(e,t){a()("[data-save-search-notification]").find(t).toggleClass("is-hidden",!e)}toggleSaveSearchDialogIfRequested(){this.shouldTriggerSaveSearchDialog()&&(this.clearTriggerSaveSearchDialogQueryStringParameter(),this.onClickSaveSearchButtonShowDialog(this.$saveSearchHandle))}isUserLoggedIn(){return"true"===this.$saveSearchHandle.attr("data-is-user-logged-in")}getLoginUrl(){const e=this.$saveSearchHandle.attr("data-login-url");return e.substr(0,e.indexOf("?"))+("?ReturnUrl="+encodeURIComponent(window.location.pathname+"?trigger-save-search-dialog=true"))}shouldTriggerSaveSearchDialog(){return"true"===this.$saveSearchHandle.attr("data-should-trigger-save-button-dialog")}clearTriggerSaveSearchDialogQueryStringParameter(){const e=window.location.href,t=e.substr(0,e.indexOf("?"));window.history.replaceState({},document.title,t)}}a()("[data-save-search]").each((function(e,t){const i=a()("body");return new Yn(t,i)}));const Jn="save-search-tooltip",Qn="closed";class Xn{constructor(e){this.element=e,this.$element=a()(e),this.$closeElement=this.$element.find("[data-save-search-tooltip-close]"),this.localStorage=new Pe.a,this.toggleTooltip(),this.bindEvents()}bindEvents(){this.$closeElement.on("click",()=>this.handleHide())}handleHide(){this.localStorage.saveAsStringified(Jn,Qn),this.toggleTooltip(),this.logAnalytics()}toggleTooltip(){this.storageExists()?a()("[data-save-search-tooltip]").addClass("is-hidden"):a()("[data-save-search-tooltip]").removeClass("is-hidden")}logAnalytics(){c.b.log({eventCategory:"interactions-searchresults",eventAction:"click-saved-search-tooltip",eventLabel:"save-search-tooltip"})}storageExists(){return void 0!==this.localStorage.getAsParsedJson(Jn)}}a()("[data-save-search-tooltip]").each((e,t)=>new Xn(t));function eo(e){this.element=e,this.$element=a()(this.element),this.noResults=new We(this.element,.4),this.updateState()}eo.prototype.updateState=function(){this.noResults.updateVerticalPosition(),this.$element.removeClass("search-no-results-warning").addClass("search-no-results-warning")},eo.enhance=function(){const e=a()("[data-search-no-results]")[0];if(void 0!==e)return new eo(e)},a()(document).on("resultsUpdated",eo.enhance),eo.enhance();function to(e){this.$element=a()(e),this.$errorInputs=this.$element.find(".input-validation-error"),this.bindEvents(),this.scrollToFirstError()}to.prototype.scrollToFirstError=function(){const e=this;e.$errorInputs.length&&e.$errorInputs[0].scrollIntoView()},to.prototype.bindEvents=function(e=!1){const t=this,i=e=>t.errorHandler(e);e&&(t.$errorInputs.off("keypress click",i),t.$errorInputs=t.$element.find(".input-validation-error")),t.$errorInputs.on("keypress click",i)},to.prototype.errorHandler=function(e){const t=a()(e.target),i=to.findExpanding(t,".input-validation-error");to.findExpanding(i,".form-message--error").remove(),i.removeClass("input-validation-error"),this.bindEvents(!0)},to.findExpanding=function(e,t){const i=e.find(t).addBack(t);if(i.length)return i;{const i=e.parent();return i.length?to.findExpanding(i,t):i}},a()("[data-form-validation]").each((e,t)=>new to(t));function io(e){this.$element=a()(e),this.bindEvents()}io.prototype.bindEvents=function(){const e=this;e.$element.click(t=>e.goToElement(t))},io.prototype.goToElement=function(e){e.preventDefault(),a()("html, body").animate({scrollTop:a()(this.$element.attr("href")).offset().top},600)},a()("[data-goto]").each((e,t)=>new io(t));function so(e){this.$element=a()(e),a()("[data-login-submit-form]").submit(this.disableAfterAction)}so.prototype.disableAfterAction=function(){a()(this).find("[data-login-submit-button]").prop("disabled",!0)},a()("[data-user-login]").each((function(e,t){return new so(t)}));function ao(e){const t=this;t.$element=a()(e),t.$openTrigger=t.$element.find("[data-dialog-open]"),t.$closeTrigger=t.$element.find("[data-dialog-close]"),t.$openTrigger.on("click",e=>t.open(e)),t.$closeTrigger.on("click",e=>t.close(e))}ao.prototype.open=function(e){"object"==typeof e&&"function"==typeof e.preventDefault&&e.preventDefault(),this.$element.addClass("show")},ao.prototype.close=function(e){"object"==typeof e&&"function"==typeof e.preventDefault&&e.preventDefault(),this.$element.removeClass("show")},a()("[data-dialog-simple]").each((e,t)=>new ao(t));var no=oo;function oo(e,t){const i=this;this.$element=a()(e);const s=i.$element.find("[data-my-house-tooltip-template]").html().trim(),n=i.$element.find("[data-my-house-tooltip-product-template]").html().trim(),o=a()(window).width(),r=i.$element.attr("data-date-translations-month-format");i.componentLoaded=!1,i.assetBaseUrl=i.$element.attr("data-graph-asset-base"),i.setSpecificOptions=null,i.spinner=new Ke("[data-graph-spinner]"),i.seperator=i.$element.attr("data-thousand-separator");const l={chart:{renderTo:"graph-container",spacing:[10,0,10,0],type:"area",animation:{duration:300},height:330,backgroundColor:"transparent",style:{fontFamily:'"Proxima Nova",sans-serif'}},credits:{enabled:!1},lang:{thousandsSep:this.seperator,decimalPoint:","},legend:{enabled:!1},loading:{hideDuration:500,showDuration:500},plotOptions:{area:{animation:!1,fillColor:"transparent",lineWidth:2.5,marker:{fillColor:"#FFFFFF",lineColor:"#3888C5",lineWidth:2,radius:3,states:{hover:{enabled:!1}}},trackByArea:!0},allowPointSelect:!1,series:{turboThreshold:5e3,states:{hover:{enabled:!1}}}},series:[{data:[],id:"YourObject",lineWidth:3,color:"#3888C5",marker:{lineWidth:2,radius:3},name:"YourObject",zIndex:3},{data:[],id:"flags",linkedTo:":previous",lineWidth:0,marker:{enabled:!1},name:null,onSeries:"line"},{data:[],id:"Products",linkedTo:":previous",lineWidth:0,marker:{enabled:!1},color:"#3888C5",name:"Products",onSeries:"line"}],title:{text:""},tooltip:{shadow:!1,shared:!0,useHTML:!0,crosshairs:{color:"#A4DBFF",dashStyle:"solid"},followPointer:!0,formatter:function(){if(!i.isLoading)return i.renderTooltip({tooltip:s,product:n},this)},hideDelay:0,positioner:function(e,t,s){let n,o;const r=a()("div.highcharts-tooltip"),l=r.width()/2,d=r.height();return s.plotX+l>i.chart.plotWidth?(n=s.plotX+i.chart.plotLeft-130,r.addClass("align-right")):s.plotX<l?(n=s.plotX+i.chart.plotLeft-20,r.addClass("align-left")):(n=s.plotX+i.chart.plotLeft-75,r.removeClass("align-right"),r.removeClass("align-left")),o=s.plotY+i.chart.plotTop-(d+20),{x:n,y:o}},style:{padding:0}},xAxis:{dateTimeLabelFormats:{day:r,week:r,month:"%B"},name:"Datum",labels:{autoRotation:[-45],autoRotationLimit:120,align:"center",style:{color:"#999"}},lineColor:"#D7E2E5",lineWidth:1,minPadding:0,maxPadding:0,tickColor:"transparent"},yAxis:{gridLineColor:"#D7E2E5",gridLineWidth:1,labels:{formatter:function(){return i.Highcharts.numberFormat(this.value,0,"",i.seperator)},style:{color:"#999"}},lineColor:"#D7E2E5",lineWidth:1,min:0,title:{style:{color:"#999"},x:-6}}};i.overrideComponentOptions(t),i.loadLibrary(l,o),a()(window).on("resize",p()((function(){const e=a()(window).width();oo.redrawBasedOnViewport(i.chart,e)}),100))}oo.prototype.loadLibrary=function(){var e=A()(I.a.mark((function e(t,s){var a,n,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this,e.prev=1,e.next=4,i.e(13).then(i.t.bind(null,615,7));case 4:n=e.sent,o=n.default,a.Highcharts=o,a.translateDates(),o.setOptions({global:{useUTC:!1}}),a.chart=new o.Chart(t),oo.redrawBasedOnViewport(a.chart,s),a.componentLoaded=!0,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),d.a.log(e.t0,{function:"Graph loadLibrary"});case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t,i){return e.apply(this,arguments)}}(),oo.prototype.overrideComponentOptions=function(e){this.assetBaseUrl=e.assetBaseUrl||this.assetBaseUrl,this.setSpecificOptions=e.setSpecificOptions||this.setSpecificOptions},oo.prototype.translateDates=function(){const e=this,t={},i=function(i){const s=e.$element.attr(i.selector);s&&(oo[i.property]=t[i.property]=s.split(","))};i({property:"months",selector:"data-date-translations-months"}),i({property:"shortMonths",selector:"data-date-translations-shortmonths"}),i({property:"weekdays",selector:"data-date-translations-weekdays"}),oo.dateFormat=e.$element.attr("data-date-translations-date-format"),e.Highcharts.setOptions({lang:t})},oo.prototype.processData=function(){const e=this;e.setLoading(!0),null!==e.setSpecificOptions&&et()(e.setSpecificOptions)&&e.setSpecificOptions(e.data,e.chart),oo.highlightWeekends(e.chart,e.data.weekends),oo.populateChart(e.chart,e.data),oo.plotFlagLine(e.chart),e.setLoading(!1)},oo.prototype.setLoading=function(e){const t=this,i=t.$element.find("[data-my-house-graph-spinner-template]").html().trim();t.isLoading!=e&&(t.isLoading=e,t.isLoading?(t.chart.showLoading(i),t.spinner.show()):(t.chart.hideLoading(),t.spinner.hide()))},oo.redrawBasedOnViewport=function(e,t){t<500?(e.xAxis[0].update({labels:{y:30}},!1),e.yAxis[0].update({showLastLabel:!1,labels:{align:"left",x:5,y:-10}},!1)):(e.xAxis[0].update({labels:{y:20}},!1),e.yAxis[0].update({showLastLabel:!0,labels:{align:"right",x:-8,y:3}},!1)),e.redraw(),e.reflow()},oo.plotFlagLine=function(e){e.xAxis[0].removePlotLine("flags"),e.series.filter(e=>"products"!==e.options.name).filter(e=>"flags"===e.options.id).reduce((e,t)=>t.data,[]).forEach(t=>oo.plotFlagPoint(t,e))},oo.plotFlagPoint=function(e,t){t.xAxis[0].addPlotLine({value:e.x,width:1,color:"#00AAE6",id:"flags",zIndex:1})},oo.highlightWeekends=function(e,t){t.forEach((function(t){const i=t.Date;e.xAxis[0].addPlotBand({from:i-432e5,to:i+432e5,color:"rgba(245, 245, 245, 0.7)",zIndex:1})}))},oo.prototype.renderTooltip=function(e,t){const i=new RegExp("{title}","g"),s=a()("[data-graph]").attr("data-translations-day-label"),n=t.x.toString().length>2?this.formatDate(new Date(t.x)):s.replace("{value}",t.x),o=t.points.filter(e=>"YourObject"===e.series.name)[0],l=t.points.filter(e=>"Products"===e.series.name)[0],d=e.tooltip.replace(i,n).replace("{seriesColor}",o.color).replace("{value}",r.format(o.y,this.seperator)),c=a()(d);if(l){const t=oo.renderProductTitles(e.product,l.point.title);c.find("[data-my-house-tooltip-products]").append(t)}a()("div.highcharts-tooltip").empty().append(c)},oo.renderProductTitles=function(e,t){const i=new RegExp("{flagName}","g");return t.map(t=>e.replace(i,t)).join("")},oo.populateChart=function(e,t){delete t.weekends,Object.keys(t).forEach((i,s)=>e.series[s].setData(t[i],!0,!0,!1))},oo.prototype.formatDate=function(e){return this.Highcharts.dateFormat(oo.dateFormat,e)};i(385);const ro=lo;function lo(e){this.$element=a()(e),this.url=this.$element.data("async-text-validate"),this.$textarea=this.$element.find("[data-async-text-textarea]"),this.$divUnderlines=this.$element.find("[data-async-text-underlines]"),this.$validCheckIcon=this.$element.find("[data-async-text-valid-container]"),this.$errorMessages=this.$element.find("[data-async-text-error-messages-container]"),this.handleInitialErrors(),this.bindEvents()}lo.prototype.bindEvents=function(){const e=this;e.$textarea.on("blur",()=>e.validate()),e.$divUnderlines.on("mousedown",t=>e.restoreTextArea(t))},lo.prototype.handleInitialErrors=function(){const e=this,t=e.$element.find("[data-async-text-invalid]");if(t.length>0){const i=JSON.parse(t.html());e.responseHandler(i)}},lo.prototype.validate=function(){const e=this,t={url:e.url,data:{Explanation:e.$textarea.val()}};a.a.post(t).then(t=>e.responseHandler(t))},lo.prototype.responseHandler=function(e){const t=this;Array.isArray(e.invalidWords)&&e.invalidWords.length>0||Array.isArray(e.errorMessages)&&e.errorMessages.length>0?(t.showUnderlinedWords(e.invalidWords),t.showErrorMessages(e.errorMessages)):t.$validCheckIcon.removeClass("is-hidden")},lo.prototype.showUnderlinedWords=function(e){const t=this,i=ro.adaptMessage(e);if(Array.isArray(i)&&i.length>0){const e='<span class="highlight">',s="</span>";let a=t.$textarea.val().trim(),n=0;for(let t=0;t<i.length;t++){const o=n+i[t].StartPos,r=n+i[t].EndPos,l=a.substring(0,o),d=a.substring(o,r),c=a.substring(r);a=l+e+d+s+c,n+=e.length+s.length}t.$textarea.addClass("is-hidden"),t.$divUnderlines.html(a),t.$divUnderlines.removeClass("is-hidden"),t.$divUnderlines.addClass("input-validation-error"),t.$validCheckIcon.addClass("is-hidden")}},lo.adaptMessage=function(e){const t=[];if(!Array.isArray(e)||0===e.length)return t;e.sort((e,t)=>e.StartPos-t.StartPos);for(let t=0;t<e.length;t++)e[t].EndPos=e[t].StartPos+e[t].Word.length;t.push(e[0]);for(let i=1;i<e.length;i++){const s=t.pop(),a=e[i];a.StartPos<=s.EndPos?t.push({StartPos:s.StartPos,EndPos:Math.max(s.EndPos,a.EndPos)}):(t.push(s),t.push(a))}return t},lo.prototype.showErrorMessages=function(e){const t=this;Array.isArray(e)&&e.length>0&&(t.$errorMessages.html(e.join("<br/>")),t.$errorMessages.removeClass("is-hidden"))},lo.prototype.restoreTextArea=function(e){"object"==typeof e&&"function"==typeof e.preventDefault&&(e.preventDefault(),e.stopPropagation()),this.$divUnderlines.addClass("is-hidden"),this.$errorMessages.addClass("is-hidden"),this.$textarea.removeClass("is-hidden"),this.$textarea.focus()},a()("[data-async-text-validate]").each((e,t)=>new lo(t));i(409);var co=ho;function ho(e){const t=this;t.$element=a()(e),t.Cookies=Ne.a,t.$selectGraphDataForm=t.$element.find("[data-my-house-datasource-form]"),t.dataObservers=[],t.requestUrl=t.$element.attr("data-datasource-request-url"),t.issuedJwt=t.$element.attr("data-datasource-jwt"),t.globalId=t.$element.attr("data-datasource-globalid"),t.trailingSlash=t.$element[0].hasAttribute("data-datasource-remove-slash"),t.selectedPeriod=null;let i=t.getValidPeriodCookie();i&&t.$element.find("select").val(i),t.$selectGraphDataForm.on("change",()=>{a()(".graph-no-data").remove(),t.selectedInputChanged(t.$selectGraphDataForm)}),a()(document).ready(()=>t.loadData())}ho.instance=null,ho.prototype.loadData=function(){const e=this;let t=!0;e.foreachObservers(e=>function(){e.isLoaded.apply(this)||(t=!1)}),t?e.requestPeriodsForDropdown().then(()=>e.selectedInputChanged(e.$selectGraphDataForm)):setTimeout(e.loadData.bind(e),100)},ho.prototype.selectedInputChanged=function(e){this.setCookie(e),this.requestStatisticsData()},ho.prototype.setCookie=function(e){const t=a()(e);this.selectedPeriod=t.find(":selected"),this.selectedType=t.find(":checked").val(),this.Cookies.setCookie("mijn_PreferredStatsPeriod",this.selectedPeriod.val())},ho.prototype.requestPeriodsForDropdown=function(){const e=this,t=e.createDropdownRequestUrl(e.requestUrl,e.globalId,e.trailingSlash);return e.foreachObservers(e=>e.onDataLoading),a.a.ajax({url:t,headers:{Authorization:"Bearer "+e.issuedJwt},xhrFields:{withCredentials:!0},dataType:"json",success:function(t){ho.isSuccesfulResponse(t)?e.createOptionsForDropdown(t):e.onFail(t)},error:function(t){e.onFail(t)},complete:function(t){ho.isTokenExpired(t)&&e.refreshToken(e.requestPeriodsForDropdown)}})},ho.prototype.onFail=function(e){this.foreachObservers(e=>e.onDataLoadError,e)},ho.prototype.createOptionsForDropdown=function(e){let t=this;const i=a()("[data-my-house-datasource-dropdown]");Object.keys(e).forEach(s=>{let n=i.find("[value='"+e[s].Label+"']");n.length||(n=a()("<option></option>").text(e[s].Label),i.find("option").eq(s).before(n)),n=n.data("dateFrom",e[s].DateFrom).data("dateTo",e[s].DateTo).data("format",e[s].Format).data("interval",e[s].Interval),!t.getValidPeriodCookie()&&e[s].IsSelected&&n.attr("selected",1)}),i.find("option").each((e,t)=>{a()(t).data("dateFrom")||a()(t).remove()})},ho.prototype.requestStatisticsData=function(){const e=this,t=e.createStatisticsRequestUrl(e.requestUrl,e.selectedType,e.globalId,e.trailingSlash);return e.foreachObservers(e=>e.onDataLoading),a.a.ajax({url:t,dataType:"json",headers:{Authorization:"Bearer "+e.issuedJwt},xhrFields:{withCredentials:!0},success:function(t){ho.isSuccesfulResponse(t)?e.foreachObservers(e=>e.onDataLoaded,t,e.selectedPeriod,e.selectedType):e.onFail(t),e.isLoading=!1},error:function(t){e.onFail(t)},complete:function(t){ho.isTokenExpired(t)&&e.refreshToken(e.requestStatisticsData)}})},ho.prototype.createStatisticsRequestUrl=function(e,t,i,s){return[[e,t,i,ho.formatDate(this.selectedPeriod.data("dateFrom")),ho.formatDate(this.selectedPeriod.data("dateTo"))].join("/"),!1===s?"/":""].join("")},ho.prototype.createDropdownRequestUrl=function(e,t,i){return[e,"/getgraphperiods/",t,!1===i?"/":""].join("")},ho.prototype.foreachObservers=function(e){const t=this,i=[].slice.call(arguments).splice(1);Object.keys(this.dataObservers).forEach(s=>{e(t.dataObservers[s]).apply(t.dataObservers[s].context,i)})},ho.prototype.registerDataChanged=function(e){this.dataObservers.push(e)},ho.prototype.refreshToken=function(e){const t=this;return a.a.ajax(t.refreshJwtUrl).done((function(i){"Token"in i&&""!==i.Token&&(t.issuedJwt=i.Token,e())}))},ho.prototype.getValidPeriodCookie=function(){var e=this.Cookies.getCookie("mijn_PreferredStatsPeriod");const t=this.$element.find("option");for(let i=0;i<t.length;i++)if(t[i].value===e)return e},ho.formatDate=function(e){const t=new Date(e),i=function(e){return e<10?"0"+e:e};return[t.getFullYear(),i(t.getMonth()+1),i(t.getDate())].join("")},ho.isTokenExpired=function(e){return 498===e.status},ho.isSuccesfulResponse=function(e){return"undefined"!==e.Result},a()("[data-my-house-datasource]").each((function(e,t){if(ho.instance)throw"UserMyHouseDatasource.instance has already been set.";ho.instance=new ho(t)}));i(410);function po(e,t){const i=this;i.$element=a()(e);const s=i.$element.find("[data-graph]"),n=s.attr("data-graph-asset-base"),o={setData:function(e,t){return i.setData(e,t)}};1===s.length&&n&&(o.assetBaseUrl=i.assetBaseUrl,i.graph=new no(s,o),t||co.instance.registerDataChanged({onDataLoading:po.loadingData,onDataLoaded:po.loadData,onDataLoadError:po.loadError,isLoaded:po.isLoaded,context:this}))}po.isLoaded=function(){return this.graph&&this.graph.componentLoaded},po.loadData=function(e,t,i){const s=this,a=t.data("format");"Date"===a?s.setToDates(e.GraphData):"DayNumber"===a&&s.setToIndex(e.GraphData),s.updateAxisInterval(t),s.updateAxisFormat(t,i),s.graph.processData()},po.prototype.setToIndex=function(e){this.graph.data={viewed:e.Viewed.map(t=>[e.Viewed.indexOf(t)+1,t.Value]),flags:e.Flags.map(e=>{return{x:e.Date=(t=e.Date,new Date(t).getDate()),y:0,title:"flags"};var t}),products:e.Products.map(t=>({x:e.Products.indexOf(t)+1,y:0,title:t.Value,name:"products"})),weekends:e.Weekends}},po.prototype.setToDates=function(e){Object.keys(e).forEach(t=>{e[t].forEach(e=>{return e.Date=(t=e.Date,new Date(t).getTime());var t})}),this.graph.data={viewed:e.Viewed.map(e=>[e.Date,e.Value]),flags:e.Flags.map(e=>({x:e.Date,y:0,title:"flags"})),products:e.Products.map(e=>({x:e.Date,y:0,title:e.Value,name:"products"})),weekends:e.Weekends}},po.prototype.setAxisLabel=function(e){const t={};return a.a.each(this.$element.get(0).attributes,(function(e,i){let s=i.name,a=i.value;0===s.indexOf("data-y-axis-label-")&&(s=s.substring(s.lastIndexOf("-")+1),t[s]=a)})),t[e]},po.prototype.updateAxisFormat=function(e,t){const i=this,s=e.data("format");i.graph.chart.yAxis[0].update({title:{text:i.setAxisLabel(t)}}),"Date"===s?i.graph.chart.xAxis[0].update({type:"datetime",labels:{format:void 0}},!1):"DayNumber"===s&&i.graph.chart.xAxis[0].update({tickInterval:7,type:"linear",labels:{format:i.$element.attr("data-translation-day-label")}},!1)},po.prototype.updateAxisInterval=function(e){const t=e.data("interval");let i;"Daily"===t?i=864e5:"Weekly"===t?i=6048e5:"Monthly"===t?i=2592e6:"Yearly"===t&&(i=31536e6),this.graph.chart.xAxis[0].update({tickInterval:i},!1)},po.loadingData=function(){this.graph.setLoading(!0)},po.loadError=function(){const e=a()(".graph-no-data"),t=a()("[data-graph-error-message-template]").html().trim();0===e.length&&a()(".highcharts-container").append(t),this.graph.setLoading(!1)},a()("[data-my-house-graph]").each((e,t)=>new po(t));function uo(e){this.$element=a()(e),this.$dropdown=this.$element.find("[data-my-house-header-dropdown]"),this.urlPathBase=this.$dropdown.attr("data-my-house-base-url"),this.selectedOptionValue=this.getSelectedOptionValue(),this.bindEvents()}uo.prototype.bindEvents=function(){const e=this;e.$dropdown.on("change",(function(){e.onChange()}))},uo.prototype.onChange=function(){window.location.pathname=this.getPathToRedirect()},uo.prototype.getSelectedOptionValue=function(){return this.selectedOptionValue=this.$dropdown.val(),this.selectedOptionValue},uo.prototype.getPathToRedirect=function(){return this.urlPathBase+this.getSelectedOptionValue()+"/"},a()("[data-my-house-header]").each((e,t)=>new uo(t));function mo(e){const t=this;t.$element=a()(e),t.urlAttribute=t.$element.find("[data-url-string]"),t.urlValue=t.urlAttribute[0].getAttribute("data-url-string"),t.$link=a()("[data-dialog-handle]"),t.checkUrl()&&t.$link.trigger("click")}mo.prototype.checkUrl=function(){return window.location.href.indexOf(this.urlValue)>-1},a()("[data-my-house-options]").each((e,t)=>new mo(t));function go(e,t=co.instance){const i=this;i.$element=a()(e),i.loaded=!1,i.$cells=i.$element.find("[data-my-house-cell-data]"),i.$cellTotal=i.$element.find("#user-my-house-table-header-total"),i.thousandSeperator=i.$element.attr("data-thousand-separator"),t.registerDataChanged({onDataLoading:i.loadingTableData,onDataLoaded:i.populateTable,onDataLoadError:i.loadError,isLoaded:i.isLoaded,context:i}),a()(document).ready(()=>i.onReady())}go.prototype.onReady=function(){this.loaded=!0},go.prototype.isLoaded=function(){return this.loaded},go.prototype.populateTable=function(e,t){const i=e.TableData,s=this;s.$element.hasClass("no-data")&&s.$element.removeClass("no-data"),s.$cellTotal.html(a()(t).html()),i.hasOwnProperty&&s.$cells.each((function(e,t){let a=t.getAttribute("data-my-house-cell-data").split(".");"Conversion"==a[1]?t.innerHTML=i[a[0]][a[1]]+"%":t.innerHTML=r.format(i[a[0]][a[1]],s.thousandSeperator)}))},go.prototype.loadError=function(){this.$element.addClass("no-data")},go.prototype.loadingTableData=function(){},a()("[data-my-house-statistics]").each((e,t)=>new go(t));var fo=bo;const vo=new X;function bo(e){var t=this;function i(e,i){vo.notify(t.ratingId,{topic:e,value:i}),t.observers.notify(e,i)}t.$element=a()(e),t.ratingId=t.$element.attr("data-rating")||!1,t.$inputs=t.$element.find("input"),t.selectedValue=0,t.run=()=>{!function(){t.ratingId&&vo.listen(t.ratingId,t.messageHandler);t.$inputs.each((function(e,i){var s=a()(i),n=a()("label[for="+s.attr("id")+"]");n.data("index",e),n.on("mouseenter",()=>t.hoverInHandler(e)),n.on("mouseleave",()=>t.hoverOutHandler(e)),s.on("change",()=>t.clickHandler(e))}))}(),t.$inputs.each((e,i)=>{let s=a()(i);s.is(":checked")&&t.clickHandler(s.val())})},t.observers=new X,t.TOPICS={CHANGE:0,HOVER_IN:1,HOVER_OUT:2},t.onChange=function(e){t.observers.listen(t.TOPICS.CHANGE,e)},t.onHoverIn=function(e){t.observers.listen(t.TOPICS.HOVER_IN,e)},t.onHoverOut=function(e){t.observers.listen(t.TOPICS.HOVER_OUT,e)},t.clickHandler=(e,s)=>{const n=parseInt(e,10);a()(t.$inputs[t.selectedValue]).prop("checked",!1).removeAttr("checked"),a()(t.$inputs[n]).prop("checked",!0).attr("checked","checked"),t.$inputs.slice(0,n+1).addClass("is-rated"),t.$inputs.slice(n+1).removeClass("is-rated"),t.selectedValue=n,void 0!==s&&s||(!function(e){i(t.TOPICS.CHANGE,e)}(n),t.ratingId&&t.$element.trigger("selectrating",{score:n}))},t.hoverInHandler=(e,s)=>{const a=parseInt(e,10);var n;t.$inputs.slice(0,a+1).addClass("is-hovered"),t.hoverValue=a,void 0!==s&&s||(n=a,i(t.TOPICS.HOVER_IN,n))},t.hoverOutHandler=(e,s)=>{const a=parseInt(e,10);var n;t.$inputs.removeClass("is-hovered"),t.hoverValue=0,void 0!==s&&s||(n=a,i(t.TOPICS.HOVER_OUT,n))},t.messageHandler=e=>{const i=e.value;switch(e.topic){case t.TOPICS.CHANGE:t.clickHandler(i,!0);break;case t.TOPICS.HOVER_IN:t.hoverInHandler(i,!0);break;case t.TOPICS.HOVER_OUT:t.hoverOutHandler(i,!0)}},t.selectRating=t.clickHandler,t.run()}bo.getSelector=()=>"[data-rating]",bo.initialize=()=>ee.getAllInstances(bo),bo.initialize();var wo=$o;function $o(e){var t=this;t.element=e,t.$element=a()(e),t.$overallRating=t.$element.find("[data-overall-object-rating]"),t.$overallRatingInputs=t.$overallRating.find("input"),t.$resetHandle=t.$element.find("[data-object-rating-form-reset-handle]"),t.$ratings=t.$element.find("[data-rating]"),t.$inputs=t.$ratings.find("input"),t.$textarea=t.$element.find("[data-object-rating-textarea]"),t.$resetHandle.on("click",()=>t.resetRating())}$o.prototype.resetRating=function(){this.$inputs.removeClass("is-rated");var e=this.$element.attr("data-object-rating-form-reset-action");return a.a.ajax({method:"POST",url:e})},a()("[data-object-rating-form]").each((function(e,t){return new $o(t)}));function yo(e){this.$element=a()(e),this.$form=this.$element.find("form"),this.$cancel=this.$element.find("[data-form-with-notifications-cancel]"),this.$phone=this.$element.find("[data-form-with-notifications-phone]"),this.$postCode=this.$element.find("[data-form-with-notifications-postcode]"),this.$age=this.$element.find("[data-form-with-notifications-age]"),this.$successNotification=this.$element.find('[data-notification="successNotification"]'),this.$errorNotification=this.$element.find('[data-notification="errorNotification"]'),this.$readFields=this.$element.find("[data-read]"),this.lastValidData=this.getInitialFormValues(),this.bindEvents()}yo.prototype.bindEvents=function(){const e=this;e.$form.unbind("submit").bind("submit",t=>e.submitAsync(t)),e.$cancel.click(()=>e.cancel()),e.$phone.blur(t=>e.removeRedBorder(t)),e.$postCode.blur(t=>e.removeRedBorder(t)),e.$age.blur(t=>e.removeRedBorder(t)),e.$age.keydown(t=>e.onAgekeyDown(t))},yo.prototype.submitAsync=function(e){const t=this,i=t.$form.attr("action"),s=t.$form.serialize();void 0!==e&&"function"==typeof e.preventDefault&&e.preventDefault(),a.a.post(i,s).done(e=>t.submitSuccessHandler(e)).fail(e=>t.submitErrorHandler(e))},yo.prototype.onAgekeyDown=function(e){return 69!==e.keyCode},yo.prototype.submitErrorHandler=function(e){this.$errorNotification.trigger("show",e),this.$element.trigger("submit-error",e)},yo.prototype.AddFEErrorBorder=function(){const e=this,t=(new Date).getFullYear()-18;e.$phone.val().match(/(^(\+31|00[-\s]*31|0[-\s]*(?=[1-9]))[-\s]*([0-9][-\s]*){9}$|^(?!(\+31|00[-\s]*31|0[-\s]*(?=[1-9])))\+?([0-9][-\s_]*){10,14}$)/gm)||""===e.$phone.val()?e.$postCode.val().match(/^[1-9][0-9]{3}\s?(?!sa|sd|ss|SA|SD|SS)[A-Za-z]{2}$/)||""===e.$postCode.val()?e.$age.val()>"1900"&&!e.$age.val()<t&&e.$age.addClass("edit-input-error"):e.$postCode.addClass("edit-input-error"):e.$phone.addClass("edit-input-error")},yo.prototype.submitSuccessHandler=function(e){const t=this;if(void 0!==e&&!0===e.success)t.lastValidData=e.data,t.restoreEditValues(),t.updateReadContent(e.data),t.$successNotification.trigger("show",e.NotificationMessage),t.$errorNotification.trigger("hide"),t.$element.trigger("submit-success",e.data);else{const i="object"==typeof e?e.NotificationMessage:e;t.$successNotification.trigger("hide"),t.AddFEErrorBorder(),t.$errorNotification.trigger("show",i),t.$element.trigger("submit-error",i)}},yo.prototype.updateReadContent=function(e){this.$readFields.each((t,i)=>{const s=i.getAttribute("data-read");void 0!==e&&Object.prototype.hasOwnProperty.call(e,s)&&(i.innerHTML=e[s])})},yo.prototype.cancel=function(){this.restoreEditValues(),this.$successNotification.trigger("hide"),this.$errorNotification.trigger("hide")},yo.prototype.removeRedBorder=function(e){e.target.classList.remove("edit-input-error")},yo.prototype.getInitialFormValues=function(){const e=this.$form.serialize();return JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')},yo.prototype.restoreEditValues=function(){const e=this;for(let t in e.lastValidData)if(Object.prototype.hasOwnProperty.call(e.lastValidData,t)){const i=e.lastValidData[t],s=e.$form.find("[name="+t+"]");s.length>0&&("radio"===s.attr("type")?s.filter('[value="'+i+'"]').prop("checked",!0):s.val(i))}},a()("[data-form-with-notifications]").each((e,t)=>new yo(t));function ko(e){this.$element=a()(e),this.editContainer=this.$element.find("[data-form-hidden-edit-container]"),this.readContainer=this.$element.find("[data-form-hidden-read-container]"),this.editTrigger=this.$element.find("[data-form-hidden-edit-trigger]"),this.readTrigger=this.$element.find("[data-form-hidden-read-trigger]"),this.disableFallbackLinks(),this.bindEvents()}ko.prototype.disableFallbackLinks=function(){this.readTrigger.removeAttr("href"),this.editTrigger.removeAttr("href")},ko.prototype.bindEvents=function(){const e=this;e.editTrigger.click(()=>e.toggle()),e.readTrigger.click(()=>e.toggle()),e.$element.on("submit-success",()=>e.toggle())},ko.prototype.toggle=function(){this.editTrigger.toggle(),this.readContainer.toggle(),this.editContainer.toggle()},a()("[data-form-hidden]").each((e,t)=>new ko(t,e));function Co(e){this.$element=a()(e),this.message=this.$element.data("form-alert-on-leave"),this.isDirty=!1,this.bindEvents()}Co.prototype.bindEvents=function(){const e=this;e.$element.find("input,textarea,select").on("change",()=>e.setDirty(!0)),e.$element.on("submit",()=>e.setDirty(!1)),a()(window).on("beforeunload",()=>e.pageLeaveHandler())},Co.prototype.setDirty=function(e){this.isDirty=e},Co.prototype.pageLeaveHandler=function(){const e=this;if(e.isDirty)return confirm(e.message)},a()("[data-form-alert-on-leave]").each((e,t)=>new Co(t));const So={dag:"daily",week:"weekly",maand:"monthly",geen:"disable"};class To{constructor(e){this.$element=a()(e),this.gtmEventLogger=c.b,this.$emailFrequency=a()(e).find("[data-user-email-frequency]")[0],this.$settingSubmit=a()(e).find("[data-user-email-setting-submit]"),this.bindEvents()}bindEvents(){this.$settingSubmit.on("click",()=>{const e=So[this.$emailFrequency.value.toLowerCase()];this.logSetting(e)})}logSetting(e){this.gtmEventLogger.log({eventCategory:"interactions-mijnprofiel",eventAction:"save-NAF-notifications-frequency",eventLabel:e})}}a()("[data-email-settings-form]").each((e,t)=>new To(t));function Eo(e){const t=this;t.$element=a()(e),t.$errorMessage=a()("[data-user-report-form-error-message]"),t.$inputs=t.$element.find("[data-user-report-form-input]"),t.$form=t.$element.find("[data-user-report-form-form]"),t.$textArea=t.$element.find("[data-user-report-form-input-message]"),t.$checkboxes=[].slice.call(document.querySelectorAll('[type="checkbox"]')),t.checkboxOther=t.$element.attr("data-user-report-form-other"),t.$inputs.on("change",()=>t.onChangeHandler()),t.$textArea.on("keypress",()=>t.onChangeHandler()),t.$form.on("submit",e=>t.onSubmitHandler(e))}Eo.prototype.onChangeHandler=function(){this.$errorMessage.addClass("is-hidden"),this.$textArea.removeClass("input-validation-error"),this.setFormState()},Eo.prototype.onSubmitHandler=function(e){this.validateForm()||e.preventDefault()},Eo.prototype.setFormState=function(){this.getFormState().ReportOther?this.$textArea.removeClass("is-hidden"):this.$textArea.addClass("is-hidden")},Eo.prototype.getFormState=function(){return this.serializeCheckboxes(this.$checkboxes)},Eo.prototype.validateForm=function(){const e=this,t=e.getFormState(),i=e.$checkboxes,s=e.$textArea.val();return i.some(e=>e.checked)?t.ReportOther&&0===s.length?(e.$errorMessage.removeClass("is-hidden"),e.$textArea.addClass("input-validation-error"),!1):(e.$errorMessage.addClass("is-hidden"),!0):(e.$errorMessage.removeClass("is-hidden"),!1)},Eo.prototype.serializeCheckboxes=function(e){return e.reduce((e,t)=>(e[t.name]=t.checked,e),{})},a()("[data-user-report-form]").each((e,t)=>new Eo(t));var Oo=Io;function Io(e){this.$element=a()(e),this.$textContainer=this.$element.find("[data-text-container]"),this.textLong=this.$textContainer.html(),this.charsToCollapse=this.$element.data("collapse-text")||500,this.textLong.length<this.charsToCollapse||(this.$expandTrigger=this.$element.find("[data-text-expand]"),this.$collapseTrigger=this.$element.find("[data-text-collapse]"),this.textShort=this.textLong.substr(0,this.charsToCollapse)+"…",this.collapse(),this.bindEvents())}Io.prototype.bindEvents=function(){const e=this;e.$expandTrigger.on("click",()=>e.expand()),e.$collapseTrigger.on("click",()=>e.collapse())},Io.prototype.expand=function(){this.$textContainer.html(this.textLong),this.$textContainer.removeClass("is-collapsed"),this.$expandTrigger.addClass("is-hidden"),this.$collapseTrigger.removeClass("is-hidden")},Io.prototype.collapse=function(){this.$textContainer.html(this.textShort),this.$textContainer.addClass("is-collapsed"),this.$expandTrigger.removeClass("is-hidden"),this.$collapseTrigger.addClass("is-hidden")},Io.initialize=function(){a()("[data-collapse-text]").each((e,t)=>new Io(t))},Io.initialize();var xo=i(411),Lo=i.n(xo);function Po(e,t=ne.a,i=Oo){const s=this,n=a()(e);s.form=e,s.$form=n,s.asyncResult={},s.$currentPage=s.$form.find("[data-pagination-input-next]"),s.formData={},s.outputMap={},s.$outputs=Po.getOutputs(s.$form),s.spinner=new Ke("[data-user-reviews-spinner]"),s.ajax=t,s.collapseComponent=i,s.$outputs.each((function(e,t){const i=t.getAttribute("data-instant-search-output"),n=s.outputMap[i]||a()();s.outputMap[i]=n.add(t)})),a()(document).on("isUpdatingReviews",()=>{s.$outputs.addClass("is-updating"),s.spinner.isVisible()||s.spinner.show()}),a()(document).on("resultsUpdated resultsError",()=>{s.$outputs.removeClass("is-updating"),s.spinner.hide()}),s.bindToEvents(),s.formData=s.$form.serializeArray(),"replaceState"in window.history&&window.history.replaceState("pust_state_set_by_funda",window.title)}Po.prototype.bindToEvents=function(){const e=this;window.addEventListener("popstate",(function(e){"pust_state_set_by_funda"===e.state&&window.location.reload()}),!1),e.$form.on("pageadjusted","[data-pagination]",p()((function(){e.doRequest()}),250,{leading:!0}))},Po.prototype.doRequest=function(){const e=this;a()(document).trigger("isUpdatingReviews"),e.request&&e.request.abort(),e.request=e.ajax({url:e.$form.attr("action"),method:(e.$form.attr("method")||"POST").toUpperCase(),data:e.$form.serialize(),success:t=>e.successHandler(t),error:t=>e.errorHandler(t)})},Po.prototype.successHandler=function(e){e.formData=Lo()(this.$form.serializeArray()),this.update(e),this.formData=this.$form.serializeArray()},Po.prototype.errorHandler=function(e){const t=this;"abort"!==e.statusText&&t.triggerResultsError()},Po.prototype.triggerResultsError=function(){a()(document).trigger("resultsError")},Po.prototype.update=function(e){this.updateHistory(e.url),this.updateOutputs(e.content)},Po.prototype.updateHistory=function(e){"pushState"in window.history&&window.history.pushState("pust_state_set_by_funda",window.title,e)},Po.getOutputs=function(e){return e.find("[data-instant-search-output]")},Po.prototype.updateOutputs=function(e){const t=this;for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.outputMap[i]&&null!==e[i]&&t.outputMap[i].html(e[i]);Object.keys(e).length&&a()(document).trigger("resultsUpdated"),te.initialize(),t.collapseComponent.initialize()},a()("[data-user-review-paging]").each((e,t)=>new Po(t));function Ao(e){this.$element=a()(e),this.$syncElmenents=this.$element.find("[data-height-sync-id]"),this.bindEvents(),this.heightChangeHandler()}Ao.prototype.bindEvents=function(){const e=this;a()(window).on("resize",()=>e.heightChangeHandler())},Ao.prototype.heightChangeHandler=function(){const e=this.getHighestHeightPerIdDictionary();this.updateHeightsById(e)},Ao.prototype.getHighestHeightPerIdDictionary=function(){const e={};return this.$syncElmenents.each((t,i)=>{const s=a()(i),n=s.data("height-sync-id");s.height("");const o=s.height();(void 0===e[n]||e[n]<o)&&(e[n]=o)}),e},Ao.prototype.updateHeightsById=function(e){this.$syncElmenents.each((t,i)=>{const s=a()(i),n=s.data("height-sync-id");s.height(e[n])})},a()("[data-height-sync]").each((e,t)=>new Ao(t));function jo(e){this.$element=a()(e),this.$textarea=this.$element.find("[data-form-input]"),this.$countDown=this.$element.find("[data-countdown]"),this.$icon=this.$element.find("[data-icon]"),this.minChars=this.$textarea.attr("minlength"),this.zeroInputText=this.$textarea.attr("data-zero-input-text"),this.moreInputPreText=this.$textarea.attr("data-more-input-pre-text"),this.moreInputPostText=this.$textarea.attr("data-more-input-post-text"),this.bindEvents(),this.updateCountDown()}jo.prototype.bindEvents=function(){const e=this;e.$textarea.bind("input propertychange",()=>e.updateCountDown())},jo.prototype.updateCountDown=function(){const e=this,t=e.$textarea.val().length;if(t>=e.minChars)e.$icon.removeClass("is-hidden"),e.$countDown.addClass("is-correct"),e.$countDown.html("");else{const i=t>0?`${e.moreInputPreText}${e.minChars-t}${e.moreInputPostText}`:e.zeroInputText;e.$icon.addClass("is-hidden"),e.$countDown.removeClass("is-correct"),e.$countDown.html(i)}},a()("[data-form-textarea-countdown]").each((e,t)=>new jo(t));var Mo=Do;function Do(e){return a.a.extend(this,e)}Do.prototype.getIndexBy=function(e){const t=this;for(let i=0;i<t.length;i++)if(e(t[i]))return i;return-1},Do.prototype.getNextIndexCircular=function(e){return e<0?-1:(e+1)%this.length};function _o(e){this.$element=a()(e),this.$$containers=new Mo(this.$element.find("[data-toggle-visibility-container]")),this.iActiveContainer=this.$$containers.getIndexBy(e=>!a()(e).hasClass("is-hidden")),this.$triggers=this.$element.find("[data-toggle-visibility-trigger]"),this.$select=this.$element.find("[data-toggle-visibility-trigger-select]"),this.bindEvents()}_o.prototype.bindEvents=function(){const e=this;e.$triggers.on("click",t=>{const i=a()(t.target).data("toggle-visibility-trigger");e.toggle(i)}),e.$select.change(t=>{e.toggle(t.target.value)})},_o.prototype.toggle=function(e){const t=e?this.$$containers.getIndexBy(t=>a()(t).data("toggle-visibility-container")===e):this.$$containers.getNextIndexCircular(this.iActiveContainer);this.showByIndex(t),this.$element.trigger("toggle-changed",e),a()(document).trigger("toggle-changed")},_o.prototype.showByIndex=function(e){const t=this;e>=0&&e<t.$$containers.length&&(t.$$containers.addClass("is-hidden"),a()(t.$$containers[e]).removeClass("is-hidden"),t.iActiveContainer=e)},a()("[data-toggle-visibility]").each((e,t)=>new _o(t));var Ro=Ho;const Fo="data-async-object-rating-handle-text";var Vo={};function Ho(e){var t=this;t.$element=a()(e),t.$handle=t.$element.find("[data-async-object-rating-handle]"),t.$closeHandle=t.$element.find("[data-expandible-handle-scroll]"),t.$overallRating=t.$element.find("[data-overall-object-rating-form]"),t.$overallRatingInput=t.$overallRating.find("input"),t.doPageRefresh=!1,t.isExpanded=t.$element.hasClass("is-expanded"),Vo[t.$element.attr("data-async-object-rating")]=t,t.scrollPosition=0,t.dialogElement=document.querySelector('[data-dialog="user-form"]'),t.expandible=new te(t.$element[0]),t.objectRatingForm=new wo(t.$element.find("[data-rating]")[0]),t.$handle.on("click",(function(e){e.preventDefault();var i=t.$element.find("[data-object-rating-form]").length;t.isExpanded=t.$element.hasClass("is-expanded"),t.isExpanded||i||t.isUserLoggedIn((function(){t.getForm(t.$handle)})),t.$element[0].hasAttribute("data-expandible-scroll")&&(t.scrollPosition=a()(window).scrollTop())})),t.$element.on("click","[data-object-rating-submit-button]",(function(e){var i=t.$overallRating.find("input:checked").val();e.preventDefault(),t.toggleRatedState(),t.scrollPosition>0&&"0"!==i&&t.scrollToObjectPosition()})),t.$element.on("click","[data-object-rating-form-reset-handle]",(function(e){e.preventDefault(),t.resetObjectRating(),t.scrollPosition>0&&t.scrollToObjectPosition()})),t.$closeHandle.on("click",(function(e){e.preventDefault(),t.scrollPosition>0&&t.scrollToObjectPosition()})),t.$overallRatingInput.on("change",(function(){t.submitOverallRating()})),a()(window).on("objectsaved",(function(e,i){var s=t.$element.find("[data-object-rating-form]").length,a=t.$element.find("[data-async-object-rating-handle-text]");t.$element.toggleClass("is-hidden"),s&&(!0===i?t.getForm(t.$handle):(t.$element.find("[data-object-rating-textarea]").val("").html(""),t.expandible.toggleExpand(!1),a.text(a.attr(Fo)),t.resetRatingStyling()))}))}Ho.prototype.isUserLoggedIn=function(e){var t=this,i=t.dialogElement.dialog.isUserLoggedInUrl;return t.expandible=new te(t.$element[0]),a.a.ajax({url:i,success:function(i){!0===i.LoggedIn?e():(t.userLoginStatus=new zt(i.LoginUrl,(function(){window.location.reload()})),t.expandible.toggleExpand(!1))},error:function(e){d.a.log(e,{function:"isUserLoggedIn",url:i})}})},Ho.prototype.getForm=function(e){var t=this,i=e.attr("href");return t.$element.removeClass("is-loaded"),a.a.ajax({url:i,success:function(e){if(Ho.isSuccesfulResponse(e)){var i=t.$element.find("[data-async-object-rating-content]");i.html(""),i.append(e.Html),t.createInstances()}},error:function(e){d.a.log(e,{function:"getForm",url:i})},complete:function(){t.$element.addClass("is-loaded")}})},Ho.isSuccesfulResponse=function(e){return"OK"===e.Result},Ho.prototype.createInstances=function(){this.objectRatingForm=new wo("[data-object-rating-form]"),this.$element.find("[data-rating]").each((function(e,t){return new fo(t)})),this.expandible=new te(this.$element[0])},Ho.prototype.updateHandleText=function(){var e=this.$element.find("[data-object-rating-textarea]").val(),t=this.$element.find("[data-async-object-rating-handle-text]");e?t.text(e.substring(0,150)):t.text(t.attr(Fo))},Ho.prototype.toggleRatedState=function(){var e=this;e.$form=e.$element.find("[data-object-rating-form]");var t=e.$form.attr("action"),i=e.$form.find(":input").serialize();return e.$element.addClass("is-doing-request"),a.a.ajax({method:"POST",url:t,data:i,success:function(t){if(Ho.isSuccesfulResponse(t))e.updateHandleText(),e.$handle.addClass("is-rated"),e.$element.addClass("is-rated"),e.expandible.toggleExpand(!e.expandible.isExpanded),e.getForm(e.$handle);else if("ERROR"===t.Result){var i=e.$element.find("[data-async-object-rating-content]");i.html(""),i.append(t.Html),e.createInstances()}},error:function(e){d.a.log(e,{function:"toggleRatedState",url:t}),window.location.href=t},complete:function(){!0===e.doPageRefresh&&window.location.reload(),e.$element.removeClass("is-doing-request")}})},Ho.prototype.submitOverallRating=function(){var e=this.$overallRating.attr("action"),t=this.$overallRating.serialize();return a.a.ajax({method:"POST",url:e,data:t,error:function(e){d.a.log(e,{function:"submitOverallRating"})}})},Ho.prototype.resetObjectRating=function(){this.$element.find("[data-default-rating-input]").each((function(e,t){a()(t).prop("checked",!0)})),this.resetRatingStyling(),this.$element.find("[data-object-rating-textarea]").val(""),this.updateHandleText(),a()("[data-overall-object-rating-error-message]").removeClass("is-visible"),this.$element.find("[data-async-object-rating-content]").html(""),this.expandible.toggleExpand(!this.expandible.isExpanded)},Ho.prototype.resetRatingStyling=function(){this.$overallRatingInput.removeClass("is-rated"),this.$handle.removeClass("is-rated"),this.$element.removeClass("is-rated"),this.objectRatingForm.$inputs.removeClass("is-rated")},Ho.getInstances=function(){return Vo},Ho.prototype.scrollToObjectPosition=function(){a()(window).scrollTop(this.scrollPosition)},Ho.initialize=function(){a()("[data-async-object-rating]").each((function(e,t){return new Ho(t)}))},Ho.initialize();class zo extends Ti{constructor(e){super(e),this.name="SAVED_OBJ",this.bindEvents(),this.getOutputs(a()(e).parent())}updateResults(e){new $i(null,this,e),this.soldFilterOption.attr("href",e.historischAanbodUrl),this.updateHistory(e.url),Ro.initialize(),te.initialize(),fo.initialize()}bindEvents(){const e=this;e.$form.parent().on("pageadjusted","[data-pagination]",(function(){const t=a()(this).find("input[data-pagination-input]").val();e.$form.find("input[data-pagination-input]").val(t),e.isRestoring||e.doRequest()}))}}a()("[data-user-saved-objects-sorting]").each((e,t)=>new zo(t));function Bo(e){var t=this,i=a()(e);t.$element=i,t.button=i.find("button"),t.hasWriteAccess=i.hasClass("has-write-access"),t.$element.on("click","button",(function(){var e=a()(this).parents(".notify").hasClass("request-write");t.grantUsersWishes(e)}));var s=a()("[data-using-new-auth]").length>0;t.hasWriteAccess&&!s&&(confirm("Wil je de schrijfrechten behouden voor dit account?\n\nActies en veranderingen aan dit account worden wel opgeslagen.")||t.doRequest("/mijn/fundamanagerlogin/declinewrite/",(function(){t.switchWriteAccess(!1)})))}Bo.prototype.grantUsersWishes=function(e){var t=this;e?t.doRequest("/mijn/fundamanagerlogin/requestwrite/",(function(){t.switchWriteAccess(!0)}),t.getLapText(!0)):t.doRequest("/mijn/fundamanagerlogin/declinewrite/",(function(){t.switchWriteAccess(!1)}),t.getLapText(!1))},Bo.prototype.switchWriteAccess=function(e){this.hasWriteAccess=e,e?this.$element.removeClass("has-readonly-access").addClass("has-write-access"):this.$element.removeClass("has-write-access").addClass("has-readonly-access")},Bo.prototype.doRequest=function(e,t,i){if(null!=i&&!confirm(i))return!1;a.a.post(e,(function(){void 0!==t&&t()}))},Bo.prototype.getLapText=function(e){var t="";return e?(t="Weet je zeker dat je de schrijfrechten wilt inschakelen voor dit account?\n\nLet op! ",t+="Acties en veranderingen (zoals bekeken woningen) worden echt opgeslagen en zijn dus zichtbaar voor de mijn funda gebruiker! ",t+="Deze functionaliteit is alleen toegestaan in opdracht van de eigenaar van het “Mijn funda” account. ",t+="In het geval een verzoek tot wijziging niet afkomstig is van de eigenaar zelf (maar bijv. van de makelaar) ",t+="dan altijd checken of hij/zij hiervoor toestemming heeft van de eigenaar.\n\nBij twijfel altijd eerst overleggen met je manager!"):t="Wil je de schrijfrechten uitschakelen voor dit account?\n\nActies en veranderingen worden dan niet meer opgeslagen.",t},a()("[data-user-my-logged-in-as]").each((function(e,t){return new Bo(t)}));i(369);class Uo extends Ti{constructor(e){super(e);const t=this;t.$form=a()(e),t.$map=a()("[data-map]"),t.overrideEvents(),a()(window).on("sidebar-refresh",(function(){const e=a()("[data-instant-map-search]");1===e.length&&(t.bindToElements(e),t.bindToEvents())}))}overrideEvents(){window.removeEventListener("popstate",this.onpopstate,!1)}updateResults(e){const t=this,i=window.location.search,s=new URLSearchParams(i),a=e.url.includes("zoek")?"&":"?";e.geo&&t.updateCenterMap(e.geo),s.delete("zoek"),e.url=e.url+a+s,t.updateHistory(e.url),t.updateMapTiles(e.zo),t.$form.find("[data-search-sidebar]").hasClass("is-extended")?t.asyncResult=e:new $i(null,t,e)}updateCenterMap(e){this.$map.trigger("center_map_on",e)}updateMapTiles(e){this.$map.trigger("zo_updated",{zo:e})}}a()("[data-instant-map-search]").each((e,t)=>new Uo(t));var No=i(412),qo=i.n(No);function Wo(){this._map=null,this._handlerId=0,this._proxiedHandlers={click:{},dblclick:{},center_changed:{},zoom_changed:{},idle:{},dragstart:{}},this._eventForwarding=!0,this._enableProxyAfterIdle=!1}Wo.prototype.setMapInstance=function(e){null==e&&d.a.log("Invalid map instance",{function:"setMapInstance"});const t=this,i=window.google;t._map=e;for(let e in t._proxiedHandlers)i.maps.event.addListener(t._map,e,i=>{t._proxyEvent(e,i)})},Wo.prototype.addListener=function(e,t){if(this._checkAddListenerParameters(e,t))return this._actuallyAddListener(e,t)},Wo.prototype.addListenerOnce=function(e,t){if(this._checkAddListenerParameters(e,t))return this._actuallyAddListener(e,t,!0)},Wo.prototype._checkAddListenerParameters=function(e,t){return e in this._proxiedHandlers?!!et()(t)||(d.a.log("handler is not a function",{handler:t,function:"_checkAddListenerParameters"}),!1):(d.a.log("Cannot attach to event:",{event:e,function:"_checkAddListenerParameters"}),!1)},Wo.prototype._actuallyAddListener=function(e,t,i=!1){return this._proxiedHandlers[e][++this._handlerId]={function:t,runOnce:i},this._handlerId},Wo.prototype.forwardProxiedEvents=function(e=!0){e?this._enableProxyAfterIdle=!0:this._eventForwarding=e},Wo.prototype.removeListener=function(e){if(!this._isHandlerRegistered(e))return;let t=this._getHandlerEventName(e);null!==t&&delete this._proxiedHandlers[t][e]},Wo.prototype._isHandlerRegistered=function(e){let t=[];for(let e in this._proxiedHandlers)t=qo()(t,Object.keys(this._proxiedHandlers[e]));return t.indexOf(e)>=0},Wo.prototype._getHandlerEventName=function(e){for(let t in this._proxiedHandlers)if(e in this._proxiedHandlers[t])return t;return null},Wo.prototype._proxyEvent=function(e,t){const i=this;if(this._eventForwarding){if(0!=Object.keys(i._proxiedHandlers[e]).length)for(var s in i._proxiedHandlers[e]){let a=i._proxiedHandlers[e][s];a.function(t),a.runOnce&&delete i._proxiedHandlers[e][s]}}else this._enableProxyAfterIdle&&"idle"==e&&(this._eventForwarding=!0,this._enableProxyAfterIdle=!1)};var Go=new Wo,Ko=i(413),Zo=i.n(Ko),Yo=Jo;function Jo(){Jo.lastMapEvent={center:null,zoom:null},Jo.eventHandle=null}Jo.updateHash=function(e,t){let i=hi()(e,(function(e,i,s){return o()(i,t[s])?e:e.concat(s)}),[]);0!=i.length&&(i.indexOf("id")>=0&&Jo.setNewHash(t),(i.indexOf("center")>=0||i.indexOf("zoom")>=0)&&(Jo.registerMapEvent(t),null==Jo.eventHandle&&(Jo.eventHandle=window.setTimeout((function(){Jo.setNewHash(Jo.lastMapEvent),Jo.eventHandle=null}),750))))},Jo.setNewHash=function(e){const t=Jo.createHash(e);if(""!==t){const e=window.location.pathname;window.history.pushState("push_state_set_by_funda",window.title,e+t)}},Jo.registerMapEvent=function(e){Jo.lastMapEvent={center:e.center,zoom:e.zoom}},Jo.getHash=function(){let e=window.location.search||null,t=[];if(null!==e){e=e.replace("?","");let i=e.split("&");for(let e in i){let s=i[e].split("="),a={key:s[0],value:s[1]};t.push(a)}}return t},Jo.getValueFromHash=function(e){let t=Jo.getHash().find(t=>t.key===e&&void 0!==t.value);return void 0!==t?t.value:null},Jo.getCurrentSearchFromUrl=function(){return window.location.pathname.replace("/kaart","")},Jo.createHash=function(e){let t=Jo.getHash();if(Object.keys(e).indexOf("center")>=0){let i=Zo()([],t);return Jo.createHashItem(i,"zoom",e.zoom),Jo.createHashItem(i,"id",e.id),Jo.createHashItem(i,"center",e.center.lat()+","+e.center.lng()),Jo.objectToQueryString(i)}let i=Zo()({},t,e);return Jo.objectToQueryString(i)},Jo.createHashItem=function(e,t,i){let s=e.find(e=>e.key===t);s?s.value=i:e.push({key:t,value:i})},Jo.objectToQueryString=function(e){let t="";return a.a.each(e,(function(e,i){if(void 0!==i.value&&null!==i.value){t+=(""===t?"?":"&")+i.key+"="+i.value}})),t};var Qo=new class{constructor(){this._localStorageService=new Pe.a,this._hasLocalStorage=this._localStorageService.isSupported()}storeViewedId(e){const t=this;if(!t._hasLocalStorage)return;let i=t.getViewed();e in i||(Object.keys(i).length>=1e3&&t.deleteOldestViewedItem(),i[e]={ts:parseInt((new Date).getTime()/1e3,10)},t.setViewed(i))}isViewed(e,t=!1){if(!this._hasLocalStorage||t)return!1;let i=e,s=e.indexOf("-")<0,a=this.getViewed();if(0==a.length)return!1;if(!s){let e=i.split("-");for(let t=0;t<e.length;t++)if(!(e[t]in a))return!1;return!0}return i in a}getViewed(){return this._localStorageService.getAsParsedJson("viewedIds")||{}}setViewed(e){this._localStorageService.saveAsStringified("viewedIds",e)}deleteOldestViewedItem(){let e=this.getViewed(),t=0,i=null;for(let s in e)e[s].ts>t&&(t=e[s],i=s);null!=i&&e[i]&&delete e[i],this.setViewed(e)}};const Xo=a()(window);var er=tr;function tr(e,t,i){this.tileServers=e,this.tilePath=t,this.zoom=i}function ir(){this._storedTiles={},this._storedMarkers={},this._historyCache={}}tr.prototype.createUrl=function(e,t,i,s){const n={zoom:{find:"{zoom}",replace:e},coordX:{find:"{coordx}",replace:t.x},coordY:{find:"{coordy}",replace:t.y},query:{find:"{searchQuery}",replace:encodeURIComponent(i)},cluster:{find:"{cluster}",replace:s},screen:{find:"{screen}",replace:a()(document).width()<760?"m":"d"}};let o,r=this.tilePath;for(let e in n)void 0!==n[e]&&(o=new RegExp("("+n[e].find+")","gm"),r=r.replace(o,n[e].replace));return this.getTileServer(t)+r},tr.prototype.getTileServer=function(e){const t=this.tileServers,i=new RegExp("([/])$","g");if(0===t.length)return".";{let s=t[(e.x+e.y)%t.length];return"https:"===window.location.protocol&&(s=s.replace("http://","https://")),s.replace(i,"")}},tr.prototype.isValidTile=function(e){return e>=this.zoom.min&&e<=this.zoom.max},ir.prototype.storeMarker=function(e,t,i){const s=t.points;if(this._storedTiles[e]=t,void 0!==s)for(let e=0,t=s.length;e<t;e++){let t=s[e];this._storedMarkers[t.id]={lat:t.lat,lng:t.lng,zoom:i}}},ir.prototype.getNearestMarker=function(e,t){const i=window.google;let s,a=7199254740666;for(let n in this._storedMarkers){let o=this._storedMarkers[n];if(o&&o.zoom==t){let t=new i.maps.LatLng(o.lat,o.lng),r=i.maps.geometry.spherical.computeDistanceBetween(e,t);r<a&&(a=r,s=n)}}for(let n in this._historyCache){let o=this._storedMarkers[n];if(o&&o.zoom==t){let t=new i.maps.LatLng(o.lat,o.lng),r=i.maps.geometry.spherical.computeDistanceBetween(e,t);r<a&&(a=r,s=n)}}return s},ir.prototype.getMarkerById=function(e){return this._historyCache[e]||this._storedMarkers[e]},ir.prototype.getMarkerIdByPartial=function(e){let t=en()(Object.keys(this._storedMarkers),(function(t){return t.indexOf(e)>=0}));return void 0===t&&(t=en()(Object.keys(this._historyCache),(function(t){return t.indexOf(e)>=0}))),t},ir.prototype.getMarkerByPartial=function(e){let t=this.getMarkerIdByPartial(e);if(void 0!==t)return this._historyCache[t]||this._storedMarkers[t]},ir.prototype.getStoredTiles=function(e){return Object.keys(this._storedTiles).length>0&&void 0!==this._storedTiles[e]?this._storedTiles[e]:{}},ir.prototype.rememberSelectObjects=function(e){let t=en()(Object.keys(this._storedMarkers),(function(t){return t==e}));t&&(this._historyCache[e]=this._storedMarkers[t])},ir.prototype.clear=function(){this._storedMarkers=[],this._storedTiles={}};var sr=new ir,ar=nr;function nr(e,t){const i=this;i.map=e.map,i.$map=a()("[data-map]"),i.tileSize=e.tileSize,i.cluster=e.cluster,i.marker=t,i.searchQuery=-1!=window.location.pathname.indexOf("/kaart")?window.location.pathname.replace("/kaart",""):"koop/heel-nederland",i.mapEventProxy=Go,i.mapTileCache=sr;const s=e.config;i.tileServer=new er(s.tileServers,s.tilePath,{min:8,max:19}),i.singleClicked=null,i.clickedMarker=null,null!==i.map&&null!==i.marker&&i.bindEvents()}nr.prototype.minZoom=8,nr.prototype.maxZoom=19,nr.prototype.name="Tile #s",nr.prototype.alt="Tile Coordinate Map Type",nr.prototype.getTile=function(e,t,i){const s=this,a="tile-"+t+"-"+e.x+"-"+e.y;let n=i.createElement("div");return n.setAttribute("id",a),n.setAttribute("class","map-tile"),s.tileServer.isValidTile(t)&&s.loadMarker(t,e,a,n),n},nr.prototype.refreshTiles=function(e){this.searchQuery=e,this.mapTileCache.clear(),this.$map.trigger("force_maptile_refresh",{isFinished:!1});const t=this.map.getZoom();this.map.setZoom(t+1),this.map.setZoom(t),this.$map.trigger("force_maptile_refresh",{isFinished:!0})},nr.prototype.bindEvents=function(){const e=this;e.mapEventProxy.addListener("click",t=>e.mapClickHandler(t)),e.mapEventProxy.addListener("dblclick",()=>e.clearMapClick()),e.mapEventProxy.addListener("center_changed",()=>e.hideObjectInfo("center_changed")),e.mapEventProxy.addListener("zoom_changed",()=>{e.mapTileCache.clear(),e.hideObjectInfo("zoom_changed")}),e.$map.on("zo_updated",(t,i)=>e.refreshTiles(i.zo))},nr.prototype.loadMarker=function(e,t,i,s){const a=this,n=a.mapTileCache.getStoredTiles(i);if(Object.keys(n).length>0)return a.setMarker(n,s);{const n=new URLSearchParams(window.location.search).getAll("zoek");a.doRequest(e,t,i,s,n)}},nr.prototype.doRequest=function(e,t,i,s,n){const o=this;let r=o.searchQuery;!o.searchQuery.includes("zoek")&&null!==n&&n.length&&(r+="?"+a.a.map(n,(function(e){return"zoek="+encodeURIComponent(e)})).join("&"));const l=o.tileServer.createUrl(e,t,r,o.cluster);let d=o.map.getZoom();o.request=Object(ne.a)({url:l,method:"GET",dataType:"json",cache:!0,timeout:3e4}),o.request.done(e=>{if(null!=e)return o.mapTileCache.storeMarker(i,e,d),o.setMarker(e,s)})},nr.prototype.setMarker=function(e,t){const i=this,s=e.points;if(void 0!==s&&s.length>0)for(let e=0,a=s.length;e<a;e++){let a=s[e];void 0!==t&&void 0!==a&&t.appendChild(i.marker.getElement(a))}return t},nr.prototype.clearMapClick=function(){this.singleClicked=!1},nr.prototype.mapClickHandler=function(e){const t=this;t.singleClicked=!0,setTimeout(()=>{t.singleClicked&&t.clickedOnMap(e)},200)},nr.prototype.clickedOnMap=function(e){const t=this;let i=t.fixEventOffset(e.latLng),s=t.map.getZoom(),a=sr.getNearestMarker(i,s);if(!a)return void t.hideObjectInfo("no_object");let n=sr.getMarkerById(a);t.isPixelDistanceClose(i,n)?t.showObjectInfo(a):t.hideObjectInfo("no_object"),t.$map.trigger("close_view_type_box")},nr.prototype.showObjectInfo=function(e){this.mapTileCache.rememberSelectObjects(e),this.$map.trigger("show_object_info",{objectId:e,initial:!1})},nr.prototype.hideObjectInfo=function(e){this.$map.trigger("hide_object_info",{type:e})},nr.prototype.fixEventOffset=function(e){const t=Math.pow(2,this.map.getZoom());let i=this.map.getProjection().fromLatLngToPoint(e);return i.y+=this.marker.pixelDistance/t,this.map.getProjection().fromPointToLatLng(i)},nr.prototype.isPixelDistanceClose=function(e,t){const i=window.google,s=Math.pow(2,this.map.getZoom()),a=this.map.getProjection(),n=a.fromLatLngToPoint(new i.maps.LatLng(t.lat,t.lng)),o=a.fromLatLngToPoint(e),r=new i.maps.Point(n.x*s,n.y*s),l=new i.maps.Point(o.x*s,o.y*s),d=Math.abs(r.x-l.x),c=Math.abs(r.y-l.y);return d<=this.marker.pixelDistance&&c<=this.marker.pixelDistance};var or=dr;const rr=14,lr=13;function dr(e,t,i){const s=a()(window);this.$map=e,this.config=t,this.savedObjects=i,this.selectedMarker=Yo.getValueFromHash("id")||null,this.pixelDistance=s.width()>=760?lr:rr,this.isInitialized=!1,this.mapTileCache=sr,this.currentSelectedObject="",this.bindEvents()}dr.prototype.bindEvents=function(){const e=this,t=a()(window);e.$map.on("show_object_info",(t,i)=>{void 0!==i.objectId&&null!==i.objectId&&(e.selectMarker(i.objectId),e.currentSelectedObject=i.objectId)}),e.$map.on("hide_object_info",()=>e.unselectMarker()),a()(window).on("map_saved_object_event",(t,i)=>{e.savedObjects=i,e.changeIconToSavedObject()}),t.on("resize",p()(()=>{t.width()>=760?e.pixelDistance=lr:e.pixelDistance=rr},250,{leading:!1,trailing:!0}))},dr.prototype.getElement=function(e){const t=this,i=e.id;let s=Qo.isViewed(e.id,e.capped),a=document.createElement("div");a.setAttribute("data-marker",i);const n=t.savedObjects.find(e=>i===e);return e.capped?(a.setAttribute("class",t.createClassName(i," search-map-marker__multiple-objects",e.capped,s,n)),a.innerHTML="•"):e.count>1?(a.setAttribute("class",t.createClassName(i," search-map-marker__multiple-objects",e.capped,s,n)),a.innerHTML=e.count):a.setAttribute("class",t.createClassName(i," search-map-marker__default",e.capped,s,n)),!t.isInitialized&&t.isActive(i)&&(t.$map.trigger("show_object_info",{objectId:t.selectedMarker,initial:!0}),t.isInitialized=!0),a.style.left=e.x+"px",a.style.top=e.y+"px",a},dr.prototype.selectMarker=function(e){this.toolTips=this.$map.parent().find("[data-popover-travel-time-tip]"),this.toolTips.addClass("is-hidden"),this.unselectMarker(),this.selectedMarker=e,a()('[data-marker*="'+e+'"]').addClass("is-active")},dr.prototype.changeIconToSavedObject=function(){this.toolTips=this.$map.parent().find("[data-popover-travel-time-tip]"),this.toolTips.addClass("is-hidden"),this.selectedMarker=this.currentSelectedObject,a()('[data-marker*="'+this.selectedMarker+'"]').toggleClass("is-saved")},dr.prototype.unselectMarker=function(){const e=this,t=a()('[data-marker*="'+e.selectedMarker+'"]');e.selectedMarker&&!t.hasClass("capped")&&Qo.isViewed(e.selectedMarker)&&t.addClass("viewed"),e.selectedMarker=null,t.removeClass("is-active")},dr.prototype.unselectAllMarkers=function(){a()("[data-marker]").removeClass("is-active"),this.selectedMarker=null},dr.prototype.createClassName=function(e,t,i,s,a){let n=["search-map-marker",t+" "+this.config.markerDomainClass];return this.isActive(e)&&n.push("is-active"),i&&n.push("capped"),s&&n.push("viewed"),a&&n.push("is-saved"),n.join(" ")},dr.prototype.isActive=function(e){return e.indexOf(this.selectedMarker)>-1};var cr=mr;const hr=27,pr=37,ur=39;function mr(e,t){this.$element=a()(e),this.$map=a()("[data-map]"),this.objects=[],this.objectsAreVisible=!1,this.objectUrl=this.$element.attr("data-search-map-infowindow-object-url"),this.$objectList=this.$element.find("[data-search-map-infowindow-list]"),this.$navigation=this.$element.find("[data-search-map-infowindow-navigation]"),this.$previousButton=this.$navigation.find("[data-search-map-infowindow-previous]"),this.$nextButton=this.$navigation.find("[data-search-map-infowindow-next]"),this.slideshowIsInitialized=!1,this.currentSlide=0,this.$positionObject=this.$navigation.find("[data-search-map-infowindow-position]"),this.positionSeparator=this.$positionObject.attr("data-search-map-infowindow-separator"),this.mapTileCache=sr,this.parent=t,this.skipUpdate=!1,this.selectedObjectScreenPos=null,this.bindEvents()}mr.prototype.bindEvents=function(){const e=this;e.$map.on("show_object_info",(t,i)=>e.processEvent(i)),e.$map.on("hide_object_info",()=>e.hide()),e.$objectList.on("beforeChange",(t,i,s,a)=>e.updatePosition(a)),e.bindCloseButtonEvent()},mr.prototype.bindCloseButtonEvent=function(){const e=this;e.$element.on("click","[data-close-infowindow]",()=>{e.hide(),e.parent.recordMapState({id:null})})},mr.prototype.processEvent=function(e){const t=this;let i=null;if(t.selectedObjectScreenPos=null,t.currentSlide=0,e.initial){i=sr.getMarkerIdByPartial(e.objectId).split("-"),i.length>1&&(t.currentSlide=i.indexOf(e.objectId)),t.skipUpdate=!0}else i=e.objectId.split("-");let s=sr.getMarkerByPartial(i[0]);s&&(t.selectedObjectScreenPos=t.getSelectedScreenCoordinates(s)),t.loadObjectInfo(i)},mr.prototype.getSelectedScreenCoordinates=function(e){const t=window.google;let i=this.parent.map.getProjection().fromLatLngToPoint(this.parent.map.getBounds().getNorthEast()),s=this.parent.map.getProjection().fromLatLngToPoint(this.parent.map.getBounds().getSouthWest()),a=new t.maps.LatLng(e.lat,e.lng),n=Math.pow(2,this.parent.map.getZoom()),o=this.parent.map.getProjection().fromLatLngToPoint(a),r=new t.maps.Point((o.x-s.x)*n,(o.y-i.y)*n),l=this.parent.$element.offset();r.x+=l.left,r.y+=l.top;let d={w:22,h:28};return 14==this.parent.mapMarkerManager.pixelDistance?(r.x-=11,r.y-=28):(r.x-=9,r.y-=22,d={w:18,h:22}),{x1:r.x,y1:r.y,x2:r.x+d.w,y2:r.y+d.h}},mr.prototype.show=function(e){const t=this;t.$element.removeClass("measure"),t.objectsAreVisible||(t.$element.addClass("is-visible"),t.objectsAreVisible=!0),Object(Ee.a)(Oe.k,e)},mr.prototype.measure=function(e){const t=this,i=window.google;t.$element.addClass("measure");let s=t.$element.find(".search-map-infowindow__list"),a=s.offset(),n={w:s.width(),h:s.height()};if(a.left-=10,a.top-=69,n.w+=20,n.h+=89,null!==t.selectedObjectScreenPos){let s=t.selectedObjectScreenPos;if(s.x1>=a.left&&s.x1<=a.left+n.w&&s.y1>=a.top&&s.y1<=a.top+n.h){let n=s.y2-a.top-20;i.maps.event.addListenerOnce(this.parent.map,"idle",(function(){t.show(e)})),this.parent.mapEventProxy.forwardProxiedEvents(!1),this.parent.map.panBy(0,n),this.parent.mapEventProxy.forwardProxiedEvents(!0)}else t.show(e)}},mr.prototype.hide=function(){this.$element.removeClass("is-visible"),this.objectsAreVisible=!1,a()(document).off("keydown.keyupBinding")},mr.prototype.loadObjectInfo=function(e){const t=this;t.objects=t.getObjectList(e),t.$objectList.addClass("is-updating");let i=t.objects.join("-"),s=encodeURIComponent(t.parent.currentSearch),a=t.objectUrl.replace("{objectId}",i).replace("{searchQuery}",s);t.request&&t.request.abort(),t.request=Object(ne.a)({url:a,method:"GET",dataType:"JSON",timeout:3e4}),t.request.done(e=>{null!=e&&t.updateResults(e)}),t.request.fail(e=>{"abort"!==e.statusText&&t.isUpdated()})},mr.prototype.isUpdated=function(){const e=this;setTimeout(()=>{e.$objectList.removeClass("is-updating")},250)},mr.prototype.updateResults=function(e){const t=this,i=e.content,s=e.jsonTrackingContext;""!==i&&""!==s&&(t.removeSlickBinding(),t.$objectList.html(i),Xi.initialize(),ee.getAllInstances(qa),t.objects.length>1&&t.addSlickBinding(),a()(document).on("keyup.keyupBinding",e=>{e.keyCode==hr&&(t.parent.recordMapState({id:null}),t.parent.markerOverlay.hideObjectInfo())}),t.measure(s)),t.isUpdated()},mr.prototype.addSlickBinding=function(){const e=this;e.updatePosition(e.currentSlide),e.$objectList.slick({speed:250,cssEase:"ease",mobileFirst:!0,infinite:!1,useTransform:!0,touchThreshold:12,initialSlide:e.currentSlide||0,slidesToShow:1,slidesToScroll:1,nextArrow:e.$nextButton,prevArrow:e.$previousButton}),e.slideshowIsInitialized=!0,a()(document).on("keyup.keyupBinding",t=>{t.keyCode!=pr||t.altKey?t.keyCode!=ur||t.altKey||e.$objectList.slick("slickNext",!1):e.$objectList.slick("slickPrev",!1)}),e.$navigation.addClass("is-visible")},mr.prototype.removeSlickBinding=function(){const e=this;e.$navigation.removeClass("is-visible"),a()(document).off("keydown.keyupBinding"),e.slideshowIsInitialized&&(e.$objectList.slick("unslick"),e.slideshowIsInitialized=!1)},mr.prototype.updatePosition=function(e){const t=this;e<0&&(e=0);const i=parseInt(e,10)+1,s=t.objects.length,a=i+" "+t.positionSeparator+s;t.skipUpdate?t.skipUpdate=!1:t.parent.recordMapState({id:t.objects[i-1]}),t.$positionObject.text(a)},mr.prototype.getObjectList=function(e){return"string"==typeof e?e.split("-"):e};const gr={strokeWidth:15,opacity:.35};class fr{constructor(e,t){this.store=t||Dt.a,this.googleMap=e;const s=i(414).TgmGoogleMapsPolygonOverlay;this.TgmPolygonArray=i(174).PolygonArray,this.layer=new s(this.googleMap,gr),this.layer.setInverse(!0),this.connect=new _t.a(this.store,["ui.travelTimePolygon","ui.activeLocationId"]),this.subscribeToStore()}centerMapOnPolygon(e){const t=this.TgmPolygonArray.create(e,gr);this.bounds=t.getMaxBounds(),this.gBounds=new google.maps.LatLngBounds(this.bounds.southWest,this.bounds.northEast),this.googleMap.fitBounds(this.gBounds,0)}subscribeToStore(){this.connect.subscribe((e,t)=>{Object(Yt.b)(e)?e.ui.travelTimePolygon!==t.ui.travelTimePolygon&&(this.clearPolygon(),this.renderPolygon(e.ui.travelTimePolygon)):this.clearPolygon()})}renderPolygon(e){e&&(this.layer.setData(e),this.centerMapOnPolygon(e))}clearPolygon(){this.layer.setData(null)}}const vr=1,br=2,wr=3,$r=a()(window);class yr{constructor(e){this.$element=a()(e),this.$button=a()(e).find("[data-search-map-gps-controls-center]"),this.isGeoLocationSupported="geolocation"in navigator,this.gpsLocation=null,this.state=vr,this.bindEvents()}bindEvents(){this.$button.on("click",e=>{this.handleClick(e),this.registerGAEvents(e)}),$r.on("map_uncentered",()=>{this.state===br&&(this.state=vr,this.updateState())})}registerGAEvents(e){if(a()(e.target).hasClass("is-disabled")){const e="click-current-location-disabled-button";this.gaLogEvent(e)}else{const e="click-current-location";this.gaLogEvent(e)}}updateState(){this.isGeoLocationSupported&&(this.$button.removeClass("is-disabled").removeClass("is-centered"),this.state===wr?this.$button.addClass("is-disabled"):this.state===br&&(this.$button.addClass("is-centered"),$r.trigger("track_center_map",this.gpsLocation)))}handleClick(){this.isGeoLocationSupported&&navigator.geolocation.getCurrentPosition(this.geoSuccessHandler.bind(this),this.geoErrorHandler.bind(this))}geoSuccessHandler(e){this.gpsLocation={lat:e.coords.latitude,lng:e.coords.longitude},this.state=br,this.updateState();this.gaLogEvent("click-current-location-success")}geoErrorHandler(e){1===e.code?(this.state=wr,a()(document).trigger("gps-error-event",{type:"gps-access-denied-error"})):(this.state=vr,a()(document).trigger("gps-error-event",{type:"gps-general-error"})),this.updateState();this.gaLogEvent("click-current-location-error")}gaLogEvent(e){void 0!==window.gtmDataLayer&&gtmDataLayer.push({event:"GAEvent",eventCategory:"interactions-kaart",eventAction:e})}}a()("[data-search-map-gps-controls]").each((e,t)=>new yr(t));function kr(e){const t=this;t.bindToElements(e),t.bindEvents(),a()(window).on("sidebar-refresh",(function(){var e=a()("[data-search-map-content]");1==e.length&&(t.bindToElements(e),t.bindEvents())}))}kr.prototype.bindToElements=function(e){this.$element=a()(e),this.$map=a()("[data-map]"),this.url=this.$element.attr("data-search-map-content-url"),this.$autocomplete=this.$element.find("[data-autocomplete]"),this.$submitButton=this.$element.find("[data-search-map-content-submit-location]"),this.$geoIdentifier=this.$element.find('[data-instant-search-output="zoekboxHiddenValue"]'),this.$geo=a()("[data-instant-map-search]").find("#sidebar-autocomplete-identifier"),this.$mapOptionsLink=this.$element.find("[data-map-options]"),this.$mapOptionsList=this.$element.find("[data-map-type-select-top]")},kr.prototype.bindEvents=function(){const e=this;e.$autocomplete.on("searchqueryupdated",()=>e.submitLocation()),e.$submitButton.on("click",()=>e.submitLocation()),a()(document).on("resultsUpdated",()=>{e.$geo.val("no-update")}),e.$mapOptionsLink.on("click",()=>{e.openMapViewOptions()}),a()(document).on("close_view_type_box",()=>e.closeMapViewOptions()),a()(window).on("remove-tooltip-last-tip-event",()=>{this.toolTips=this.$element.parent().find("[data-popover]"),this.$toolTipNext=this.$element.find("[search-map-dismiss-travel-time-tip]"),this.toolTips.eq(2).addClass("is-hidden"),this.mobileTooltipArrow&&this.mobileTooltipArrow.addClass("is-hidden")}),a()(window).on("tooltip-last-tip-event",()=>{this.toolTips=this.$element.parent().find("[data-popover]"),this.$toolTipNext=this.$element.find("[search-map-dismiss-travel-time-tip]"),this.toolTips.eq(2).removeClass("is-hidden"),this.toolTips.eq(2).parent().find(".mobile-triangle-last-tip").removeClass("is-hidden"),this.$toolTipNext.on("click",()=>{Ne.a.setCookie("show-travel-time-tooltip-cookies",5),this.toolTips.eq(2).addClass("is-hidden"),this.toolTips.eq(2).parent().find(".mobile-triangle-last-tip").addClass("is-hidden")}),this.closeToolTipButton=this.toolTips.parent().find("[data-popover-close]"),this.mobileTooltipArrow=this.toolTips.parent().find("[data-tooltip-mobile-arrow]"),this.closeToolTipButton.on("click",()=>{this.mobileTooltipArrow.addClass("is-hidden")})})},kr.prototype.submitLocation=function(){const e=this,t=e.$geoIdentifier.val();""!==t&&"0"!==t&&e.changeCenterMap(t)},kr.prototype.changeCenterMap=function(e){this.$geo.val(e),this.$geo.trigger("change")},kr.prototype.openMapViewOptions=function(){this.$mapOptionsList.removeClass("is-hidden").addClass("is-visible")},kr.prototype.closeMapViewOptions=function(){this.$mapOptionsList.removeClass("is-visible").addClass("is-hidden")},a()("[data-search-map-content]").each((e,t)=>new kr(t));const Cr=a()(window);class Sr extends class{constructor(e,t){const i=this;i.$element=a()(e),i.$canvas=i.$element.find("[data-map-canvas]"),i.config=JSON.parse(i.$element.find("[data-map-config]").text()),i.isFullViewport=i.$element.is("[data-map-full-viewport]"),i.mapEventProxy=Go,i.map=null,i.mapState=null,i.tileSize=null,i.mapLoadedHandler=t||null,i.isTouchDevice=!1,i.$zoomIn=i.$element.find("[data-map-zoom-zoomin]"),i.$zoomOut=i.$element.find("[data-map-zoom-zoomout]"),i.$defaultMapTypeSelector=a()("[id^=search-map-type-default]"),i.$satelliteMapTypeSelector=a()("[id^=search-map-type-satellite]"),i.mapTypeEventLogger=new Vs,i.mapCreationEventLogger=new Hs,i.isFullViewport&&i.setCanvasHeight(),window.history.replaceState("push_state_set_by_funda",window.title),i.initialize(),i.bindEvents()}bindEvents(){const e=this;a()(document).on("change","[data-search-map-type-select]",t=>{e.switchMapType(t.currentTarget.value)})}initialize(){const e=this;Object(ys.a)().then((function(){e.create()}))}switchMapType(e){const t=this,i=window.google;switch(e){case"roadmap":t.map.setMapTypeId(i.maps.MapTypeId.ROADMAP),t.$defaultMapTypeSelector.prop("checked",!0);break;case"satellite":t.map.setMapTypeId(i.maps.MapTypeId.HYBRID),t.$satelliteMapTypeSelector.prop("checked",!0);break;default:t.map.setMapTypeId(i.maps.MapTypeId.ROADMAP),t.$defaultMapTypeSelector.prop("checked",!0)}t.updateGTMMapType(e)}updateGTMMapType(e){this.mapTypeEventLogger.log(e)}setCanvasHeight(){const e=Xo.height()-52;this.$element.css({height:e})}create(){const e=this,t=window.google;e.mapCreationEventLogger.log("search-on-map"),e.map=new t.maps.Map(e.$canvas[0],e.mapSettings()),e.tileSize=new t.maps.Size(256,256),e.mapEventProxy.setMapInstance(e.map),e.bindMapEvents();const i=Yo.getValueFromHash("center");!e.isValidLatlng(i)&&e.config.geo&&e.setMapToBounds(e.config.geo)}bindMapEvents(){const e=this;e.mapEventProxy.addListenerOnce("idle",()=>{e.$element.addClass("is-loaded"),null!==e.mapLoadedHandler&&e.mapLoadedHandler.apply(),e.recordMapState()}),e.zoomLimitHandlerId=e.mapEventProxy.addListener("zoom_changed",()=>{const t=e.map.getZoom();t>19?e.map.setZoom(19):t<8&&e.map.setZoom(8)}),e.$zoomIn.on("click",t=>{t.preventDefault();const i=e.map.getZoom();19!==i&&e.map.setZoom(i+1)}),e.$zoomOut.on("click",t=>{t.preventDefault();const i=e.map.getZoom();8!==i&&e.map.setZoom(i-1)}),e.$element.on("center_map_on",(t,i)=>e.setMapToBounds(i)),Xo.on("resize.map",p()((function(){e.isFullViewport&&e.setCanvasHeight(),e.updateCenterMap(),e.$element.trigger("close_view_type_box")}),250,{leading:!1,trailing:!0})).on("touchstart.map",(function(){e.setIsTouchDevice()}))}updateCenterMap(){window.google.maps.event.trigger(this.map,"resize"),this.map.setCenter(this.mapState.center)}recordMapState(e){const t=this;let i={center:t.map.getCenter(),zoom:t.map.getZoom(),id:null};if(void 0!==e&&"id"in e&&(i.id=e.id,e.id&&Qo.storeViewedId(e.id)),null!==t.mapState)Yo.updateHash(t.mapState,i);else{const e=Yo.getValueFromHash("id");null!==e&&""!==e&&(i.id=e)}t.mapState=i}setIsTouchDevice(){this.isTouchDevice=!0,this.$element.addClass("is-touch-device"),Xo.off("touchstart.map")}mapSettings(){const e=this.config,t=window.google;let i=null;const s=Yo.getValueFromHash("center");if(this.isValidLatlng(s)){const e=s.split(",");i={lat:parseFloat(e[0]),lng:parseFloat(e[1])}}else i={lat:e.lat,lng:e.lng};return{center:i,zoom:parseInt(Yo.getValueFromHash("zoom"),10)||10,draggableCursor:"default",draggingCursor:"default",gestureHandling:"greedy",disableDefaultUI:!0,clickableIcons:!1,zoomControlOptions:{style:t.maps.ZoomControlStyle.SMALL},styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}}isValidLatlng(e){if(null==e)return!1;return 0===e.search(/(^[0-9]{1,3}\.)([\d]+),([0-9]{1,3}\.)([\d]+)/g)}setMapToBounds(e){const t=window.google;this.map.panTo(new t.maps.LatLng((e.MaxYWgs+e.MinYWgs)/2,(e.MaxXWgs+e.MinXWgs)/2)),this.map.fitBounds(new t.maps.LatLngBounds(new t.maps.LatLng(e.MinYWgs,e.MinXWgs),new t.maps.LatLng(e.MaxYWgs,e.MaxXWgs))),this.recordMapState(),this.switchMapType("hybrid"===this.map.mapTypeId?"satellite":"roadmap")}}{constructor(e,t){super(e,(function(){i.savedObjectsURL=a()(document).find("[data-saved-objects-url]"),i.fetchSavedObjects(),i.mapEventProxy.removeListener(i.zoomLimitHandlerId),i.mapEventProxy.addListener("zoom_changed",()=>{i.verifyMapZoomLimit(i.map)}),i.mapEventProxy.addListener("idle",()=>{i.recordMapState()}),i.mapEventProxy.addListener("dragstart",()=>{i.trackedCenter&&(i.trackedCenter=null,Cr.trigger("map_uncentered"))}),i.$element.on("force_maptile_refresh",(e,t)=>{i.doNotEnforceZoomLevel=!t.isfinshed}),window.addEventListener("popstate",i.onMapPopState.bind(i),!1),a()("[data-search-map-infowindow]").each((e,t)=>{i.infoWindow=new cr(t,i)}),i.$element.on("zo_updated",(e,t)=>{i.currentSearch=t.zo}),Cr.on("track_center_map",(t,s)=>{i.trackedCenter=s;const a=new e.maps.LatLng(s.lat,s.lng);i.map.panTo(a),i.updateGpsMarker(a)}),a()(document).on("gps-error-event",(e,t)=>{i.hideGpsErrors(),"gps-general-error"===t.type&&i.$gpsGeneralError.find("[data-notification]").removeClass("is-hidden"),"gps-access-denied-error"===t.type&&i.$gpsAccessDeniedError.find("[data-notification]").removeClass("is-hidden")}),i.onPersonalPlaceMarkerClickedHandler=i.onPersonalPlaceMarkerClickedHandler.bind(i);const e=window.google;i.personalPlaceMarkers=new Ts(e.maps,i.map,null,null,i.onPersonalPlaceMarkerClickedHandler),i.travelTimePolygon=new fr(i.map,t)}));const i=this;i.doNotEnforceZoomLevel=!1,i.trackedCenter=null,i.centerMarker1=null,i.centerMarker2=null,i.mapEventProxy=Go,i.mapEvents=Yo,i.currentSearch=i.mapEvents.getCurrentSearchFromUrl(),this.gpsMarker=null,this.$gpsGeneralError=a()(document).find("[data-general-error]"),this.$gpsAccessDeniedError=a()(document).find("[data-access-denied-error]"),this.travelTimeSpinnerOverlay=a()(document).find("[data-travel-time-polygon-loading-overlay]"),this.$polygonErrorMessage=a()(document).find("[data-search-map-polygon-error]"),this.hideGpsErrors(),this.appSpinner=new Ke("[data-travel-time-spinner]"),this.store=t||Dt.a,this.connect=new _t.a(this.store,["ui.activeLocationId","ui.modalityAndTravelToggle","ui.showPolygonSpinner","ui.errorLoadingPolygon"]),this.subscribeToStore()}fetchSavedObjects(){const e=this,t=e.savedObjectsURL.attr("data-saved-objects-url");a.a.ajax({type:"GET",url:t}).fail(()=>{e.createOverlay([])}).done(t=>{const i=Array.isArray(t)?t:[];e.createOverlay(i)})}onPersonalPlaceMarkerClickedHandler(e){this.store.dispatch(Object(Ut.s)(e)),lt.travelTime(nt.SEARCH_MAP_CLICK_POI_MARKER,e)}subscribeToStore(){this.connect.subscribe((e,t)=>{const i=Object(Ya.a)(e);if(this.togglePolygonErrorMessage(e.ui.errorLoadingPolygon),Object(Yt.a)(e,t)&&Object(Yt.b)(e)||Object(Yt.d)(e,t)){this.logTravelTimeChangeEvent(e,t),this.store.dispatch(Object(Ut.A)(!0));const s=Object(Os.b)(e,i);this.store.dispatch(Object(Ut.n)(s,Object(Ya.b)(e)))}e.ui.showPolygonSpinner!==t.ui.showPolygonSpinner&&this.showLoadingSpinner(e.ui.showPolygonSpinner)})}togglePolygonErrorMessage(e){const t=this.$polygonErrorMessage.find("[data-notification]");e?(this.$polygonErrorMessage.removeClass("is-hidden"),t.removeClass("is-hidden")):(this.$polygonErrorMessage.addClass("is-hidden"),t.addClass("is-hidden"))}showLoadingSpinner(e){e?(this.travelTimePolygon.clearPolygon(),this.travelTimeSpinnerOverlay.removeClass("is-hidden"),this.appSpinner.show()):(this.travelTimeSpinnerOverlay.addClass("is-hidden"),this.appSpinner.hide())}createOverlay(e){const t=this;t.mapMarkerManager=new or(t.$element,t.config,e);const i={map:t.map,config:t.config,tileSize:t.tileSize,cluster:Yo.getValueFromHash("c")||0};t.markerOverlay=new ar(i,t.mapMarkerManager),t.map.overlayMapTypes.insertAt(0,t.markerOverlay),t.$element.on("show_object_info",(e,i)=>{let s=i.objectId;var a=s.split("-");a.length>1&&(s=a[0]),t.recordMapState({id:s})}),t.$element.on("hide_object_info",(e,i)=>{"no_object"===i.type&&t.recordMapState({id:null})})}verifyMapZoomLimit(e){if(this.doNotEnforceZoomLevel)return;const t=e.getZoom();t>19?e.setZoom(19):t<8&&e.setZoom(8)}onMapPopState(e){const t=this,i=window.google;if(e&&"push_state_set_by_funda"===e.state){t.mapEventProxy.forwardProxiedEvents(!1);let e=t.mapEvents.getValueFromHash("center"),a=t.mapEvents.getValueFromHash("zoom");if(e&&a){const e=t.mapEvents.getValueFromHash("center").split(","),s=new i.maps.LatLng(parseFloat(e[0])+.5,parseFloat(e[1])+.5);t.map.setCenter(s);const a=new i.maps.LatLng(parseFloat(e[0]),parseFloat(e[1]));t.map.setCenter(a),t.map.setZoom(parseInt(t.mapEvents.getValueFromHash("zoom"),10))}var s=t.mapEvents.getCurrentSearchFromUrl();s!==t.currentSearch&&(t.markerOverlay.refreshTiles(s),t.currentSearch=s,t.refreshSidebar(s));const n=t.mapEvents.getValueFromHash("id");null!==n&&""!==n?(t.mapMarkerManager.selectMarker(n),t.infoWindow.processEvent({initial:!0,objectId:n})):(t.mapMarkerManager.unselectAllMarkers(),t.infoWindow.hide()),t.mapEventProxy.forwardProxiedEvents(!0)}}refreshSidebar(e){a.a.ajax({type:"GET",url:"/kaartsidebar"+e,dataType:"text",success:function(e){a()("form").html(a()(e)),a()(window).trigger("sidebar-refresh")}})}hideGpsErrors(){this.$gpsGeneralError.find("[data-notification]").addClass("is-hidden"),this.$gpsAccessDeniedError.find("[data-notification]").addClass("is-hidden")}updateGpsMarker(e){const t=this;null===t.gpsMarker&&(t.gpsMarker={item1:new google.maps.Marker({icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#1285ff",fillOpacity:.2,strokeColor:"#1285ff",strokeOpacity:.6,strokeWeight:1,scale:40},map:t.map,clickable:!1}),item2:new google.maps.Marker({icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#1285ff",fillOpacity:1,strokeColor:"#ffffff",strokeOpacity:1,strokeWeight:1,scale:8},map:t.map,clickable:!1})}),t.gpsMarker.item1.setPosition(e),t.gpsMarker.item2.setPosition(e)}logTravelTimeChangeEvent(e,t){if(Object(Yt.f)(e,t)){const t=Object(Ya.d)(e);lt.travelTime(nt.SEARCH_MAP_SEARCH_MAP_SWITCH_MODALITY,t)}if(Object(Yt.g)(e,t)){const t=Object(Ya.e)(e);lt.travelTime(nt.SEARCH_MAP_SEARCH_MAP_SWITCH_TRAVEL_TIME,t)}}}a()("[data-search-map]").each((e,t)=>new Sr(t));class Tr{constructor(e,t){this.onToggleSelected=t,this.$element=a()(e),this.cookies=Ne.a,this.$closeButton=this.$element.find("[data-travel-mode-toggle-close]"),this.bindEvents(),this.toggleSelectedItem(),this.shouldShowTooltips=this.cookies.getCookie("show-travel-time-tooltip-cookies",0)<=2,this.shouldShowTooltips?this.initializeToolTips():this.hideMobileTravelTimeTooltip()}bindEvents(){this.$element.on("click","[data-travel-mode-toggle-item]",e=>{this.itemClicked(e)})}hideMobileTravelTimeTooltip(){this.toolTips=this.$element.parent().find("[data-popover]"),this.mobileTooltipArrow=this.toolTips.parent().find("[data-tooltip-mobile-arrow]"),this.mobileTooltipArrow.addClass("is-hidden")}initializeToolTips(){this.toolTips=this.$element.parent().find("[data-popover]"),this.mobileTooltipArrow=this.toolTips.parent().find("[data-tooltip-mobile-arrow]"),this.closeToolTip=this.$element.parent().find("[data-popover-close]"),this.closeToolTip.on("click",e=>{this.closeToolTipClick(e)}),this.$toolTipNext=this.$element.parent().find("[data-travel-time-next-tip]"),this.$toolTipNext.on("click",e=>{this.nextToolTipClick(e.target.getAttribute("data-travel-time-next-tip"))}),this.toolTips.eq(0).removeClass("is-hidden")}closeToolTipClick(){this.mobileTooltipArrow.addClass("is-hidden")}nextToolTipClick(e){1==e?(this.toolTips.eq(0).addClass("is-hidden"),this.toolTips.eq(1).removeClass("is-hidden"),this.toolTips.eq(0).parent().find(".mobile-triangle-first-tip").addClass("is-hidden"),this.toolTips.eq(1).parent().find(".mobile-triangle-second-tip").removeClass("is-hidden")):(this.toolTips.eq(0).addClass("is-hidden"),this.toolTips.eq(1).addClass("is-hidden"),this.toolTips.eq(0).parent().find(".mobile-triangle-first-tip").addClass("is-hidden"),this.toolTips.eq(1).parent().find(".mobile-triangle-second-tip").addClass("is-hidden"),a()(window).trigger("tooltip-last-tip-event"))}hideTravelTimeToolTip(){this.toolTips&&(this.toolTips.addClass("is-hidden"),this.closeToolTipClick())}itemClicked(e){if(this.hideTravelTimeToolTip(),this.$closeButton.addClass("icon-close-blue"),this.$closeButton.text(""),"LI"===e.currentTarget.tagName){const t={value:e.currentTarget.dataset.itemValue,key:e.currentTarget.dataset.itemKey};this.setAsActiveItem(t,e),this.$element.toggleClass("expanded")}}setAsActiveItem(e,t){"close"!==e.value?(this.$element.find(".is-active").removeClass("is-active"),this.$element.find(t.currentTarget).addClass("is-active"),this.setItemAsActive(t.target.textContent),this.onToggleSelected(e)):this.$element.hasClass("expanded")&&this.toggleSelectedItem()}toggleSelectedItem(){const e=this.$element.find(".is-active");this.setItemAsActive(e.text())}setItemAsActive(e){this.$closeButton.text(e),this.$closeButton.removeClass("icon-close-blue")}toggle(){this.toggleSelectedItem(),this.$element.removeClass("expanded")}}class Er{constructor(e,t){this.store=t||Dt.a,this.connect=new _t.a(this.store,["ui.activeLocationId","ui.modalityAndTravelToggle"]),this.cookies=Ne.a,this.onToggleSelect=this.onToggleSelect.bind(this),this.$element=a()(e),this.$modalityToggle=this.$element.find("[data-travel-mode-toggle-modality]"),this.$travelTimeToggle=this.$element.find("[data-travel-mode-toggle-travel-time]"),this.travelModeModalityToggle=new Tr(this.$modalityToggle,this.onToggleSelect),this.travelModeTravelTimeToggle=new Tr(this.$travelTimeToggle,this.onToggleSelect),this.subscribeToStore(),this.bindEvents(),this.setToolTipCookies()}subscribeToStore(){this.connect.subscribe(e=>{const t=Object(Yt.b)(e);this.showModalityAndTravelTimeToggle(t)})}setToolTipCookies(){let e=this.cookies.getCookie("show-travel-time-tooltip-cookies",0);e++,e<5&&this.cookies.setCookie("show-travel-time-tooltip-cookies",e)}bindEvents(){a()(document).bind("mouseup touchend",e=>{const t=a()("[data-travel-mode-toggle-zok-wrapper]");t.is(e.target)||0!==t.has(e.target).length||this.hideModalityAndTravelToggle()})}hideModalityAndTravelToggle(){this.travelModeModalityToggle.toggle(),this.travelModeTravelTimeToggle.toggle()}onToggleSelect(e){this.store.dispatch(Object(Ut.C)(e))}showModalityAndTravelTimeToggle(e){e?this.$element.removeClass("is-hidden"):this.$element.addClass("is-hidden")}}a()("[data-travel-mode-toggle-zok-wrapper]").each((e,t)=>new Er(t));function Or(e){this.$element=a()(e),this.$form=a()("[data-zoekwidget-results-link-form]"),this.$terms_input=a()("[data-zoekwidget-terms-input]"),this.$url_input=a()("[data-zoekwidget-results-link-input]"),this.$notification=this.$element.find("[zoekwidget-results-link-notification]"),this.bindEvents()}Or.prototype.bindEvents=function(){this.bindFormSubmitEvent()},Or.prototype.bindFormSubmitEvent=function(){const e=this;e.$form.on("submit",()=>{if(!e.$terms_input.is(":checked"))return e.displayError(e.$terms_input,"error-terms"),e.sendUrlUpdateFailedEvent(),!1;const t=e.$url_input.val();return e.validateUrl(t)?(e.verifyUrlOnserver(),!1):(e.displayError(e.$url_input,"error-url"),e.sendUrlUpdateFailedEvent(),!1)})},Or.prototype.displayError=function(e,t){this.$form.find(".error").removeClass("error"),e.addClass("error"),this.$form.addClass("has-error"),this.$notification.html(this.$form.data(t))},Or.prototype.hideError=function(){this.$form.find(".error").removeClass("error"),this.$notification.html("")},Or.prototype.verifyUrlOnserver=function(){var e=this.$form.attr("action")+"?ajax";a.a.post({url:e,data:this.$form.serialize(),success:this.handleServerResponse,context:this})},Or.prototype.handleServerResponse=function(e){const t=this;"OK"==e.Result?(t.hideError(),t.sendUrlUpdateSuccessEvent(e.PreviewUrl,e.Snippet)):(t.displayError(t.$url_input,e.Result),void 0!==window.gtmDataLayer&&window.gtmDataLayer.push({event:"customevent-zoekwidget","zoekwidget-inputurl":t.$url_input.val(),"zoekwidget-error":"geen valide zoekopdracht"}),t.sendUrlUpdateFailedEvent())},Or.prototype.sendUrlUpdateSuccessEvent=function(e,t){a()(window).trigger("urlupdatesuccessevent",{url:e,snippet:t})},Or.prototype.sendUrlUpdateFailedEvent=function(){a()(window).trigger("urlupdatefailedevent")},Or.prototype.validateUrl=function(e){return/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/.test(e)},a()("[data-zoekwidget-results-link]").each((e,t)=>new Or(t));function Ir(e){this.$element=a()(e),this.$updateButton=this.$element.find("#update-button"),this.$embeddedCode=this.$element.find("#zoekwidget-implementation__code"),this.$copyButton=this.$element.find("#zoekwidget-implementation__copy"),this.$urlInput=a()(".zoekwidget-results-link"),this.$url="",this.$successNotification=this.$element.find('[data-notification="successNotification"]'),this.$errorNotification=this.$element.find('[data-notification="errorNotification"]'),this.bindEvents()}Ir.prototype.bindEvents=function(){this.bindHandleUrlUpdateSuccessEvent(),this.bindHandleUrlUpdateFailedEvent(),this.bindCopyCodeEvent()},Ir.prototype.bindCopyCodeEvent=function(){const e=this;e.$copyButton.on("click",(function(){e.$embeddedCode.select();let t=document.execCommand("copy");e.showCopyNotification(t)}))},Ir.prototype.showCopyNotification=function(e){const t=this;e?t.$successNotification.trigger("show"):t.$errorNotification.trigger("show")},Ir.prototype.resetCopyNotification=function(){this.$successNotification.trigger("hide"),this.$errorNotification.trigger("hide")},Ir.prototype.bindHandleUrlUpdateSuccessEvent=function(){const e=this;a()(window).on("urlupdatesuccessevent",(t,i)=>{e.resetCopyNotification(),e.$url=i.url,e.showConfiguration(),e.updateIframeCode(i.snippet),e.loadPreview()})},Ir.prototype.bindHandleUrlUpdateFailedEvent=function(){const e=this;a()(window).on("urlupdatefailedevent",()=>{e.resetCopyNotification(),e.$url="",e.hideConfiguration(),e.updateIframeCode(""),e.loadPreview()})},Ir.prototype.updateIframeCode=function(e){this.$embeddedCode.val(e)},Ir.prototype.loadPreview=function(){this.sendUrlEvent(this.$url)},Ir.prototype.sendUrlEvent=function(e){a()(window).trigger("sentwidgetlink",{url:e})},Ir.prototype.showConfiguration=function(){this.$element.removeClass("is-hidden")},Ir.prototype.hideConfiguration=function(){this.$element.addClass("is-hidden")},a()("[data-zoekwidget-implementation]").each((e,t)=>new Ir(t));function xr(e){this.$element=a()(e),this.$fakeView=this.$element.find(".zoekwidget-preview__fake-view"),this.$embeddedView=this.$element.find(".zoekwidget-preview__embedded-view"),this.bindEvents()}xr.prototype.bindEvents=function(){this.bindListenIframeParametersEvent()},xr.prototype.bindListenIframeParametersEvent=function(){const e=this;a()(window).on("sentwidgetlink",(function(t,i){e.showEmbeddedPage(i)}))},xr.prototype.showEmbeddedPage=function(e){const t=a()("#widget-preview");t.attr("src",e.url),t.attr("width","100%"),t.attr("height","750px"),t.attr("scrolling","no"),this.switchViews(""==e.url)},xr.prototype.switchViews=function(e){const t=this;void 0!==t.$fakeView&&void 0!==t.$embeddedView.length&&1==t.$fakeView.length&&1==t.$embeddedView.length&&(e?(t.$fakeView.removeClass("is-hidden"),t.$embeddedView.addClass("is-hidden")):(t.$fakeView.addClass("is-hidden"),t.$embeddedView.removeClass("is-hidden")))},a()("[data-zoekwidget-preview]").each((e,t)=>new xr(t));function Lr(e){this.$element=a()(e),this.baseUrl=this.$element.attr("data-media-foto360-krpano-base-url")||"",this.src=this.$element.attr("data-media-foto360-krpano-source"),this.initKrpano(),a()(window).on("krpanohotspotclicked",(function(e,t){if(t.name){let e=new RegExp("([^/]+/$)|([^/]+$)"),i=window.location.href.replace(e,"360-foto-"+t.name);window.location.assign(i)}}))}Lr.prototype.initKrpano=function(){var e=this,t=document.createElement("div");t.id="media-foto360-krpano",e.$element.append(t);var i=function(t){e.krpano=t,t.set("basedir","")},s=-1!==window.location.search.indexOf("krpanodebug=true");ls()(e.baseUrl+"/assets/vendor-krpano.js",(function(t){t||embedpano({html5:"prefer",swf:e.baseUrl+"/assets/components/krpano-loader/krpano.swf",xml:e.src,target:"media-foto360-krpano",consolelog:s,onready:i})}))},a()("[data-media-foto360]").each((function(e,t){return new Lr(t)}))}}]);
//# sourceMappingURL=app.js.map